{"version":3,"sources":["webpack:///./src/services/oni-save/components/AbstractImportButton/index.ts","webpack:///./src/services/oni-save/components/AbstractImportButton/AbstractImportButton.tsx","webpack:///./src/services/oni-save/components/AbstractImportButton/dispatch-props.ts","webpack:///./src/components/DuplicantMenu/components/PasteMenuItem.tsx","webpack:///./src/services/oni-save/components/AbstractPasteButton/index.ts","webpack:///./src/services/oni-save/components/AbstractPasteButton/AbstractPasteButton.tsx","webpack:///./src/services/oni-save/components/AbstractPasteButton/state-props.ts","webpack:///./src/services/oni-save/selectors/copy-paste.ts","webpack:///./src/services/oni-save/components/AbstractPasteButton/dispatch-props.ts","webpack:///./src/pages/DuplicantEditorPage/index.ts","webpack:///./src/pages/DuplicantEditorPage/DuplicantEditorPage.tsx","webpack:///./src/services/oni-save/components/AbstractGameObject/AbstractGameObject.tsx","webpack:///./src/services/oni-save/components/AbstractGameObject/state-props.ts","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/index.ts","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/DuplicantEditor.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/DuplicantName.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/DuplicantPortrait.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Traits/index.ts","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Traits/Traits.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Traits/components/AddTraitButton.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Interests/index.ts","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Interests/Interests.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Interests/components/AddAptitudeButton.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Attributes/index.ts","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Attributes/Attributes.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Attributes/components/AttributeName.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Attributes/components/AttributeField.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Appearance/index.ts","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Appearance/Appearance.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Appearance/components/HeadPortrait.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Appearance/components/Portrait.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Jobs/index.ts","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Jobs/Jobs.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Effects/index.ts","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Effects/Effects.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Effects/components/AddEffectButton.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Effects/components/AddEffectDialog.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Health/index.ts","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Health/Health.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Health/components/Value.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantNotFound.tsx","webpack:///./src/pages/GeysersPage/index.ts","webpack:///./src/pages/GeysersPage/GeysersPage.tsx","webpack:///./src/pages/GeysersPage/components/GeyserListItem.tsx","webpack:///./src/services/oni-save/components/AbstractGeyserEditor/index.ts","webpack:///./src/services/oni-save/components/AbstractGeyserEditor/AbstractGeyserEditor.tsx","webpack:///./src/services/oni-save/components/AbstractGeyserEditor/state-props.ts","webpack:///./src/services/oni-save/components/AbstractGeyserEditor/dispatch-props.ts","webpack:///./src/pages/MaterialsPage/index.ts","webpack:///./src/pages/MaterialsPage/MaterialsPage.tsx","webpack:///./src/pages/MaterialsPage/components/MaterialsTable.tsx","webpack:///./src/services/oni-save/components/AbstractMaterialList/index.ts","webpack:///./src/services/oni-save/components/AbstractMaterialList/AbstractMaterialList.tsx","webpack:///./src/services/oni-save/components/AbstractMaterialList/state-props.ts","webpack:///./src/services/oni-save/components/AbstractMaterialList/dispatch-props.ts","webpack:///./src/pages/MaterialsPage/components/DeleteLooseButton.tsx","webpack:///./src/components/ConfirmationDialog.tsx","webpack:///./src/pages/SettingsPage/index.ts","webpack:///./src/pages/SettingsPage/SettingsPage.tsx","webpack:///./src/runtime-env.ts","webpack:///./src/history.ts","webpack:///./src/services/oni-save/utils.ts","webpack:///./src/services/oni-save/actions/load-onisave.ts","webpack:///./src/services/oni-save/selectors/loading-status.ts","webpack:///./src/store/store.ts","webpack:///./src/services/i18n/state.ts","webpack:///./src/services/i18n/i18n.ts","webpack:///./src/services/oni-save/actions/change-geyser-type.ts","webpack:///./src/services/oni-save/selectors/utils.ts","webpack:///./src/services/oni-save/actions/clone-duplicant.ts","webpack:///./src/services/oni-save/actions/copy-behaviors.ts","webpack:///./src/services/oni-save/actions/delete-loose-material.ts","webpack:///./src/services/oni-save/actions/load-example.ts","webpack:///./src/services/oni-save/actions/merge-behaviors.ts","webpack:///./src/services/oni-save/actions/paste-behaviors.ts","webpack:///./src/services/oni-save/actions/export-behaviors.ts","webpack:///./src/services/oni-save/worker-instance.ts","webpack:///./src/services/oni-save/actions/save-onisave.ts","webpack:///./src/services/oni-save/components/AbstractEditStatus/index.ts","webpack:///./src/services/oni-save/components/AbstractGameObjectList/index.ts","webpack:///./src/components/CommitTextField.tsx","webpack:///./src/index.tsx","webpack:///./src/services/oni-save/state.ts","webpack:///./src/style.css?8f34","webpack:///./src/style.css","webpack:///./src/debug.ts","webpack:///./src/store/reducer.ts","webpack:///./src/services/i18n/reducer/index.ts","webpack:///./src/services/i18n/reducer/set-language.ts","webpack:///./src/services/i18n/actions/set-language.ts","webpack:///./src/services/oni-save/selectors/save-game.ts","webpack:///./src/services/oni-save/reducer/index.ts","webpack:///./src/services/oni-save/reducer/change-geyser-type.ts","webpack:///./src/services/oni-save/components/AbstractBehaviorEditor/index.ts","webpack:///./src/services/oni-save/reducer/clone-duplicant.ts","webpack:///./src/services/oni-save/reducer/copy-behaviors.ts","webpack:///./src/services/oni-save/reducer/delete-looe-material.ts","webpack:///./src/services/oni-save/reducer/import-warn-checksum.ts","webpack:///./src/services/oni-save/reducer/load-example.ts","webpack:///./src/services/oni-save/reducer/merge-behaviors.ts","webpack:///./src/services/oni-save/reducer/modify-behavior.ts","webpack:///./src/services/oni-save/reducer/parse-progress.ts","webpack:///./src/services/oni-save/reducer/paste-behaviors.ts","webpack:///./src/services/oni-save/reducer/receive-onisave.ts","webpack:///./src/state/index.ts","webpack:///./src/store/saga.ts","webpack:///./src/services/oni-save/saga/index.ts","webpack:///./src/services/oni-save/saga/export-behaviors.ts","webpack:///./src/services/oni-save/saga/import-behaviors.ts","webpack:///./src/services/oni-save/saga/load-onisave.ts","webpack:///./src/services/oni-save/worker-messages.ts","webpack:///./src/services/oni-save/save-serializer.worker.ts","webpack:///./src/services/oni-save/saga/save-onisave.ts","webpack:///./src/store/devtool-sanitizer.ts","webpack:///./src/components/PageContainer.tsx","webpack:///./src/root.tsx","webpack:///./src/theme.ts","webpack:///./src/store/components/StoreProvider.tsx","webpack:///./src/services/i18n/components/I18NProvider.tsx","webpack:///./src/components/LoadingDialog.tsx","webpack:///./src/services/oni-save/components/AbstractLoadStatus/AbstractLoadStatus.tsx","webpack:///./src/services/oni-save/components/AbstractLoadStatus/state-props.ts","webpack:///./src/components/ImportWarningDialog.tsx","webpack:///./src/services/oni-save/components/AbstractImportWarningDialog/index.ts","webpack:///./src/services/oni-save/components/AbstractImportWarningDialog/AbstractImportWarningDialog.tsx","webpack:///./src/services/oni-save/components/AbstractImportWarningDialog/state-props.ts","webpack:///./src/services/oni-save/components/AbstractImportWarningDialog/dispatch-props.ts","webpack:///./src/routes.tsx","webpack:///./src/pages/OverviewPage/index.ts","webpack:///./src/pages/OverviewPage/OverviewPage.tsx","webpack:///./src/pages/OverviewPage/components/NoSave.tsx","webpack:///./src/components/Sidebar.tsx","webpack:///./src/components/Nav.tsx","webpack:///./src/components/ListItemLink.tsx","webpack:///./src/components/GithubButton.tsx","webpack:///./src/components/Appbar.tsx","webpack:///./src/components/SettingsButton.tsx","webpack:///./src/components/SaveModifiedChip.tsx","webpack:///./src/services/oni-save/components/AbstractEditStatus/AbstractEditStatus.tsx","webpack:///./src/services/oni-save/components/AbstractEditStatus/state-props.ts","webpack:///./src/components/SaveButton.tsx","webpack:///./src/services/oni-save/components/AbstractSaveButton/AbstractSaveButton.tsx","webpack:///./src/services/oni-save/components/AbstractSaveButton/state-props.ts","webpack:///./src/services/oni-save/components/AbstractSaveButton/dispatch-props.ts","webpack:///./src/components/BackButton/index.ts","webpack:///./src/components/BackButton/BackButton.tsx","webpack:///./src/components/BackButton/dispatch-props.ts","webpack:///./src/components/SaveExampleChip.tsx","webpack:///./src/components/LoadButton.tsx","webpack:///./src/services/oni-save/components/AbstractLoadButton/index.ts","webpack:///./src/services/oni-save/components/AbstractLoadButton/AbstractLoadButton.tsx","webpack:///./src/services/oni-save/components/AbstractLoadButton/state-props.ts","webpack:///./src/services/oni-save/components/AbstractLoadButton/dispatch-props.ts","webpack:///./src/components/LoadExampleButton/index.ts","webpack:///./src/components/LoadExampleButton/LoadExampleButton.tsx","webpack:///./src/components/LoadExampleButton/dispatch-props.ts","webpack:///./src/pages/OverviewPage/components/SaveOverview/index.ts","webpack:///./src/pages/OverviewPage/components/SaveOverview/SaveOverview.tsx","webpack:///./src/pages/OverviewPage/components/SaveOverview/state-props.ts","webpack:///./src/pages/OverviewPage/components/SaveError.tsx","webpack:///./src/pages/DuplicantsPage/index.ts","webpack:///./src/pages/DuplicantsPage/DuplicantsPage.tsx","webpack:///./src/pages/DuplicantsPage/components/DuplicantList.tsx","webpack:///./src/services/oni-save/components/AbstractGameObjectList/AbstractGameObjectList.tsx","webpack:///./src/services/oni-save/components/AbstractGameObjectList/state-props.ts","webpack:///./src/pages/DuplicantsPage/components/DuplicantListItem/index.ts","webpack:///./src/pages/DuplicantsPage/components/DuplicantListItem/DuplicantListItem.tsx","webpack:///./src/pages/DuplicantsPage/components/DuplicantListItem/components/DuplicantName.tsx","webpack:///./src/services/oni-save/components/AbstractBehaviorEditor/AbstractBehaviorEditor.tsx","webpack:///./src/utils.ts","webpack:///./src/services/oni-save/components/AbstractBehaviorEditor/state-props.ts","webpack:///./src/services/oni-save/components/AbstractBehaviorEditor/dispatch-props.ts","webpack:///./src/pages/DuplicantsPage/components/DuplicantListItem/components/DuplicantPortrait.tsx","webpack:///./node_modules/react-oni-duplicant/assets/duplicant/hair sync \\.png$","webpack:///./node_modules/react-oni-duplicant/assets/duplicant/headshape sync \\.png$","webpack:///./node_modules/react-oni-duplicant/assets/duplicant/eyes sync \\.png$","webpack:///./src/services/oni-save/actions/receive-onisave.ts","webpack:///./src/services/oni-save/components/AbstractLoadStatus/index.ts","webpack:///./src/services/oni-save/actions/import-behaviors.ts","webpack:///./src/services/oni-save/actions/modify-behavior.ts","webpack:///./node_modules/react-oni-duplicant/assets/duplicant/body sync \\.png$","webpack:///./src/services/oni-save/actions/parse-progress.ts","webpack:///./src/pages/DuplicantsPage/components/DuplicantListItem/components/DuplicantTraits.tsx","webpack:///./src/pages/DuplicantsPage/components/DuplicantListItem/components/DuplicantAttributes/index.ts","webpack:///./src/pages/DuplicantsPage/components/DuplicantListItem/components/DuplicantAttributes/DuplicantAttributes.tsx","webpack:///./src/pages/DuplicantsPage/components/DuplicantListItem/components/DuplicantAttributes/components/Attribute.tsx","webpack:///./src/pages/DuplicantsPage/components/DuplicantListItem/components/EditButton.tsx","webpack:///./src/components/ButtonLink.tsx","webpack:///./src/components/DuplicantMenu/DuplicantMenu.tsx","webpack:///./src/components/DuplicantMenu/components/CopyMenuItem.tsx","webpack:///./src/services/oni-save/components/AbstractCopyButton/index.ts","webpack:///./src/services/oni-save/components/AbstractCopyButton/AbstractCopyButton.tsx","webpack:///./src/components/RedirectIfNoSave.tsx","webpack:///./src/services/oni-save/components/AbstractCopyButton/dispatch-props.ts","webpack:///./src/components/DuplicantMenu/dispatch-props.ts","webpack:///./src/components/DuplicantMenu/components/ExportMenuItem.tsx","webpack:///./src/services/oni-save/components/AbstractExportButton/index.ts","webpack:///./src/services/oni-save/components/AbstractExportButton/AbstractExportButton.tsx","webpack:///./src/services/oni-save/components/AbstractExportButton/dispatch-props.ts"],"names":["AbstractImportButton_1","__importDefault","__webpack_require__","exports","default","React","__importStar","react_redux_1","dispatch_props_1","connect","_a","onImport","onComplete","children","inputRef","useRef","onClick","useCallback","current","click","createElement","Fragment","ref","style","display","type","accept","onChange","e","files","target","length","file","Children","only","import_behaviors_1","dispatch","props","importBehaviors","gameObjectId","MenuItem_1","AbstractPasteButton_1","onClose","disabled","availableBehaviors","onPaste","state_props_1","copy_paste_1","save_game_1","state","typesById","gameObjectTypesByIdSelector","copyPasteGameObjectTypeSelect","copyPasteAvailableBehaviorsSelector","utils_1","copyPasteDataSelector","createServiceSelector","copyPasteData","gameObjectType","Object","keys","behaviors","paste_behaviors_1","pasteBehaviors","DuplicantEditorPage_1","AbstractGameObject_1","RedirectIfNoSave_1","DuplicantEditor_1","DuplicantNotFound_1","match","params","Number","AbstractGameObject","_super","__extends","prototype","render","this","Component","gameObjectTypeSelector","react_i18next_1","styles_1","Divider_1","Paper_1","Typography_1","Tabs_1","Tab_1","PageContainer_1","DuplicantName_1","DuplicantPortrait_1","Traits_1","Interests_1","Attributes_1","Appearance_1","Jobs_1","Effects_1","Health_1","withStyles","theme","createStyles","root","paddingLeft","spacing","unit","paddingTop","flexDirection","width","height","divider","marginTop","marginBottom","nameRow","flexGrow","flexShrink","portraitRow","portraitRowColumn","marginRight","portraitRowTweakables","row","tabRow","marginLeft","tabContent","overflow","withTranslation","classes","t","_b","__read","useState","tab","setTab","title","back","className","variant","Trans","i18nKey","square","textColor","value","_","label","defaultValue","oni_save_parser_1","MinionIdentityEditor","ofType","MinionIdentityBehavior","templateData","name","react_oni_duplicant_1","AccessorizerEditor","AccessorizerBehavior","styles","portraitContainer","position","portrait","left","top","transform","transformOrigin","ordinalFromAccessory","guid","parts","split","DuplicantContainer","Body","ordinal","getAccessoryOfType","accessories","Guid","Head","Eyes","Hair","lodash_es_1","Chip_1","AbstractBehaviorEditor_1","AddTraitButton_1","TraitsEditor","AITraitsBehavior","CANDIDATE_TRAITS","AI_TRAIT_IDS","filter","x","flexWrap","chip","margin","onTemplateDataModify","TraitIds","availableTraits","difference","map","trait","i","key","toUpperCase","onDelete","newTraitIds","__spread","splice","onAddTrait","Menu_1","isOpen","setIsOpen","chipRef","color","clickable","open","anchorEl","sort","AddAptitudeButton_1","ResumeEditor","MinionResumeBehavior","AptitudeByRoleGroup","availableAptitudes","aptitude","hash","MinionRoleGroup","selectedAptitudes","aptitudeName","aptitudeIndex","findIndex","a","console","log","slice","onAddAptitude","getHashedString","aptitudeData","AttributeName_1","AttributeField_1","AttributesEditor","AIAttributeLevelsBehavior","PRIMARY_ATTRIBUTES","header","attributeList","padding","attributeItem","attributeInput","attributes","saveLoadLevels","attributeId","indexOf","component","CommitTextField_1","attrIndex","attr","level","onCommit","newLevels","__assign","HeadPortrait_1","Portrait_1","getOrdinalOfType","accessory","getAccessoryName","ordinalRange","Array","from","partList","partContainer","part","cursor","hairOrdinal","headOrdinal","eyesOrdinal","makeSetAccessory","preventDefault","stopPropagation","index","getIndexOfAccessoryType","accessoryMod","Accessory","padStart","String","hatHair","hairAlways","merge","setAccessory","bodyOrdinal","classnames_1","Table_1","TableHead_1","TableRow_1","TableCell_1","TableBody_1","Checkbox_1","MasteryByRoleID","align","data","job","mastery","scope","checked","AddEffectButton_1","EffectsEditor","AIEffectsBehavior","saveLoadEffects","id","timeRemaining","colSpan","Button_1","AddEffectDialog_1","isAddingEffect","setIsAddingEffect","currentEffects","availableEffects","AI_EFFECT_IDS","onAddEffect","Dialog_1","FormGroup_1","Select_1","DialogTitle_1","DialogContent_1","DialogActions_1","TextField_1","FormControl_1","InputLabel_1","cycleTime","selectedEffect","setSelectedEffect","_c","setTimeRemaining","aria-labelledby","htmlFor","inputProps","effect","Value_1","group","modifier","max","Slider_1","ModifierBehaviorEditor","MinionModifiersBehavior","valueLabel","amounts","extraData","onExtraDataModify","amount","find","aria-labeledby","min","setAmount","text","GeysersPage_1","AbstractGameObjectList_1","GeyserListItem_1","item","GeyserTypeNames","gameObjectIds","AbstractGeyserEditor_1","titleBar","titleControls","sliderSection","geyserType","emitRate","onChangeEmitRate","onChangeGeyserType","GeyserType","typeName","re_reselect_1","geyserConfigSelector","gameObjectsByIdSelector","gameObjectsById","gameObject","geyserBehavior","getBehavior","GeyserBehavior","configuration","config","typeId","rateRoll","modify_behavior_1","change_geyser_type_1","modifyBehavior","BehaviorDataTarget","Template","changeGeyserType","MaterialsPage_1","MaterialsTable_1","AbstractMaterialList_1","DeleteLooseButton_1","formatWeight","weight","Math","abs","g","toFixed","count","kg","materials","onDeleteLooseMaterial","materialName","looseGrams","looseCount","storedGrams","storedCount","reselect_1","MaterialGameObjectTypes","SimHashNames","materialsSelector","createSelector","saveGameSelector","saveGame","rowsByMaterial","addMaterialObject","loose","getMaterialRow","elementBehavior","PrimaryElementBehavior","Units","_d","__values","gameObjects","_e","next","done","_f","_g","storage","StorageBehavior","_h","_j","k","mapDispatchToProps","deleteLooseMaterial","IconButton_1","Delete_1","ConfirmationDialog_1","message","onConfirm","onCancel","setOpen","onCancelClick","onConfirmClick","SettingsPage_1","href","platform_1","osPlatform","os","family","OSType","test","isProd","history","createHashHistory","getGameObjectById","idBehavior","KPrefabIDBehavior","InstanceID","ACTION_ONISAVE_LOAD","loadOniSave","payload","loadingStatusSelector","services","oniSave","loadingStatus","loadingStatusMessageSelector","loadingProgressMessage","loadingErrorSelector","loadError","redux_1","redux_saga_1","connected_react_router_1","history_1","reducer_1","saga_1","devtool_sanitizer_1","store","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","actionSanitizer","stateSanitizer","actionsBlacklist","compose","sagaMiddleware","createStore","applyMiddleware","routerMiddleware","run","defaultI18NState","language","freeze","i18next_1","runtime_env_1","use","initReactI18next","init","fallbackLng","ns","defaultNS","resources","en","common","oni","debug","interpolation","escapeValue","react","wait","ACTION_ONISAVE_CHANGE_GEYSER_TYPE","isChangeGeyserTypeAction","action","selector","rootSelector","local","ACTION_ONISAVE_CLONE_DUPLICANT","cloneDuplicant","isCloneDuplicantAction","ACTION_ONISAVE_COPY_BEHAVIORS","copyBehaviors","isCopyBehaviorsAction","ACTION_ONISAVE_DELETE_LOOSE_MATERIAL","materialType","isDeleteLooseMaterialAction","ACTION_ONISAVE_LOAD_EXAMPLE","loadExampleSave","isLoadExampleSaveAction","ACTION_ONISAVE_MERGE_BEHAVIORS","mergeBehaviors","isMergeBehaviorsAction","ACTION_ONISAVE_PASTE_BEHAVIORS","isPasteBehaviorsAction","ACTION_ONISAVE_EXPORT_BEHAVIORS","exportBehaviors","worker_messages_1","worker","parseSave","onProgress","promise","Promise","reject","unhook","onerror","onmessage","error","RESPONSE_PROGRESS","RESPONSE_PARSE_SUCCESS","RESPONSE_PARSE_ERROR","jsonToError","postMessage","writeSave","RESPONSE_WRITE_SUCCESS","RESPONSE_WRITE_ERROR","ACTION_ONISAVE_SAVE","saveOniSave","fileName","AbstractEditStatus_1","CommitTextField","_this","apply","arguments","_onChange","setState","_onKeyPress","onKeyPress","_commit","_onBlur","onBlur","prevValue","__rest","editValue","ReactDOM","root_1","rootEl","document","getElementById","LoadingStatus","defaultOniSaveState","Idle","isMock","isModified","warnInputChecksum","content","module","options","hmr","insertInto","undefined","locals","push","store_1","receive_onisave_1","state_1","loadMockSave","mockSaveGame","receiveOniSaveSuccess","Loading","loadMockError","receiveOniSaveError","Error","reducer_2","routerReducer","connectRouter","servicesReducer","combineReducers","i18n","defaultAppState","router","set_language_1","i18n_1","ACTION_SET_LANGUAGE","lang","changeLanguage","setLanguage","isMockSelector","isSaveModifiedSelector","gameObjectGroupsSelector","groups","gameObjectTypesById","groups_1","groups_1_1","groups_2","groups_2_1","reduce_reducers_1","clone_duplicant_1","copy_behaviors_1","delete_looe_material_1","import_warn_checksum_1","load_example_1","merge_behaviors_1","parse_progress_1","immer_1","oni_save_parser_2","oldType","startsWith","draft","groupIndex","oldGroup","oldIndex","HashedString","newObjectType","newGroup","BEHAVIOR_BLACKLIST","sourceGameObject","minionObjects","newMinion","behavior","idBehaviorIndex","newPrefabId","settings","nextUniqueID","identityBehaviorIndex","behaviors_1","behaviors_1_1","behaviorName","delete_loose_material_1","materialsToRemove","isImportWarnChecksumAction","isImportConfirmAction","Ready","copyData","isModifyBehaviorAction","behaviorId","Extra","isParseProgressAction","isReceiveOniSaveAction","ACTION_RECEIVE_ONISAVE_BEGIN","meta","operation","clearExisting","ACTION_RECEIVE_ONISAVE_ERROR","ACTION_RECEIVE_ONISAVE_SUCCESS","Saving","state_2","effects_1","export_behaviors_1","load_onisave_1","save_onisave_1","fork","sent","object_hash_1","file_saver_1","handleExportBehaviorsActionSaga","select","exportBehavior","exportObject","algorithm","$sha1","JSON","stringify","blob","Blob","identity","saveAs","takeEvery","handleImportBehaviorsSaga","onError","call","readFile","contentStr","parse","sha1","contentSha1","warnImportChecksumSaga","put","reader","FileReader","onload","result","readAsText","importWarnChecksum","take","ACTION_ONISAVE_IMPORT_CONFIRM","ACTION_ONISAVE_IMPORT_BEHAVIORS","worker_instance_1","handleOniSaveLoad","receiveOniSaveBegin","loadChannel","eventChannel","emitter","then","END","catch","createLoadChannel","msg","parseProgress","readAsArrayBuffer","sendProgress","parseSaveSuccess","parseSaveError","errorToJson","stack","writeSaveSuccess","writeSaveError","obj","Worker","p","handleOniSaveWrite","saveName","gameInfo","baseName","saveChannel","createSaveChannel","sanitizeSave","save","world","streamed","ACTION_ONISAVE_PARSE_PROGRESS","Drawer_1","Sidebar_1","Appbar_1","sidebar","appRoot","minHeight","anchor","react_hot_loader_1","CssBaseline_1","MuiThemeProvider_1","theme_1","StoreProvider_1","I18NProvider_1","LoadingDialog_1","ImportWarningDialog_1","routes_1","hot","ConnectedRouter","createMuiTheme","typography","useNextVariants","palette","Provider","I18nextProvider","AbstractLoadStatus_1","verticalAlign","loadingText","textAlign","status","AbstractLoadStatus","errorMessage","loading_status_1","AbstractImportWarningDialog_1","description","whiteSpace","importConfirm","react_router_dom_1","OverviewPage_1","DuplicantsPage_1","Switch","Route","path","exact","Redirect","to","NoSave_1","SaveOverview_1","SaveError_1","LoadButton_1","LoadExampleButton_1","SaveFilePaths","windows","mac","linux","unknown","saveFilePath","Nav_1","GithubButton_1","toolbar","mixins","alignItems","ghButton","List_1","ListItemText_1","ListItemLink_1","NAV_ITEMS","saveRequired","disableSaveRequired","button","autoselect","react_router_1","ListItem_1","ListItemLink","_onClick","event","defaultPrevented","metaKey","altKey","ctrlKey","shiftKey","isModifierPressed","location","staticContext","selected","pathStartsWith","pathname","createHref","substr","withRouter","react_fontawesome_1","free_brands_svg_icons_1","FontAwesomeIcon","icon","faGithub","AppBar_1","Toolbar_1","SettingsButton_1","SaveModifiedChip_1","SaveButton_1","BackButton_1","SaveExampleChip_1","Settings_1","hasChanges","AbstractEditStatus","Save_1","AbstractSaveButton_1","AbstractSaveButton","disabledSelector","loadStatus","mapStateToProps","createStructuredSelector","ArrowBack_1","goBack","aria-label","AbstractLoadButton_1","AbstractLoadButton","_input","_onLoadFileInput","el","busyStatii","cycleCount","game","numberOfCycles","DuplicantList_1","duplicantList","DuplicantListItem_1","AbstractGameObjectList","gameObjectIdsSelector","typeProp","gameObjectsGroups","types","maybeArray","gameObjectsGroups_1","gameObjectsGroups_1_1","isNotNull","join","isArray","DuplicantTraits_1","DuplicantAttributes_1","EditButton_1","DuplicantMenu_1","portraitColumn","editButton","AbstractBehaviorEditor","_onTemplateDataModify","gameObjectBehavior","onModifyBehavior","_onExtraDataModify","ConnectedAbstractBehaviorEditor","attachProps","subComponents","c","forEach","behaviorSelector","./hair_001/hair_001_0.png","./hair_001/hair_001_1.png","./hair_001/hair_001_2.png","./hair_002/hair_002_0.png","./hair_002/hair_002_1.png","./hair_002/hair_002_2.png","./hair_003/hair_003_0.png","./hair_003/hair_003_1.png","./hair_003/hair_003_2.png","./hair_004/hair_004_0.png","./hair_004/hair_004_1.png","./hair_004/hair_004_2.png","./hair_005/hair_005_0.png","./hair_005/hair_005_1.png","./hair_005/hair_005_2.png","./hair_006/hair_006_0.png","./hair_006/hair_006_1.png","./hair_006/hair_006_2.png","./hair_007/hair_007_0.png","./hair_007/hair_007_1.png","./hair_007/hair_007_2.png","./hair_008/hair_008_0.png","./hair_008/hair_008_1.png","./hair_008/hair_008_2.png","./hair_009/hair_009_0.png","./hair_009/hair_009_1.png","./hair_009/hair_009_2.png","./hair_010/hair_010_0.png","./hair_010/hair_010_1.png","./hair_010/hair_010_2.png","./hair_011/hair_011_0.png","./hair_011/hair_011_1.png","./hair_011/hair_011_2.png","./hair_012/hair_012_0.png","./hair_012/hair_012_1.png","./hair_012/hair_012_2.png","./hair_013/hair_013_0.png","./hair_013/hair_013_1.png","./hair_013/hair_013_2.png","./hair_014/hair_014_0.png","./hair_014/hair_014_1.png","./hair_014/hair_014_2.png","./hair_015/hair_015_0.png","./hair_015/hair_015_1.png","./hair_015/hair_015_2.png","./hair_016/hair_016_0.png","./hair_016/hair_016_1.png","./hair_016/hair_016_2.png","./hair_017/hair_017_0.png","./hair_017/hair_017_1.png","./hair_017/hair_017_2.png","./hair_018/hair_018_0.png","./hair_018/hair_018_1.png","./hair_018/hair_018_2.png","./hair_019/hair_019_0.png","./hair_019/hair_019_1.png","./hair_019/hair_019_2.png","./hair_020/hair_020_0.png","./hair_020/hair_020_1.png","./hair_020/hair_020_2.png","./hair_021/hair_021_0.png","./hair_021/hair_021_1.png","./hair_021/hair_021_2.png","./hair_022/hair_022_0.png","./hair_022/hair_022_1.png","./hair_022/hair_022_2.png","./hair_023/hair_023_0.png","./hair_023/hair_023_1.png","./hair_023/hair_023_2.png","./hair_024/hair_024_0.png","./hair_024/hair_024_1.png","./hair_024/hair_024_2.png","./hair_025/hair_025_0.png","./hair_025/hair_025_1.png","./hair_025/hair_025_2.png","./hair_026/hair_026_0.png","./hair_026/hair_026_1.png","./hair_026/hair_026_2.png","./hair_027/hair_027_0.png","./hair_027/hair_027_1.png","./hair_027/hair_027_2.png","./hair_028/hair_028_0.png","./hair_028/hair_028_1.png","./hair_028/hair_028_2.png","./hair_029/hair_029_0.png","./hair_029/hair_029_1.png","./hair_029/hair_029_2.png","./hair_030/hair_030_0.png","./hair_030/hair_030_1.png","./hair_030/hair_030_2.png","./hair_031/hair_031_0.png","./hair_031/hair_031_1.png","./hair_031/hair_031_2.png","./hair_032/hair_032_0.png","./hair_032/hair_032_1.png","./hair_032/hair_032_2.png","./hair_033/hair_033_0.png","./hair_033/hair_033_1.png","./hair_033/hair_033_2.png","webpackContext","req","webpackContextResolve","o","code","resolve","./headshape_001/headshape_001_0.png","./headshape_001/headshape_001_1.png","./headshape_001/headshape_001_2.png","./headshape_001/headshape_001_3.png","./headshape_002/headshape_002_0.png","./headshape_002/headshape_002_1.png","./headshape_002/headshape_002_2.png","./headshape_002/headshape_002_3.png","./headshape_003/headshape_003_0.png","./headshape_003/headshape_003_1.png","./headshape_003/headshape_003_2.png","./headshape_003/headshape_003_3.png","./headshape_004/headshape_004_0.png","./headshape_004/headshape_004_1.png","./headshape_004/headshape_004_2.png","./headshape_004/headshape_004_3.png","./eyes_001/eyes_001_0.png","./eyes_001/eyes_001_1.png","./eyes_001/eyes_001_10.png","./eyes_001/eyes_001_11.png","./eyes_001/eyes_001_12.png","./eyes_001/eyes_001_13.png","./eyes_001/eyes_001_14.png","./eyes_001/eyes_001_15.png","./eyes_001/eyes_001_16.png","./eyes_001/eyes_001_17.png","./eyes_001/eyes_001_18.png","./eyes_001/eyes_001_19.png","./eyes_001/eyes_001_2.png","./eyes_001/eyes_001_20.png","./eyes_001/eyes_001_21.png","./eyes_001/eyes_001_22.png","./eyes_001/eyes_001_23.png","./eyes_001/eyes_001_24.png","./eyes_001/eyes_001_25.png","./eyes_001/eyes_001_26.png","./eyes_001/eyes_001_29.png","./eyes_001/eyes_001_3.png","./eyes_001/eyes_001_30.png","./eyes_001/eyes_001_31.png","./eyes_001/eyes_001_32.png","./eyes_001/eyes_001_33.png","./eyes_001/eyes_001_34.png","./eyes_001/eyes_001_35.png","./eyes_001/eyes_001_36.png","./eyes_001/eyes_001_37.png","./eyes_001/eyes_001_38.png","./eyes_001/eyes_001_39.png","./eyes_001/eyes_001_4.png","./eyes_001/eyes_001_5.png","./eyes_001/eyes_001_6.png","./eyes_001/eyes_001_7.png","./eyes_001/eyes_001_8.png","./eyes_001/eyes_001_9.png","./eyes_002/eyes_002_0.png","./eyes_002/eyes_002_1.png","./eyes_002/eyes_002_10.png","./eyes_002/eyes_002_11.png","./eyes_002/eyes_002_12.png","./eyes_002/eyes_002_13.png","./eyes_002/eyes_002_14.png","./eyes_002/eyes_002_15.png","./eyes_002/eyes_002_16.png","./eyes_002/eyes_002_17.png","./eyes_002/eyes_002_18.png","./eyes_002/eyes_002_19.png","./eyes_002/eyes_002_2.png","./eyes_002/eyes_002_20.png","./eyes_002/eyes_002_21.png","./eyes_002/eyes_002_22.png","./eyes_002/eyes_002_23.png","./eyes_002/eyes_002_24.png","./eyes_002/eyes_002_25.png","./eyes_002/eyes_002_26.png","./eyes_002/eyes_002_29.png","./eyes_002/eyes_002_3.png","./eyes_002/eyes_002_30.png","./eyes_002/eyes_002_31.png","./eyes_002/eyes_002_32.png","./eyes_002/eyes_002_33.png","./eyes_002/eyes_002_34.png","./eyes_002/eyes_002_35.png","./eyes_002/eyes_002_36.png","./eyes_002/eyes_002_37.png","./eyes_002/eyes_002_38.png","./eyes_002/eyes_002_39.png","./eyes_002/eyes_002_4.png","./eyes_002/eyes_002_5.png","./eyes_002/eyes_002_6.png","./eyes_002/eyes_002_7.png","./eyes_002/eyes_002_8.png","./eyes_002/eyes_002_9.png","./eyes_003/eyes_003_0.png","./eyes_003/eyes_003_1.png","./eyes_003/eyes_003_10.png","./eyes_003/eyes_003_11.png","./eyes_003/eyes_003_12.png","./eyes_003/eyes_003_13.png","./eyes_003/eyes_003_14.png","./eyes_003/eyes_003_15.png","./eyes_003/eyes_003_16.png","./eyes_003/eyes_003_17.png","./eyes_003/eyes_003_18.png","./eyes_003/eyes_003_19.png","./eyes_003/eyes_003_2.png","./eyes_003/eyes_003_20.png","./eyes_003/eyes_003_21.png","./eyes_003/eyes_003_22.png","./eyes_003/eyes_003_23.png","./eyes_003/eyes_003_24.png","./eyes_003/eyes_003_25.png","./eyes_003/eyes_003_26.png","./eyes_003/eyes_003_29.png","./eyes_003/eyes_003_3.png","./eyes_003/eyes_003_30.png","./eyes_003/eyes_003_31.png","./eyes_003/eyes_003_32.png","./eyes_003/eyes_003_33.png","./eyes_003/eyes_003_34.png","./eyes_003/eyes_003_35.png","./eyes_003/eyes_003_36.png","./eyes_003/eyes_003_37.png","./eyes_003/eyes_003_38.png","./eyes_003/eyes_003_39.png","./eyes_003/eyes_003_4.png","./eyes_003/eyes_003_5.png","./eyes_003/eyes_003_6.png","./eyes_003/eyes_003_7.png","./eyes_003/eyes_003_8.png","./eyes_003/eyes_003_9.png","./eyes_004/eyes_004_0.png","./eyes_004/eyes_004_1.png","./eyes_004/eyes_004_10.png","./eyes_004/eyes_004_11.png","./eyes_004/eyes_004_12.png","./eyes_004/eyes_004_13.png","./eyes_004/eyes_004_14.png","./eyes_004/eyes_004_15.png","./eyes_004/eyes_004_16.png","./eyes_004/eyes_004_17.png","./eyes_004/eyes_004_18.png","./eyes_004/eyes_004_19.png","./eyes_004/eyes_004_2.png","./eyes_004/eyes_004_20.png","./eyes_004/eyes_004_21.png","./eyes_004/eyes_004_22.png","./eyes_004/eyes_004_23.png","./eyes_004/eyes_004_24.png","./eyes_004/eyes_004_25.png","./eyes_004/eyes_004_26.png","./eyes_004/eyes_004_29.png","./eyes_004/eyes_004_3.png","./eyes_004/eyes_004_30.png","./eyes_004/eyes_004_31.png","./eyes_004/eyes_004_32.png","./eyes_004/eyes_004_33.png","./eyes_004/eyes_004_34.png","./eyes_004/eyes_004_35.png","./eyes_004/eyes_004_36.png","./eyes_004/eyes_004_37.png","./eyes_004/eyes_004_38.png","./eyes_004/eyes_004_39.png","./eyes_004/eyes_004_4.png","./eyes_004/eyes_004_5.png","./eyes_004/eyes_004_6.png","./eyes_004/eyes_004_7.png","./eyes_004/eyes_004_8.png","./eyes_004/eyes_004_9.png","./eyes_005/eyes_005_0.png","./eyes_005/eyes_005_1.png","./eyes_005/eyes_005_10.png","./eyes_005/eyes_005_11.png","./eyes_005/eyes_005_12.png","./eyes_005/eyes_005_13.png","./eyes_005/eyes_005_14.png","./eyes_005/eyes_005_15.png","./eyes_005/eyes_005_16.png","./eyes_005/eyes_005_17.png","./eyes_005/eyes_005_18.png","./eyes_005/eyes_005_19.png","./eyes_005/eyes_005_2.png","./eyes_005/eyes_005_20.png","./eyes_005/eyes_005_21.png","./eyes_005/eyes_005_22.png","./eyes_005/eyes_005_23.png","./eyes_005/eyes_005_24.png","./eyes_005/eyes_005_25.png","./eyes_005/eyes_005_26.png","./eyes_005/eyes_005_29.png","./eyes_005/eyes_005_3.png","./eyes_005/eyes_005_30.png","./eyes_005/eyes_005_31.png","./eyes_005/eyes_005_32.png","./eyes_005/eyes_005_33.png","./eyes_005/eyes_005_34.png","./eyes_005/eyes_005_35.png","./eyes_005/eyes_005_36.png","./eyes_005/eyes_005_37.png","./eyes_005/eyes_005_38.png","./eyes_005/eyes_005_39.png","./eyes_005/eyes_005_4.png","./eyes_005/eyes_005_5.png","./eyes_005/eyes_005_6.png","./eyes_005/eyes_005_7.png","./eyes_005/eyes_005_8.png","./eyes_005/eyes_005_9.png","ACTION_ONISAVE_IMPORT_WARN_CHECKSUM","doImport","ACTION_ONISAVE_MODIFY_BEHAVIOR","./body_001/body_001_0.png","./body_001/body_001_1.png","./body_001/body_001_10.png","./body_001/body_001_11.png","./body_001/body_001_12.png","./body_001/body_001_2.png","./body_001/body_001_20.png","./body_001/body_001_21.png","./body_001/body_001_22.png","./body_001/body_001_23.png","./body_001/body_001_24.png","./body_001/body_001_3.png","./body_001/body_001_4.png","./body_001/body_001_5.png","./body_002/body_002_0.png","./body_002/body_002_1.png","./body_002/body_002_10.png","./body_002/body_002_11.png","./body_002/body_002_12.png","./body_002/body_002_2.png","./body_002/body_002_20.png","./body_002/body_002_21.png","./body_002/body_002_22.png","./body_002/body_002_23.png","./body_002/body_002_24.png","./body_002/body_002_3.png","./body_002/body_002_4.png","./body_002/body_002_5.png","./body_003/body_003_0.png","./body_003/body_003_1.png","./body_003/body_003_10.png","./body_003/body_003_11.png","./body_003/body_003_12.png","./body_003/body_003_2.png","./body_003/body_003_20.png","./body_003/body_003_21.png","./body_003/body_003_22.png","./body_003/body_003_23.png","./body_003/body_003_24.png","./body_003/body_003_3.png","./body_003/body_003_4.png","./body_003/body_003_5.png","./body_004/body_004_0.png","./body_004/body_004_1.png","./body_004/body_004_10.png","./body_004/body_004_11.png","./body_004/body_004_12.png","./body_004/body_004_2.png","./body_004/body_004_20.png","./body_004/body_004_21.png","./body_004/body_004_22.png","./body_004/body_004_23.png","./body_004/body_004_24.png","./body_004/body_004_3.png","./body_004/body_004_4.png","./body_004/body_004_5.png","Attribute_1","Error_1","AttributeEditor","attribute","Edit_1","ButtonLink_1","size","ButtonLink","isModifierEvent","MoreVert_1","CopyMenuItem_1","ExportMenuItem_1","PasteMenuItem_1","setAnchorEl","onOpen","currentTarget","aria-owns","aria-haspopup","Boolean","AbstractCopyButton_1","copyTargets","targets","FormControlLabel_1","onCopy","isDialogOpen","setDialogOpen","selectedTargets","setSelectedTargets","close","airia-labeledby","control","removeTarget","autoFocus","AbstractExportButton_1","exportTargets","onExport"],"mappings":"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C,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,KAIA,SAAAC,EAAAC,GACA,IAAAxrB,EAAAyrB,EAAAD,GACA,OAAA/9B,EAAAuS,GAEA,SAAAyrB,EAAAD,GACA,IAAA/9B,EAAAi+B,EAAAryB,EAAAmyB,GAAA,CACA,IAAAr8B,EAAA,IAAAkjB,MAAA,uBAAAmZ,EAAA,KAEA,MADAr8B,EAAAw8B,KAAA,mBACAx8B,EAEA,OAAAkK,EAAAmyB,GAEAD,EAAAp6B,KAAA,WACA,OAAAD,OAAAC,KAAAkI,IAEAkyB,EAAAK,QAAAH,EACApa,EAAA3jB,QAAA69B,EACAA,EAAAvrB,GAAA,yBCxHA,IAAA3G,EAAA,CACAwyB,sCAAA,IACAC,sCAAA,IACAC,sCAAA,IACAC,sCAAA,IACAC,sCAAA,IACAC,sCAAA,IACAC,sCAAA,IACAC,sCAAA,IACAC,sCAAA,IACAC,sCAAA,IACAC,sCAAA,IACAC,sCAAA,IACAC,sCAAA,IACAC,sCAAA,IACAC,sCAAA,IACAC,sCAAA,KAIA,SAAArB,EAAAC,GACA,IAAAxrB,EAAAyrB,EAAAD,GACA,OAAA/9B,EAAAuS,GAEA,SAAAyrB,EAAAD,GACA,IAAA/9B,EAAAi+B,EAAAryB,EAAAmyB,GAAA,CACA,IAAAr8B,EAAA,IAAAkjB,MAAA,uBAAAmZ,EAAA,KAEA,MADAr8B,EAAAw8B,KAAA,mBACAx8B,EAEA,OAAAkK,EAAAmyB,GAEAD,EAAAp6B,KAAA,WACA,OAAAD,OAAAC,KAAAkI,IAEAkyB,EAAAK,QAAAH,EACApa,EAAA3jB,QAAA69B,EACAA,EAAAvrB,GAAA,yBCrCA,IAAA3G,EAAA,CACAwzB,4BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA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","file":"client.7765566ffaab3e1f8574.bundle.js","sourcesContent":["import AbstractImportButton from \"./AbstractImportButton\";\r\nexport default AbstractImportButton;\r\nexport * from \"./props\";\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { AbstractImportButtonProps } from \"./props\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./dispatch-props\";\r\n\r\ntype Props = AbstractImportButtonProps & DispatchProps;\r\nconst AbstractImportButton: React.SFC<Props> = ({\r\n  onImport,\r\n  onComplete,\r\n  children\r\n}) => {\r\n  const inputRef = React.useRef<HTMLInputElement>(null);\r\n\r\n  // Click handler for parent button.\r\n  //  Opens the choose file dialog.\r\n  const onClick = React.useCallback(\r\n    () => inputRef.current && inputRef.current.click(),\r\n    [inputRef]\r\n  );\r\n\r\n  // Change event for file input.\r\n  //  Takes the selected file and processes it for import.\r\n  const onFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const files = e.target.files;\r\n    if (!files || files.length === 0) {\r\n      return;\r\n    }\r\n\r\n    const file = files[0];\r\n\r\n    onImport(file);\r\n    onComplete();\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <input\r\n        ref={inputRef}\r\n        style={{ display: \"none\" }}\r\n        type=\"file\"\r\n        accept=\".json\"\r\n        onChange={onFileChange}\r\n      />\r\n      {React.Children.only(children({ onClick }))}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(AbstractImportButton);\r\n","import { AbstractImportButtonProps } from \"./props\";\r\nimport { importBehaviors } from \"../../actions/import-behaviors\";\r\n\r\nconst mapDispatchToProps = function(\r\n  dispatch: Function,\r\n  props: AbstractImportButtonProps\r\n) {\r\n  return {\r\n    onImport: (file: File) =>\r\n      dispatch(importBehaviors(props.gameObjectId, file))\r\n  };\r\n};\r\nexport type DispatchProps = ReturnType<typeof mapDispatchToProps>;\r\nexport default mapDispatchToProps;\r\n","import * as React from \"react\";\r\n\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nimport AbstractPasteButton from \"@/services/oni-save/components/AbstractPasteButton\";\r\n\r\nexport interface PasteMenuItemProps {\r\n  gameObjectId: number;\r\n  onClose(): void;\r\n}\r\n\r\ntype Props = PasteMenuItemProps;\r\n\r\nconst PasteMenuItem: React.SFC<Props> = ({ gameObjectId, onClose }) => (\r\n  <AbstractPasteButton gameObjectId={gameObjectId}>\r\n    {({ disabled, availableBehaviors, onPaste }) => (\r\n      <MenuItem\r\n        disabled={disabled}\r\n        onClick={() => {\r\n          onClose();\r\n          onPaste(availableBehaviors);\r\n        }}\r\n      >\r\n        Paste\r\n      </MenuItem>\r\n    )}\r\n  </AbstractPasteButton>\r\n);\r\n\r\nexport default PasteMenuItem;\r\n","import AbstractPasteButton from \"./AbstractPasteButton\";\r\nexport default AbstractPasteButton;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { AbstractPasteButtonProps } from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./state-props\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./dispatch-props\";\r\n\r\ntype Props = AbstractPasteButtonProps & StateProps & DispatchProps;\r\nconst AbstractPasteButton: React.SFC<Props> = ({\r\n  availableBehaviors,\r\n  disabled,\r\n  onPaste,\r\n  children\r\n}) => (\r\n  <>\r\n    {React.Children.only(children({ availableBehaviors, disabled, onPaste }))}\r\n  </>\r\n);\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(AbstractPasteButton);\r\n","import { AppState } from \"@/state\";\r\n\r\nimport {\r\n  copyPasteGameObjectTypeSelect,\r\n  copyPasteAvailableBehaviorsSelector\r\n} from \"../../selectors/copy-paste\";\r\n\r\nimport { gameObjectTypesByIdSelector } from \"../../selectors/save-game\";\r\n\r\nimport { AbstractPasteButtonProps } from \"./props\";\r\n\r\nexport default function mapStateToProps(\r\n  state: AppState,\r\n  props: AbstractPasteButtonProps\r\n) {\r\n  const typesById = gameObjectTypesByIdSelector(state);\r\n  return {\r\n    disabled:\r\n      !typesById[props.gameObjectId] ||\r\n      copyPasteGameObjectTypeSelect(state) !== typesById[props.gameObjectId],\r\n    availableBehaviors: copyPasteAvailableBehaviorsSelector(state) || []\r\n  };\r\n}\r\nexport type StateProps = ReturnType<typeof mapStateToProps>;\r\n","import { createServiceSelector } from \"./utils\";\r\n\r\nimport { OniSaveState } from \"../state\";\r\n\r\nexport const copyPasteDataSelector = createServiceSelector(\r\n  (state: OniSaveState) => state.copyPasteData\r\n);\r\n\r\nexport const copyPasteGameObjectTypeSelect = createServiceSelector(\r\n  (state: OniSaveState) => {\r\n    if (!state.copyPasteData) {\r\n      return null;\r\n    }\r\n    return state.copyPasteData.gameObjectType;\r\n  }\r\n);\r\n\r\nexport const copyPasteAvailableBehaviorsSelector = createServiceSelector(\r\n  (state: OniSaveState) => {\r\n    if (!state.copyPasteData) {\r\n      return null;\r\n    }\r\n    return Object.keys(state.copyPasteData.behaviors);\r\n  }\r\n);\r\n","import { AbstractPasteButtonProps } from \"./props\";\r\nimport { pasteBehaviors } from \"../../actions/paste-behaviors\";\r\n\r\nconst mapDispatchToProps = function(\r\n  dispatch: Function,\r\n  props: AbstractPasteButtonProps\r\n) {\r\n  return {\r\n    onPaste: (behaviors: string[]) =>\r\n      dispatch(pasteBehaviors(props.gameObjectId, behaviors))\r\n  };\r\n};\r\nexport type DispatchProps = ReturnType<typeof mapDispatchToProps>;\r\nexport default mapDispatchToProps;\r\n","import DuplicantEditorPage from \"./DuplicantEditorPage\";\r\nexport default DuplicantEditorPage;\r\n","import * as React from \"react\";\r\n\r\nimport { RouteComponentProps } from \"react-router\";\r\n\r\nimport AbstractGameObject from \"@/services/oni-save/components/AbstractGameObject/AbstractGameObject\";\r\n\r\nimport RedirectIfNoSave from \"@/components/RedirectIfNoSave\";\r\n\r\nimport DuplicantEditor from \"./components/DuplicantEditor\";\r\nimport DuplicantNotFound from \"./components/DuplicantNotFound\";\r\n\r\nexport interface DuplicantEditorRouteParams {\r\n  gameObjectId: string;\r\n}\r\n\r\nexport interface DuplicantEditorProps\r\n  extends RouteComponentProps<DuplicantEditorRouteParams> {}\r\n\r\ntype Props = DuplicantEditorProps;\r\nconst DuplicantEditorPage: React.SFC<Props> = ({\r\n  match: {\r\n    params: { gameObjectId }\r\n  }\r\n}) => (\r\n  <AbstractGameObject gameObjectId={Number(gameObjectId)}>\r\n    {({ gameObjectType }) => (\r\n      <React.Fragment>\r\n        <RedirectIfNoSave />\r\n\r\n        {gameObjectType === \"Minion\" && (\r\n          <DuplicantEditor gameObjectId={Number(gameObjectId)} />\r\n        )}\r\n        {gameObjectType !== \"Minion\" && <DuplicantNotFound />}\r\n      </React.Fragment>\r\n    )}\r\n  </AbstractGameObject>\r\n);\r\nexport default DuplicantEditorPage;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { AbstractGameObjectProps } from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./state-props\";\r\n\r\ntype Props = AbstractGameObjectProps & StateProps;\r\nclass AbstractGameObject extends React.Component<Props> {\r\n  render() {\r\n    const { children, gameObjectType } = this.props;\r\n    return React.Children.only(children({ gameObjectType }));\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(AbstractGameObject);\r\n","import { gameObjectTypesByIdSelector } from \"../../selectors/save-game\";\r\n\r\nimport { AbstractGameObjectProps } from \"./props\";\r\nimport { AppState } from \"@/state\";\r\n\r\nconst gameObjectTypeSelector = (\r\n  state: AppState,\r\n  props: AbstractGameObjectProps\r\n) => {\r\n  const typesById = gameObjectTypesByIdSelector(state);\r\n  const type = typesById[props.gameObjectId];\r\n  if (!type) {\r\n    return null;\r\n  }\r\n  return type;\r\n};\r\n\r\nfunction mapDispatchToProps(state: AppState, props: AbstractGameObjectProps) {\r\n  return {\r\n    gameObjectType: gameObjectTypeSelector(state, props)\r\n  };\r\n}\r\nexport type StateProps = ReturnType<typeof mapDispatchToProps>;\r\nexport default mapDispatchToProps;\r\n","import DuplicantEditor from \"./DuplicantEditor\";\r\nexport default DuplicantEditor;\r\n","import * as React from \"react\";\r\n\r\nimport { WithTranslation, withTranslation, Trans } from \"react-i18next\";\r\n\r\nimport { Theme, createStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\n\r\nimport PageContainer from \"@/components/PageContainer\";\r\n\r\nimport DuplicantName from \"./components/DuplicantName\";\r\nimport DuplicantPortrait from \"./components/DuplicantPortrait\";\r\nimport Traits from \"./components/Traits\";\r\nimport Aptitudes from \"./components/Interests\";\r\nimport Attributes from \"./components/Attributes\";\r\nimport Appearance from \"./components/Appearance\";\r\nimport Jobs from \"./components/Jobs\";\r\nimport Effects from \"./components/Effects\";\r\nimport Health from \"./components/Health\";\r\n\r\nexport interface DuplicantEditorProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      paddingLeft: theme.spacing.unit,\r\n      paddingTop: theme.spacing.unit,\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      width: \"100%\",\r\n      height: \"100%\"\r\n    },\r\n    divider: {\r\n      marginTop: theme.spacing.unit,\r\n      marginBottom: theme.spacing.unit\r\n    },\r\n    nameRow: {\r\n      flexGrow: 0,\r\n      flexShrink: 0\r\n    },\r\n    portraitRow: {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      marginBottom: theme.spacing.unit,\r\n      flexGrow: 0,\r\n      flexShrink: 0\r\n    },\r\n    portraitRowColumn: {\r\n      marginRight: theme.spacing.unit\r\n    },\r\n    portraitRowTweakables: {\r\n      width: \"100%\"\r\n    },\r\n    row: {\r\n      marginBottom: theme.spacing.unit,\r\n      flexGrow: 0,\r\n      flexShrink: 0\r\n    },\r\n    tabRow: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      marginLeft: -theme.spacing.unit,\r\n      height: \"100%\"\r\n    },\r\n    tabContent: {\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n      overflow: \"auto\"\r\n    }\r\n  });\r\n\r\ntype Props = DuplicantEditorProps & WithTranslation & StyleProps<typeof styles>;\r\nconst DuplicantEditor: React.SFC<Props> = ({ classes, gameObjectId, t }) => {\r\n  const [tab, setTab] = React.useState(0);\r\n  return (\r\n    <PageContainer title={t(\"duplicant.verbs.edit_titlecase\")} back>\r\n      <div className={classes.root}>\r\n        <div className={classes.nameRow}>\r\n          <DuplicantName gameObjectId={gameObjectId} />\r\n        </div>\r\n        <Divider className={classes.divider} />\r\n        <div className={classes.portraitRow}>\r\n          <div className={classes.portraitRowColumn}>\r\n            <Paper>\r\n              <DuplicantPortrait gameObjectId={gameObjectId} />\r\n            </Paper>\r\n          </div>\r\n          <div className={classes.portraitRowTweakables}>\r\n            <div className={classes.row}>\r\n              <Typography variant=\"h6\">\r\n                <Trans i18nKey=\"duplicant_trait.noun_titlecase\">Traits</Trans>\r\n              </Typography>\r\n              <Divider className={classes.divider} />\r\n              <Traits gameObjectId={gameObjectId} />\r\n            </div>\r\n            <div className={classes.row}>\r\n              <Typography variant=\"h6\">\r\n                <Trans i18nKey=\"duplicant_interest.noun_titlecase\">\r\n                  Interests\r\n                </Trans>\r\n              </Typography>\r\n              <Divider className={classes.divider} />\r\n              <Aptitudes gameObjectId={gameObjectId} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={classes.tabRow}>\r\n          <Paper square>\r\n            <Tabs\r\n              textColor=\"secondary\"\r\n              value={tab}\r\n              onChange={(_, value) => setTab(value)}\r\n            >\r\n              <Tab\r\n                label={t(\"duplicant_attribute.noun_titlecase_plural\", {\r\n                  defaultValue: \"Attributes\"\r\n                })}\r\n              />\r\n              <Tab\r\n                label={t(\"duplicant_appearance.noun_titlecase\", {\r\n                  defaultValue: \"Appearance\"\r\n                })}\r\n              />\r\n              <Tab\r\n                label={t(\"duplicant_health.noun_titlecase\", {\r\n                  defaultValue: \"Health\"\r\n                })}\r\n              />\r\n              <Tab\r\n                label={t(\"duplicant_job.noun_titlecase\", {\r\n                  defaultValue: \"Jobs\"\r\n                })}\r\n              />\r\n              <Tab\r\n                label={t(\"duplicant_effect.noun_titlecase\", {\r\n                  defaultValue: \"Effects\"\r\n                })}\r\n              />\r\n            </Tabs>\r\n          </Paper>\r\n          <div className={classes.tabContent}>\r\n            {tab === 0 && <Attributes gameObjectId={gameObjectId} />}\r\n            {tab === 1 && <Appearance gameObjectId={gameObjectId} />}\r\n            {tab === 2 && <Health gameObjectId={gameObjectId} />}\r\n            {tab === 3 && <Jobs gameObjectId={gameObjectId} />}\r\n            {tab === 4 && <Effects gameObjectId={gameObjectId} />}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </PageContainer>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles)(withTranslation()(DuplicantEditor));\r\n\r\n/*\r\n        <div className={classes.messy}>\r\n          <MessyEditor gameObjectId={gameObjectId} />\r\n        </div>\r\n*/\r\n","import * as React from \"react\";\r\nimport { MinionIdentityBehavior } from \"oni-save-parser\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport AbstractBehaviorEditor from \"@/services/oni-save/components/AbstractBehaviorEditor\";\r\n\r\nconst MinionIdentityEditor = AbstractBehaviorEditor.ofType(\r\n  MinionIdentityBehavior\r\n);\r\n\r\nexport interface DuplicantNameProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nconst DuplicantName: React.SFC<DuplicantNameProps> = ({ gameObjectId }) => (\r\n  <MinionIdentityEditor gameObjectId={gameObjectId}>\r\n    {({ templateData }) => (\r\n      <Typography variant=\"h5\">{templateData.name}</Typography>\r\n    )}\r\n  </MinionIdentityEditor>\r\n);\r\nexport default DuplicantName;\r\n","import * as React from \"react\";\r\nimport { AccessorizerBehavior, getAccessoryOfType } from \"oni-save-parser\";\r\n\r\nimport { createStyles, withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport {\r\n  DuplicantContainer,\r\n  Hair,\r\n  Head,\r\n  Eyes,\r\n  Body\r\n} from \"react-oni-duplicant\";\r\n\r\nimport AbstractBehaviorEditor from \"@/services/oni-save/components/AbstractBehaviorEditor\";\r\n\r\nconst AccessorizerEditor = AbstractBehaviorEditor.ofType(AccessorizerBehavior);\r\n\r\nexport interface DuplicantPortraitProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nconst styles = createStyles({\r\n  portraitContainer: {\r\n    position: \"relative\",\r\n    width: 173,\r\n    height: 190\r\n  },\r\n  portrait: {\r\n    position: \"absolute\",\r\n    overflow: \"visible\",\r\n    width: 0,\r\n    height: 0,\r\n    left: 90,\r\n    top: 115,\r\n    transform: \"scale(.6)\",\r\n    transformOrigin: \"top left\"\r\n  }\r\n});\r\n\r\ntype Props = DuplicantPortraitProps & StyleProps<typeof styles>;\r\nconst DuplicantPortrait: React.SFC<Props> = ({ classes, gameObjectId }) => (\r\n  <AccessorizerEditor gameObjectId={gameObjectId}>\r\n    {({ templateData }) => (\r\n      <div className={classes.portraitContainer}>\r\n        <div className={classes.portrait}>\r\n          <DuplicantContainer>\r\n            <Body\r\n              ordinal={ordinalFromAccessory(\r\n                getAccessoryOfType(templateData.accessories, \"body\")!.guid.Guid\r\n              )}\r\n            />\r\n            <Head\r\n              ordinal={ordinalFromAccessory(\r\n                getAccessoryOfType(templateData.accessories, \"headshape\")!.guid\r\n                  .Guid\r\n              )}\r\n            />\r\n            <Eyes\r\n              ordinal={ordinalFromAccessory(\r\n                getAccessoryOfType(templateData.accessories, \"eyes\")!.guid.Guid\r\n              )}\r\n            />\r\n            <Hair\r\n              ordinal={ordinalFromAccessory(\r\n                getAccessoryOfType(templateData.accessories, \"hair\")!.guid.Guid\r\n              )}\r\n            />\r\n          </DuplicantContainer>\r\n        </div>\r\n      </div>\r\n    )}\r\n  </AccessorizerEditor>\r\n);\r\nexport default withStyles(styles)(DuplicantPortrait);\r\n\r\nfunction ordinalFromAccessory(guid: string) {\r\n  let parts = guid.split(\".\");\r\n  const name = parts[parts.length - 1];\r\n  parts = name.split(\"_\");\r\n  return Number(parts[parts.length - 1]);\r\n}\r\n","import Traits from \"./Traits\";\r\nexport default Traits;\r\n","import * as React from \"react\";\r\nimport { AI_TRAIT_IDS, AITraitsBehavior } from \"oni-save-parser\";\r\nimport { difference } from \"lodash-es\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport { Theme, createStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\n\r\nimport AbstractBehaviorEditor from \"@/services/oni-save/components/AbstractBehaviorEditor\";\r\n\r\nimport AddTraitButton from \"./components/AddTraitButton\";\r\n\r\nconst TraitsEditor = AbstractBehaviorEditor.ofType(AITraitsBehavior);\r\n\r\nconst CANDIDATE_TRAITS = AI_TRAIT_IDS.filter(x => x !== \"None\");\r\n\r\nexport interface TraitsProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      flexWrap: \"wrap\"\r\n    },\r\n    chip: {\r\n      margin: theme.spacing.unit / 2\r\n    }\r\n  });\r\n\r\ntype Props = TraitsProps & StyleProps<typeof styles> & WithTranslation;\r\nconst Traits: React.SFC<Props> = ({ classes, gameObjectId, t }) => {\r\n  return (\r\n    <TraitsEditor gameObjectId={gameObjectId}>\r\n      {({ templateData, onTemplateDataModify }) => {\r\n        const { TraitIds } = templateData;\r\n        const availableTraits = difference(CANDIDATE_TRAITS, TraitIds);\r\n        return (\r\n          <div className={classes.root}>\r\n            {TraitIds.map((trait, i) => (\r\n              <Chip\r\n                key={trait}\r\n                className={classes.chip}\r\n                label={t(`oni:DUPLICANTS.TRAITS.${trait.toUpperCase()}.NAME`, {\r\n                  defaultValue: trait\r\n                })}\r\n                title={t(`oni:DUPLICANTS.TRAITS.${trait.toUpperCase()}.DESC`, {\r\n                  defaultValue: \"\"\r\n                })}\r\n                onDelete={() => {\r\n                  const newTraitIds = [...TraitIds];\r\n                  newTraitIds.splice(i, 1);\r\n                  onTemplateDataModify({\r\n                    TraitIds: newTraitIds\r\n                  });\r\n                }}\r\n              />\r\n            ))}\r\n            <AddTraitButton\r\n              className={classes.chip}\r\n              availableTraits={availableTraits}\r\n              onAddTrait={trait =>\r\n                onTemplateDataModify({ TraitIds: [...TraitIds, trait] })\r\n              }\r\n            />\r\n          </div>\r\n        );\r\n      }}\r\n    </TraitsEditor>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles)(withTranslation()(Traits));\r\n","import * as React from \"react\";\r\n\r\nimport { WithTranslation, withTranslation, Trans } from \"react-i18next\";\r\n\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nexport interface AddTraitButtonProps {\r\n  availableTraits: string[];\r\n  className?: string;\r\n  onAddTrait(trait: string): void;\r\n}\r\n\r\ntype Props = AddTraitButtonProps & WithTranslation;\r\n\r\nconst AddTraitButton: React.SFC<Props> = ({\r\n  className,\r\n  availableTraits,\r\n  onAddTrait,\r\n  t\r\n}) => {\r\n  const [isOpen, setIsOpen] = React.useState(false);\r\n  const chipRef = React.useRef<HTMLDivElement | null>(null);\r\n  return (\r\n    <div className={className}>\r\n      <div ref={chipRef}>\r\n        <Chip\r\n          color=\"primary\"\r\n          label={t(`duplicant_trait.verbs.add_titlecase`)}\r\n          clickable\r\n          onClick={() => setIsOpen(true)}\r\n        />\r\n      </div>\r\n      <Menu\r\n        open={isOpen}\r\n        anchorEl={chipRef.current}\r\n        onClose={() => setIsOpen(false)}\r\n      >\r\n        {isOpen &&\r\n          [...availableTraits].sort().map(trait => (\r\n            <MenuItem\r\n              key={trait}\r\n              value={trait}\r\n              title={t(`oni:DUPLICANTS.TRAITS.${trait.toUpperCase()}.DESC`, {\r\n                defaultValue: \"\"\r\n              })}\r\n              onClick={() => {\r\n                setIsOpen(false);\r\n                onAddTrait(trait);\r\n              }}\r\n            >\r\n              <Trans\r\n                i18nKey={`oni:DUPLICANTS.TRAITS.${trait.toUpperCase()}.NAME`}\r\n              >\r\n                {trait}\r\n              </Trans>\r\n            </MenuItem>\r\n          ))}\r\n      </Menu>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withTranslation()(AddTraitButton);\r\n","import Interests from \"./Interests\";\r\nexport default Interests;\r\n","import * as React from \"react\";\r\nimport {\r\n  MinionRoleGroup,\r\n  MinionResumeBehavior,\r\n  getHashedString\r\n} from \"oni-save-parser\";\r\nimport { findIndex } from \"lodash-es\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport { Theme, createStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\n\r\nimport AbstractBehaviorEditor from \"@/services/oni-save/components/AbstractBehaviorEditor\";\r\n\r\nimport AddAptitudeButton from \"./components/AddAptitudeButton\";\r\n\r\nconst ResumeEditor = AbstractBehaviorEditor.ofType(MinionResumeBehavior);\r\n\r\nexport interface InterestsProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      flexWrap: \"wrap\"\r\n    },\r\n    chip: {\r\n      margin: theme.spacing.unit / 2\r\n    }\r\n  });\r\n\r\ntype Props = InterestsProps & StyleProps<typeof styles> & WithTranslation;\r\nconst Interests: React.SFC<Props> = ({ classes, gameObjectId, t }) => {\r\n  return (\r\n    <ResumeEditor gameObjectId={gameObjectId}>\r\n      {({ templateData: { AptitudeByRoleGroup }, onTemplateDataModify }) => {\r\n        if (!AptitudeByRoleGroup) {\r\n          AptitudeByRoleGroup = [];\r\n        }\r\n\r\n        const availableAptitudes = AptitudeByRoleGroup.filter(\r\n          aptitude => aptitude[1] === 0 && aptitude[0].hash !== 0\r\n        ).map(aptitude => MinionRoleGroup[aptitude[0].hash]);\r\n\r\n        const selectedAptitudes = AptitudeByRoleGroup.filter(\r\n          aptitude => aptitude[1] !== 0 && aptitude[0].hash !== 0\r\n        );\r\n\r\n        return (\r\n          <div className={classes.root}>\r\n            {selectedAptitudes.map((aptitude, i) => {\r\n              const aptitudeName = MinionRoleGroup[aptitude[0].hash];\r\n              const aptitudeIndex = findIndex(\r\n                AptitudeByRoleGroup,\r\n                a => a[0].hash === aptitude[0].hash\r\n              );\r\n              return (\r\n                <Chip\r\n                  key={i}\r\n                  className={classes.chip}\r\n                  label={t(`oni:todo-trans.aptitudes.${aptitudeName}`, {\r\n                    defaultValue: aptitudeName\r\n                  })}\r\n                  onDelete={() => {\r\n                    console.log(\r\n                      \"Deleting aptitude\",\r\n                      aptitudeIndex,\r\n                      aptitude[0]\r\n                    );\r\n                    onTemplateDataModify({\r\n                      AptitudeByRoleGroup: [\r\n                        ...AptitudeByRoleGroup!.slice(0, aptitudeIndex),\r\n                        [aptitude[0], 0],\r\n                        ...AptitudeByRoleGroup!.slice(aptitudeIndex + 1)\r\n                      ]\r\n                    });\r\n                  }}\r\n                />\r\n              );\r\n            })}\r\n            <AddAptitudeButton\r\n              className={classes.chip}\r\n              availableAptitudes={availableAptitudes}\r\n              onAddAptitude={aptitude => {\r\n                const aptitudeIndex = findIndex(\r\n                  AptitudeByRoleGroup,\r\n                  a => a[0].hash === getHashedString(aptitude).hash\r\n                );\r\n                if (aptitudeIndex === -1) {\r\n                  return;\r\n                }\r\n                const aptitudeData = AptitudeByRoleGroup![aptitudeIndex];\r\n                onTemplateDataModify({\r\n                  AptitudeByRoleGroup: [\r\n                    ...AptitudeByRoleGroup!.slice(0, aptitudeIndex),\r\n                    [aptitudeData[0], 1],\r\n                    ...AptitudeByRoleGroup!.slice(aptitudeIndex + 1)\r\n                  ]\r\n                });\r\n              }}\r\n            />\r\n          </div>\r\n        );\r\n      }}\r\n    </ResumeEditor>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles)(withTranslation()(Interests));\r\n","import * as React from \"react\";\r\n\r\nimport { WithTranslation, withTranslation, Trans } from \"react-i18next\";\r\n\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nexport interface AddAptitudeButtonProps {\r\n  availableAptitudes: string[];\r\n  className?: string;\r\n  onAddAptitude(aptitude: string): void;\r\n}\r\n\r\ntype Props = AddAptitudeButtonProps & WithTranslation;\r\n\r\nconst AddAptitudeButton: React.SFC<Props> = ({\r\n  className,\r\n  availableAptitudes,\r\n  onAddAptitude,\r\n  t\r\n}) => {\r\n  const [isOpen, setIsOpen] = React.useState(false);\r\n  const chipRef = React.useRef<HTMLDivElement | null>(null);\r\n  return (\r\n    <div className={className}>\r\n      <div ref={chipRef}>\r\n        <Chip\r\n          color=\"primary\"\r\n          label={t(`duplicant_interest.verbs.add_titlecase`)}\r\n          clickable\r\n          onClick={() => setIsOpen(true)}\r\n        />\r\n      </div>\r\n      <Menu\r\n        open={isOpen}\r\n        anchorEl={chipRef.current}\r\n        onClose={() => setIsOpen(false)}\r\n      >\r\n        {isOpen &&\r\n          [...availableAptitudes].sort().map(trait => (\r\n            <MenuItem\r\n              key={trait}\r\n              value={trait}\r\n              title={t(`oni:DUPLICANTS.APTITUDES.${trait.toUpperCase()}.DESC`, {\r\n                defaultValue: \"\"\r\n              })}\r\n              onClick={() => {\r\n                setIsOpen(false);\r\n                onAddAptitude(trait);\r\n              }}\r\n            >\r\n              <Trans\r\n                i18nKey={`oni:DUPLICANTS.APTITUDES.${trait.toUpperCase()}.NAME`}\r\n              >\r\n                {trait}\r\n              </Trans>\r\n            </MenuItem>\r\n          ))}\r\n      </Menu>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withTranslation()(AddAptitudeButton);\r\n","import Attributes from \"./Attributes\";\r\nexport default Attributes;\r\n","import * as React from \"react\";\r\nimport { AIAttributeLevelsBehavior, AttributeLevel } from \"oni-save-parser\";\r\nimport { findIndex, merge } from \"lodash-es\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport { Theme, createStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\n\r\nimport AbstractBehaviorEditor from \"@/services/oni-save/components/AbstractBehaviorEditor\";\r\n\r\nimport AttributeName from \"./components/AttributeName\";\r\nimport AttributeField from \"./components/AttributeField\";\r\n\r\nconst AttributesEditor = AbstractBehaviorEditor.ofType(\r\n  AIAttributeLevelsBehavior\r\n);\r\n\r\nexport interface AttributesProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      width: \"100%\",\r\n      height: \"100%\"\r\n    },\r\n    header: {\r\n      marginTop: theme.spacing.unit,\r\n      marginLeft: theme.spacing.unit\r\n    },\r\n    divider: {\r\n      marginTop: theme.spacing.unit,\r\n      marginBottom: theme.spacing.unit\r\n    },\r\n    attributeList: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      flexWrap: \"wrap\",\r\n      height: theme.spacing.unit * 20,\r\n      padding: theme.spacing.unit\r\n    },\r\n    attributeItem: {\r\n      margin: theme.spacing.unit / 2,\r\n      display: \"flex\",\r\n      flexDirection: \"row\"\r\n    },\r\n    attributeInput: {\r\n      width: 50,\r\n      marginRight: theme.spacing.unit\r\n    }\r\n  });\r\n\r\ntype Props = AttributesProps & StyleProps<typeof styles>;\r\n\r\nconst PRIMARY_ATTRIBUTES = [\r\n  \"Athletics\",\r\n  \"Cooking\",\r\n  \"Digging\",\r\n  \"Caring\",\r\n  \"Ranching\",\r\n  \"Machinery\",\r\n  \"Construction\",\r\n  \"Art\",\r\n  \"Botanist\",\r\n  \"Learning\",\r\n  \"Strength\"\r\n];\r\n\r\nconst Attributes: React.SFC<Props> = ({ classes, gameObjectId }) => (\r\n  <AttributesEditor gameObjectId={gameObjectId}>\r\n    {({ templateData: { saveLoadLevels } }) => (\r\n      <div className={classes.root}>\r\n        <Typography className={classes.header} variant=\"h6\">\r\n          <Trans i18nKey=\"duplicant_attribute.primary_titlecase\">Primary</Trans>\r\n        </Typography>\r\n        <Divider className={classes.divider} />\r\n        <div className={classes.attributeList}>\r\n          {PRIMARY_ATTRIBUTES.map(attributeId => (\r\n            <div key={attributeId} className={classes.attributeItem}>\r\n              <AttributeField\r\n                className={classes.attributeInput}\r\n                gameObjectId={gameObjectId}\r\n                attributeId={attributeId}\r\n              />\r\n              <AttributeName attributeId={attributeId} />\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <Typography className={classes.header} variant=\"h6\">\r\n          <Trans i18nKey=\"duplicant_attribute.secondary_titlecase\">\r\n            Secondary\r\n          </Trans>\r\n        </Typography>\r\n        <Divider className={classes.divider} />\r\n        <div className={classes.attributeList}>\r\n          {nonPrimaryAttributeIds(saveLoadLevels).map(attributeId => (\r\n            <div key={attributeId} className={classes.attributeItem}>\r\n              <AttributeField\r\n                className={classes.attributeInput}\r\n                gameObjectId={gameObjectId}\r\n                attributeId={attributeId}\r\n              />\r\n              <AttributeName attributeId={attributeId} />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    )}\r\n  </AttributesEditor>\r\n);\r\n\r\nexport default withStyles(styles)(Attributes);\r\n\r\nfunction nonPrimaryAttributeIds(attributes: AttributeLevel[]): string[] {\r\n  return attributes\r\n    .map(x => x.attributeId)\r\n    .filter(x => PRIMARY_ATTRIBUTES.indexOf(x) === -1);\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nexport interface AttributeNameProps {\r\n  attributeId: string;\r\n}\r\n\r\ntype Props = AttributeNameProps & WithTranslation;\r\nconst AttributeName: React.SFC<Props> = ({ attributeId, t }) => (\r\n  <Typography\r\n    component=\"span\"\r\n    variant=\"body1\"\r\n    title={t(`oni:DUPLICANTS.ATTRIBUTES.${attributeId}.DESC`, {\r\n      defaultValue: \"\"\r\n    })}\r\n  >\r\n    {t(`oni:DUPLICANTS.ATTRIBUTES.${attributeId}.NAME`, {\r\n      defaultValue: attributeId\r\n    })}\r\n  </Typography>\r\n);\r\n\r\nexport default withTranslation()(AttributeName);\r\n","import * as React from \"react\";\r\nimport { AIAttributeLevelsBehavior } from \"oni-save-parser\";\r\nimport { findIndex } from \"lodash-es\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport AbstractBehaviorEditor from \"@/services/oni-save/components/AbstractBehaviorEditor\";\r\n\r\nimport CommitTextField from \"@/components/CommitTextField\";\r\n\r\nconst AttributesEditor = AbstractBehaviorEditor.ofType(\r\n  AIAttributeLevelsBehavior\r\n);\r\n\r\nexport interface AttributeFieldProps {\r\n  className?: string;\r\n  gameObjectId: number;\r\n  attributeId: string;\r\n}\r\n\r\ntype Props = AttributeFieldProps;\r\nconst AttributeField: React.SFC<Props> = ({\r\n  className,\r\n  gameObjectId,\r\n  attributeId\r\n}) => {\r\n  return (\r\n    <AttributesEditor gameObjectId={gameObjectId}>\r\n      {({ templateData: { saveLoadLevels }, onTemplateDataModify }) => {\r\n        const attrIndex = findIndex(\r\n          saveLoadLevels,\r\n          x => x.attributeId === attributeId\r\n        );\r\n        if (attrIndex === -1) {\r\n          return <Typography>Attribute Not Found</Typography>;\r\n        }\r\n        const attr = saveLoadLevels[attrIndex];\r\n        const { level } = attr;\r\n        return (\r\n          <CommitTextField\r\n            className={className}\r\n            type=\"number\"\r\n            value={level}\r\n            onCommit={value => {\r\n              const newLevels = [...saveLoadLevels];\r\n              newLevels[attrIndex] = { ...attr, level: Number(value) };\r\n              onTemplateDataModify({\r\n                saveLoadLevels: newLevels\r\n              });\r\n            }}\r\n          />\r\n        );\r\n      }}\r\n    </AttributesEditor>\r\n  );\r\n};\r\n\r\nexport default AttributeField;\r\n","import Appearance from \"./Appearance\";\r\nexport default Appearance;\r\n","import * as React from \"react\";\r\nimport {\r\n  AccessorizerBehavior,\r\n  getAccessoryOfType,\r\n  Accessory,\r\n  AccessoryType,\r\n  getAccessoryName,\r\n  getIndexOfAccessoryType\r\n} from \"oni-save-parser\";\r\nimport { merge, padStart } from \"lodash-es\";\r\n\r\nimport { Theme, createStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\n\r\nimport AbstractBehaviorEditor from \"@/services/oni-save/components/AbstractBehaviorEditor\";\r\n\r\nconst AccessorizerEditor = AbstractBehaviorEditor.ofType(AccessorizerBehavior);\r\n\r\nimport HeadPortrait from \"./components/HeadPortrait\";\r\nimport Portrait from \"./components/Portrait\";\r\n\r\nexport interface AppearanceProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      width: \"100%\",\r\n      height: \"100%\"\r\n    },\r\n    tabContent: {\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n      overflow: \"auto\"\r\n    },\r\n    partList: {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      flexWrap: \"wrap\"\r\n    },\r\n    partContainer: {\r\n      margin: theme.spacing.unit / 2\r\n    },\r\n    part: {\r\n      cursor: \"pointer\"\r\n    }\r\n  });\r\n\r\ntype Props = AppearanceProps & StyleProps<typeof styles>;\r\nconst Appearance: React.SFC<Props> = ({ classes, gameObjectId }) => {\r\n  const [tab, setTab] = React.useState(0);\r\n\r\n  return (\r\n    <AccessorizerEditor gameObjectId={gameObjectId}>\r\n      {({ templateData: { accessories }, onTemplateDataModify }) => {\r\n        const hairOrdinal = getOrdinalOfType(accessories, \"hair\");\r\n        const headOrdinal = getOrdinalOfType(accessories, \"headshape\");\r\n        const eyesOrdinal = getOrdinalOfType(accessories, \"eyes\");\r\n\r\n        function setAccessory(type: AccessoryType, ordinal: number) {\r\n          const index = getIndexOfAccessoryType(accessories, type);\r\n          if (index === -1) {\r\n            return;\r\n          }\r\n          const accessoryMod: Record<number, Accessory> = {\r\n            [index]: Accessory(`${type}_${padStart(String(ordinal), 3, \"0\")}`)\r\n          };\r\n          if (type === \"hair\") {\r\n            const hatHair = getIndexOfAccessoryType(accessories, \"hat_hair\");\r\n            if (hatHair !== -1) {\r\n              accessoryMod[hatHair] = Accessory(\r\n                `hat_hair_${padStart(String(ordinal), 3, \"0\")}`\r\n              );\r\n            }\r\n            const hairAlways = getIndexOfAccessoryType(\r\n              accessories,\r\n              \"hair_always\"\r\n            );\r\n            if (hairAlways !== -1) {\r\n              accessoryMod[hairAlways] = Accessory(\r\n                `hair_always_${padStart(String(ordinal), 3, \"0\")}`\r\n              );\r\n            }\r\n          }\r\n          onTemplateDataModify({\r\n            accessories: merge([], accessories, accessoryMod)\r\n          });\r\n        }\r\n\r\n        function makeSetAccessory(type: AccessoryType, ordinal: number) {\r\n          return (e: React.MouseEvent<HTMLDivElement>) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            setAccessory(type, ordinal);\r\n          };\r\n        }\r\n\r\n        return (\r\n          <div className={classes.root}>\r\n            <Paper square>\r\n              <Tabs\r\n                textColor=\"secondary\"\r\n                value={tab}\r\n                onChange={(_, value) => setTab(value)}\r\n              >\r\n                <Tab label=\"Hair\" />\r\n                <Tab label=\"Head\" />\r\n                <Tab label=\"Eyes\" />\r\n                <Tab label=\"Body\" />\r\n              </Tabs>\r\n            </Paper>\r\n            <div className={classes.tabContent}>\r\n              {tab === 0 && (\r\n                <div className={classes.partList}>\r\n                  {ordinalRange(33).map(ordinal => (\r\n                    <HeadPortrait\r\n                      key={ordinal}\r\n                      className={classes.partContainer}\r\n                      hairOrdinal={ordinal}\r\n                      headOrdinal={headOrdinal}\r\n                      eyesOrdinal={eyesOrdinal}\r\n                      clickable\r\n                      onClick={makeSetAccessory(\"hair\", ordinal)}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              )}\r\n              {tab === 1 && (\r\n                <div className={classes.partList}>\r\n                  {ordinalRange(4).map(ordinal => (\r\n                    <HeadPortrait\r\n                      key={ordinal}\r\n                      className={classes.partContainer}\r\n                      hairOrdinal={hairOrdinal}\r\n                      headOrdinal={ordinal}\r\n                      eyesOrdinal={eyesOrdinal}\r\n                      clickable\r\n                      onClick={makeSetAccessory(\"headshape\", ordinal)}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              )}\r\n              {tab === 2 && (\r\n                <div className={classes.partList}>\r\n                  {ordinalRange(5).map(ordinal => (\r\n                    <HeadPortrait\r\n                      key={ordinal}\r\n                      className={classes.partContainer}\r\n                      hairOrdinal={hairOrdinal}\r\n                      headOrdinal={headOrdinal}\r\n                      eyesOrdinal={ordinal}\r\n                      clickable\r\n                      onClick={makeSetAccessory(\"eyes\", ordinal)}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              )}\r\n              {tab === 3 && (\r\n                <div className={classes.partList}>\r\n                  {ordinalRange(4).map(ordinal => (\r\n                    <Portrait\r\n                      key={ordinal}\r\n                      className={classes.partContainer}\r\n                      hairOrdinal={hairOrdinal}\r\n                      headOrdinal={headOrdinal}\r\n                      eyesOrdinal={eyesOrdinal}\r\n                      bodyOrdinal={ordinal}\r\n                      clickable\r\n                      onClick={makeSetAccessory(\"body\", ordinal)}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        );\r\n      }}\r\n    </AccessorizerEditor>\r\n  );\r\n};\r\nexport default withStyles(styles)(Appearance);\r\n\r\nfunction getOrdinalOfType(\r\n  accessories: Accessory[],\r\n  type: AccessoryType\r\n): number {\r\n  const accessory = getAccessoryOfType(accessories, type);\r\n  if (accessory == null) {\r\n    return 1;\r\n  }\r\n\r\n  return ordinalFromAccessory(accessory.guid.Guid);\r\n}\r\n\r\nfunction ordinalFromAccessory(guid: string) {\r\n  const name = getAccessoryName(guid);\r\n  if (!name) {\r\n    return 1;\r\n  }\r\n  const parts = name.split(\"_\");\r\n  return Number(parts[parts.length - 1]);\r\n}\r\n\r\nfunction ordinalRange(length: number): number[] {\r\n  return Array.from({ length }, (_, i) => i + 1);\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport classnames from \"classnames\";\r\n\r\nimport { DuplicantContainer, Hair, Head, Eyes } from \"react-oni-duplicant\";\r\n\r\nimport { createStyles, withStyles } from \"@material-ui/core/styles\";\r\n\r\nexport interface HeadPortraitProps {\r\n  className?: string;\r\n  clickable?: boolean;\r\n  hairOrdinal: number;\r\n  headOrdinal: number;\r\n  eyesOrdinal: number;\r\n  onClick?(e: React.MouseEvent<HTMLDivElement>): void;\r\n}\r\n\r\nconst styles = createStyles({\r\n  portraitContainer: {\r\n    position: \"relative\",\r\n    width: 110,\r\n    height: 100\r\n  },\r\n  portrait: {\r\n    position: \"absolute\",\r\n    top: 85,\r\n    left: 56,\r\n    width: 250,\r\n    height: 250,\r\n    transform: \"scale(.4)\",\r\n    transformOrigin: \"top left\"\r\n  },\r\n  clickable: {\r\n    cursor: \"pointer\"\r\n  }\r\n});\r\n\r\ntype Props = HeadPortraitProps & StyleProps<typeof styles>;\r\nconst HeadPortrait: React.SFC<Props> = ({\r\n  className,\r\n  classes,\r\n  hairOrdinal,\r\n  headOrdinal,\r\n  eyesOrdinal,\r\n  clickable,\r\n  onClick\r\n}) => (\r\n  <div\r\n    className={classnames(className, classes.portraitContainer)}\r\n    onClick={onClick}\r\n  >\r\n    <div className={classes.portrait}>\r\n      <DuplicantContainer>\r\n        <Head\r\n          className={classnames(clickable && classes.clickable)}\r\n          ordinal={headOrdinal}\r\n        />\r\n        <Eyes\r\n          className={classnames(clickable && classes.clickable)}\r\n          ordinal={eyesOrdinal}\r\n        />\r\n        <Hair\r\n          className={classnames(clickable && classes.clickable)}\r\n          ordinal={hairOrdinal}\r\n        />\r\n      </DuplicantContainer>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default withStyles(styles)(HeadPortrait);\r\n","import * as React from \"react\";\r\n\r\nimport classnames from \"classnames\";\r\n\r\nimport {\r\n  DuplicantContainer,\r\n  Hair,\r\n  Head,\r\n  Eyes,\r\n  Body\r\n} from \"react-oni-duplicant\";\r\n\r\nimport { createStyles, withStyles } from \"@material-ui/core/styles\";\r\n\r\nexport interface PortraitProps {\r\n  className?: string;\r\n  clickable?: boolean;\r\n  hairOrdinal: number;\r\n  headOrdinal: number;\r\n  eyesOrdinal: number;\r\n  bodyOrdinal: number;\r\n  onClick?(e: React.MouseEvent<HTMLDivElement>): void;\r\n}\r\n\r\nconst styles = createStyles({\r\n  portraitContainer: {\r\n    position: \"relative\",\r\n    width: 110,\r\n    height: 140\r\n  },\r\n  portrait: {\r\n    position: \"absolute\",\r\n    top: 85,\r\n    left: 56,\r\n    width: 250,\r\n    height: 250,\r\n    transform: \"scale(.4)\",\r\n    transformOrigin: \"top left\"\r\n  },\r\n  clickable: {\r\n    cursor: \"pointer\"\r\n  }\r\n});\r\n\r\ntype Props = PortraitProps & StyleProps<typeof styles>;\r\nconst Portrait: React.SFC<Props> = ({\r\n  className,\r\n  classes,\r\n  hairOrdinal,\r\n  headOrdinal,\r\n  eyesOrdinal,\r\n  bodyOrdinal,\r\n  clickable,\r\n  onClick\r\n}) => (\r\n  <div\r\n    className={classnames(className, classes.portraitContainer)}\r\n    onClick={onClick}\r\n  >\r\n    <div className={classes.portrait}>\r\n      <DuplicantContainer>\r\n        <Body\r\n          className={classnames(clickable && classes.clickable)}\r\n          ordinal={bodyOrdinal}\r\n        />\r\n        <Head\r\n          className={classnames(clickable && classes.clickable)}\r\n          ordinal={headOrdinal}\r\n        />\r\n        <Eyes\r\n          className={classnames(clickable && classes.clickable)}\r\n          ordinal={eyesOrdinal}\r\n        />\r\n        <Hair\r\n          className={classnames(clickable && classes.clickable)}\r\n          ordinal={hairOrdinal}\r\n        />\r\n      </DuplicantContainer>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default withStyles(styles)(Portrait);\r\n","import Jobs from \"./Jobs\";\r\nexport default Jobs;\r\n","import * as React from \"react\";\r\nimport { MinionResumeBehavior } from \"oni-save-parser\";\r\nimport { merge } from \"lodash-es\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\n\r\nimport AbstractBehaviorEditor from \"@/services/oni-save/components/AbstractBehaviorEditor\";\r\nconst ResumeEditor = AbstractBehaviorEditor.ofType(MinionResumeBehavior);\r\n\r\nexport interface JobsProps {\r\n  gameObjectId: number;\r\n}\r\n\r\ntype Props = JobsProps;\r\n\r\nconst Jobs: React.SFC<Props> = ({ gameObjectId }) => (\r\n  <ResumeEditor gameObjectId={gameObjectId}>\r\n    {({ templateData: { MasteryByRoleID }, onTemplateDataModify }) => {\r\n      if (!MasteryByRoleID) {\r\n        MasteryByRoleID = [];\r\n      }\r\n      return (\r\n        <Table>\r\n          <TableHead>\r\n            <TableCell>\r\n              <Trans i18nKey=\"duplicant_job.noun_titlecase\">Job</Trans>\r\n            </TableCell>\r\n            <TableCell align=\"right\">\r\n              <Trans i18nKey=\"duplicant_job.mastery_titlecase\">Mastery</Trans>\r\n            </TableCell>\r\n          </TableHead>\r\n          <TableBody>\r\n            {MasteryByRoleID.map((data, i) => {\r\n              const [job, mastery] = data;\r\n              if (job === \"NoRole\") {\r\n                return undefined;\r\n              }\r\n              return (\r\n                <TableRow key={job}>\r\n                  <TableCell component=\"th\" scope=\"row\">\r\n                    <Trans i18nKey={`oni:todo-trans.jobs.${job}`}>{job}</Trans>\r\n                  </TableCell>\r\n                  <TableCell align=\"right\">\r\n                    <Checkbox\r\n                      checked={mastery}\r\n                      onChange={e => {\r\n                        onTemplateDataModify({\r\n                          MasteryByRoleID: merge([], MasteryByRoleID, {\r\n                            [i]: [job, e.target.checked]\r\n                          })\r\n                        });\r\n                      }}\r\n                    />\r\n                  </TableCell>\r\n                </TableRow>\r\n              );\r\n            })}\r\n          </TableBody>\r\n        </Table>\r\n      );\r\n    }}\r\n  </ResumeEditor>\r\n);\r\n\r\nexport default Jobs;\r\n","import Effects from \"./Effects\";\r\nexport default Effects;\r\n","import * as React from \"react\";\r\nimport { AIEffectsBehavior } from \"oni-save-parser\";\r\nimport { merge } from \"lodash-es\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\n\r\nimport AbstractBehaviorEditor from \"@/services/oni-save/components/AbstractBehaviorEditor\";\r\n\r\nimport CommitTextField from \"@/components/CommitTextField\";\r\n\r\nimport AddEffectButton from \"./components/AddEffectButton\";\r\n\r\nconst EffectsEditor = AbstractBehaviorEditor.ofType(AIEffectsBehavior);\r\n\r\nexport interface EffectsProps {\r\n  gameObjectId: number;\r\n}\r\n\r\ntype Props = EffectsProps;\r\nconst Effects: React.SFC<Props> = ({ gameObjectId }) => {\r\n  return (\r\n    <EffectsEditor gameObjectId={gameObjectId}>\r\n      {({ templateData, onTemplateDataModify }) => (\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>\r\n                <Trans i18nKey=\"duplicant_effect.noun_titlecase\">Effect</Trans>\r\n              </TableCell>\r\n              <TableCell align=\"right\">\r\n                <Trans i18nKey=\"time_cycles.noun_titlecase\">\r\n                  Time (cycles)\r\n                </Trans>\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {templateData.saveLoadEffects.map(({ id, timeRemaining }, i) => (\r\n              <TableRow key={id}>\r\n                <TableCell component=\"th\" scope=\"row\">\r\n                  <Trans i18nKey={`oni:todo-trans.effects.${id}`}>{id}</Trans>\r\n                </TableCell>\r\n                <TableCell align=\"right\">\r\n                  <CommitTextField\r\n                    type=\"number\"\r\n                    value={timeRemaining / 200}\r\n                    onCommit={value =>\r\n                      onTemplateDataModify({\r\n                        saveLoadEffects: merge(\r\n                          [],\r\n                          templateData.saveLoadEffects,\r\n                          {\r\n                            [i]: { id, timeRemaining: Number(value) * 200 }\r\n                          }\r\n                        )\r\n                      })\r\n                    }\r\n                  />\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n            <TableRow>\r\n              <TableCell colSpan={2} align=\"right\">\r\n                <AddEffectButton gameObjectId={gameObjectId} />\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableBody>\r\n        </Table>\r\n      )}\r\n    </EffectsEditor>\r\n  );\r\n};\r\n\r\nexport default Effects;\r\n","import * as React from \"react\";\r\nimport { AI_EFFECT_IDS, AIEffectsBehavior } from \"oni-save-parser\";\r\nimport { difference } from \"lodash-es\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport AbstractBehaviorEditor from \"@/services/oni-save/components/AbstractBehaviorEditor\";\r\nimport AddEffectDialog from \"./AddEffectDialog\";\r\n\r\nconst EffectsEditor = AbstractBehaviorEditor.ofType(AIEffectsBehavior);\r\n\r\nexport interface AddEffectButtonProps {\r\n  gameObjectId: number;\r\n}\r\n\r\ntype Props = AddEffectButtonProps;\r\nconst AddEffectButton: React.SFC<Props> = ({ gameObjectId }) => {\r\n  const [isAddingEffect, setIsAddingEffect] = React.useState(false);\r\n  return (\r\n    <EffectsEditor gameObjectId={gameObjectId}>\r\n      {({ templateData, onTemplateDataModify }) => {\r\n        const currentEffects = templateData.saveLoadEffects.map(x => x.id);\r\n        const availableEffects = difference(AI_EFFECT_IDS, currentEffects);\r\n        return (\r\n          <React.Fragment>\r\n            <Button color=\"primary\" onClick={() => setIsAddingEffect(true)}>\r\n              <Trans i18nKey=\"duplicant_effects.verbs.add_titlecase\">\r\n                Add Effect\r\n              </Trans>\r\n            </Button>\r\n            <AddEffectDialog\r\n              open={isAddingEffect}\r\n              availableEffects={availableEffects}\r\n              onClose={() => setIsAddingEffect(false)}\r\n              onAddEffect={(id, timeRemaining) => {\r\n                setIsAddingEffect(false);\r\n                onTemplateDataModify({\r\n                  saveLoadEffects: [\r\n                    ...templateData.saveLoadEffects,\r\n                    { id, timeRemaining }\r\n                  ]\r\n                });\r\n              }}\r\n            />\r\n          </React.Fragment>\r\n        );\r\n      }}\r\n    </EffectsEditor>\r\n  );\r\n};\r\n\r\nexport default AddEffectButton;\r\n","import * as React from \"react\";\r\n\r\nimport { Trans, WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport { Theme, createStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\n\r\nexport interface AddEffectDialogProps {\r\n  open: boolean;\r\n  availableEffects: string[];\r\n  onClose(): void;\r\n  onAddEffect(effect: string, time: number): void;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    cycleTime: {\r\n      marginTop: theme.spacing.unit\r\n    }\r\n  });\r\n\r\ntype Props = AddEffectDialogProps & WithTranslation & StyleProps<typeof styles>;\r\nconst AddEffectDialog: React.SFC<Props> = ({\r\n  classes,\r\n  open,\r\n  availableEffects,\r\n  onClose,\r\n  onAddEffect,\r\n  t\r\n}) => {\r\n  const [selectedEffect, setSelectedEffect] = React.useState(\"\");\r\n  const [timeRemaining, setTimeRemaining] = React.useState(5);\r\n  return (\r\n    <Dialog open={open} aria-labelledby=\"form-dialog-title\">\r\n      <DialogTitle id=\"form-dialog-title\">\r\n        <Trans i18nKey=\"duplicant_effects.verbs.add_titlecase\">\r\n          Add Effect\r\n        </Trans>\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <FormGroup>\r\n          <FormControl>\r\n            <InputLabel htmlFor=\"duplicant-effect\">\r\n              <Trans i18nKey=\"duplicant_effect.noun_titlecase\">Effect</Trans>\r\n            </InputLabel>\r\n            <Select\r\n              value={selectedEffect}\r\n              onChange={e => setSelectedEffect(e.target.value)}\r\n              inputProps={{ id: \"duplicant-effect\" }}\r\n            >\r\n              {availableEffects.map(effect => (\r\n                <MenuItem key={effect} value={effect}>\r\n                  <Trans i18nKey={`oni:todo-trans.effects.${effect}`}>\r\n                    {effect}\r\n                  </Trans>\r\n                </MenuItem>\r\n              ))}\r\n            </Select>\r\n          </FormControl>\r\n          <TextField\r\n            className={classes.cycleTime}\r\n            label={t(\"time_cycles.noun_titlecase\")}\r\n            type=\"number\"\r\n            value={timeRemaining}\r\n            onChange={e => setTimeRemaining(Number(e.target.value))}\r\n          />\r\n        </FormGroup>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={() => onClose()}>\r\n          <Trans i18nKey=\"dialog.verbs.cancel_titlecase\">Cancel</Trans>\r\n        </Button>\r\n        <Button\r\n          disabled={selectedEffect === \"\" || timeRemaining <= 0}\r\n          onClick={() => {\r\n            setSelectedEffect(\"\");\r\n            onAddEffect(selectedEffect, timeRemaining * 200);\r\n          }}\r\n        >\r\n          <Trans i18nKey=\"duplicant_effects.verbs.add_titlecase\">\r\n            Add Effect\r\n          </Trans>\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles)(withTranslation()(AddEffectDialog));\r\n","import Health from \"./Health\";\r\nexport default Health;\r\n","import * as React from \"react\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport { Theme, createStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\n\r\nimport Value from \"./components/Value\";\r\n\r\nexport interface HealthProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      width: \"100%\",\r\n      height: \"100%\"\r\n    },\r\n    header: {\r\n      marginTop: theme.spacing.unit,\r\n      marginLeft: theme.spacing.unit\r\n    },\r\n    divider: {\r\n      marginTop: theme.spacing.unit,\r\n      marginBottom: theme.spacing.unit\r\n    },\r\n    group: {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      flexWrap: \"wrap\",\r\n      padding: theme.spacing.unit\r\n    },\r\n    value: {\r\n      width: 300,\r\n      marginTop: theme.spacing.unit,\r\n      marginLeft: theme.spacing.unit * 2,\r\n      marginRight: theme.spacing.unit * 2\r\n    }\r\n  });\r\n\r\ntype Props = HealthProps & StyleProps<typeof styles>;\r\nconst Health: React.SFC<Props> = ({ classes, gameObjectId }) => (\r\n  <div className={classes.root}>\r\n    <Typography className={classes.header} variant=\"h6\">\r\n      <Trans>Fitness</Trans>\r\n    </Typography>\r\n    <Divider className={classes.divider} />\r\n    <div className={classes.group}>\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"HitPoints\"\r\n      />\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"Stamina\"\r\n      />\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"Calories\"\r\n        max={4000000}\r\n      />\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"Breath\"\r\n      />\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"Bladder\"\r\n      />\r\n    </div>\r\n    <Typography className={classes.header} variant=\"h6\">\r\n      <Trans>Mind</Trans>\r\n    </Typography>\r\n    <Divider className={classes.divider} />\r\n    <div className={classes.group}>\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"Stress\"\r\n      />\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"Decor\"\r\n      />\r\n    </div>\r\n    <Typography className={classes.header} variant=\"h6\">\r\n      <Trans>Disease</Trans>\r\n    </Typography>\r\n    <Divider className={classes.divider} />\r\n    <div className={classes.group}>\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"ImmuneLevel\"\r\n      />\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"Toxicity\"\r\n      />\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"FoodPoisoning\"\r\n      />\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"ColdBrain\"\r\n      />\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"HeatRash\"\r\n      />\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"SlimeLung\"\r\n      />\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"Sunburn\"\r\n      />\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"PutridOdour\"\r\n      />\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"Spores\"\r\n      />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default withStyles(styles)(Health);\r\n","import * as React from \"react\";\r\nimport { MinionModifiersBehavior } from \"oni-save-parser\";\r\nimport { find, findIndex, merge } from \"lodash-es\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport { Theme, createStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Slider from \"@material-ui/lab/Slider\";\r\n\r\nimport AbstractBehaviorEditor from \"@/services/oni-save/components/AbstractBehaviorEditor\";\r\n\r\nconst ModifierBehaviorEditor = AbstractBehaviorEditor.ofType(\r\n  MinionModifiersBehavior\r\n);\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    valueLabel: {\r\n      marginBottom: theme.spacing.unit\r\n    }\r\n  });\r\n\r\nexport interface ValueProps {\r\n  className?: string;\r\n  gameObjectId: number;\r\n  modifier: string;\r\n  max?: number;\r\n}\r\n\r\ntype Props = ValueProps & StyleProps<typeof styles>;\r\n\r\nconst Value: React.SFC<Props> = ({\r\n  className,\r\n  classes,\r\n  gameObjectId,\r\n  modifier,\r\n  max\r\n}) => (\r\n  <ModifierBehaviorEditor gameObjectId={gameObjectId}>\r\n    {({ extraData: { amounts }, onExtraDataModify }) => {\r\n      const amount = find(amounts, x => x.name === modifier);\r\n      const value = (amount && amount.value.value) || 0;\r\n      function setAmount(value: number) {\r\n        const i = findIndex(amounts, x => x.name === modifier);\r\n        if (i === -1) {\r\n          return;\r\n        }\r\n        onExtraDataModify({\r\n          amounts: merge([], amounts, {\r\n            [i]: { name: modifier, value: { value } }\r\n          })\r\n        });\r\n      }\r\n      return (\r\n        <div className={className}>\r\n          <Typography className={classes.valueLabel} id={`${modifier}-label`}>\r\n            <Trans i18nKey={`oni:todo-trans.modifiers.${modifier}`}>\r\n              {modifier}\r\n            </Trans>\r\n            {\": \"}\r\n            {String(value)}\r\n          </Typography>\r\n          <Slider\r\n            aria-labeledby={`${modifier}-label`}\r\n            value={value}\r\n            min={0}\r\n            max={max || 100}\r\n            onChange={(_, value) => setAmount(value)}\r\n          />\r\n        </div>\r\n      );\r\n    }}\r\n  </ModifierBehaviorEditor>\r\n);\r\n\r\nexport default withStyles(styles)(Value);\r\n","import * as React from \"react\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport { Theme, createStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport PageContainer from \"@/components/PageContainer\";\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      width: \"100%\",\r\n      height: \"100%\"\r\n    },\r\n    text: {\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\",\r\n      marginTop: theme.spacing.unit\r\n    }\r\n  });\r\n\r\ntype Props = WithTranslation & StyleProps<typeof styles>;\r\nconst DuplicantNotFound: React.SFC<Props> = ({ t, classes }) => (\r\n  <PageContainer title={t(\"duplicant.conditions.missing_titlecase\")} back>\r\n    <div className={classes.root}>\r\n      <Typography className={classes.text} variant=\"h5\">\r\n        {t(\"duplicant.conditions.missing_titlecase\")}\r\n      </Typography>\r\n    </div>\r\n  </PageContainer>\r\n);\r\n\r\nexport default withStyles(styles)(withTranslation()(DuplicantNotFound));\r\n","import GeysersPage from \"./GeysersPage\";\r\nexport default GeysersPage;\r\n","import * as React from \"react\";\r\nimport { GeyserTypeNames } from \"oni-save-parser\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport { Theme, createStyles, withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport AbstractGameObjectList from \"@/services/oni-save/components/AbstractGameObjectList\";\r\n\r\nimport PageContainer from \"@/components/PageContainer\";\r\nimport RedirectIfNoSave from \"@/components/RedirectIfNoSave\";\r\nimport GeyserListItem from \"./components/GeyserListItem\";\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      flexWrap: \"wrap\",\r\n      margin: theme.spacing.unit\r\n    },\r\n    item: {\r\n      margin: theme.spacing.unit / 2\r\n    }\r\n  });\r\n\r\ntype Props = StyleProps<typeof styles> & WithTranslation;\r\nconst GeysersPage: React.SFC<Props> = ({ classes, t }) => (\r\n  <PageContainer title={t(\"geyser.noun_titlecase_plural\")}>\r\n    <RedirectIfNoSave />\r\n    <AbstractGameObjectList\r\n      gameObjectType={GeyserTypeNames.map(x => `GeyserGeneric_${x}`)}\r\n    >\r\n      {({ gameObjectIds }) => (\r\n        <div className={classes.root}>\r\n          {gameObjectIds.map(gameObjectId => (\r\n            <GeyserListItem\r\n              key={gameObjectId}\r\n              className={classes.item}\r\n              gameObjectId={gameObjectId}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </AbstractGameObjectList>\r\n  </PageContainer>\r\n);\r\n\r\nexport default withStyles(styles)(withTranslation()(GeysersPage));\r\n","import * as React from \"react\";\r\nimport { GeyserBehavior, GeyserType } from \"oni-save-parser\";\r\nimport classnames from \"classnames\";\r\n\r\nimport { Theme, createStyles, withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Slider from \"@material-ui/lab/Slider\";\r\n\r\nimport AbstractGeyserEditor from \"@/services/oni-save/components/AbstractGeyserEditor\";\r\n\r\nexport interface GeyserListItemProps {\r\n  gameObjectId: number;\r\n  className?: string;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: theme.spacing.unit * 45,\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      padding: theme.spacing.unit * 2\r\n    },\r\n    titleBar: {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      marginBottom: theme.spacing.unit\r\n    },\r\n    titleControls: {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      marginLeft: \"auto\"\r\n    },\r\n    sliderSection: {\r\n      marginTop: theme.spacing.unit\r\n    },\r\n    valueLabel: {\r\n      marginBottom: theme.spacing.unit\r\n    }\r\n  });\r\n\r\ntype Props = GeyserListItemProps & StyleProps<typeof styles>;\r\n\r\nconst GeyserListItem: React.SFC<Props> = ({\r\n  classes,\r\n  className,\r\n  gameObjectId\r\n}) => (\r\n  <AbstractGeyserEditor gameObjectId={gameObjectId}>\r\n    {({ geyserType, emitRate, onChangeEmitRate, onChangeGeyserType }) => (\r\n      <Paper className={classnames(className, classes.root)}>\r\n        <div className={classes.titleBar}>\r\n          <Typography variant=\"h6\">{geyserType}</Typography>\r\n          <div className={classes.titleControls} />\r\n        </div>\r\n        <Divider />\r\n        <Select\r\n          value={geyserType || \"\"}\r\n          onChange={e => onChangeGeyserType(e.target.value)}\r\n        >\r\n          {keysOfType(GeyserType).map(typeName => (\r\n            <MenuItem key={typeName} value={typeName}>\r\n              {typeName}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n        <div className={classes.sliderSection}>\r\n          <Typography className={classes.valueLabel} id=\"rate-label\">\r\n            Rate\r\n          </Typography>\r\n          <Slider\r\n            aria-labelledby=\"rate-label\"\r\n            value={emitRate || 0}\r\n            min={0}\r\n            max={1}\r\n            onChange={(_, value) => onChangeEmitRate(value)}\r\n          />\r\n        </div>\r\n      </Paper>\r\n    )}\r\n  </AbstractGeyserEditor>\r\n);\r\n\r\nexport default withStyles(styles)(GeyserListItem);\r\n\r\nfunction keysOfType<T>(type: T): (keyof T)[] {\r\n  return Object.keys(type) as any;\r\n}\r\n","import AbstractGeyserEditor from \"./AbstractGeyserEditor\";\r\nexport default AbstractGeyserEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { AbstractGeyserEditorProps } from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./state-props\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./dispatch-props\";\r\n\r\ntype Props = AbstractGeyserEditorProps & StateProps & DispatchProps;\r\n\r\nconst AbstractGeyserEditor: React.SFC<Props> = ({\r\n  emitRate,\r\n  geyserType,\r\n  onChangeEmitRate,\r\n  onChangeGeyserType,\r\n  children\r\n}) => (\r\n  <>\r\n    {React.Children.only(\r\n      children({ emitRate, geyserType, onChangeEmitRate, onChangeGeyserType })\r\n    )}\r\n  </>\r\n);\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(AbstractGeyserEditor);\r\n","import createCachedSelector from \"re-reselect\";\r\nimport { getBehavior, GeyserBehavior, GeyserType } from \"oni-save-parser\";\r\n\r\nimport { AbstractGeyserEditorProps } from \"./props\";\r\nimport { gameObjectsByIdSelector } from \"../../selectors/save-game\";\r\nimport { AppState } from \"@/state\";\r\n\r\nconst geyserConfigSelector = createCachedSelector(\r\n  gameObjectsByIdSelector,\r\n  (_: AppState, props: AbstractGeyserEditorProps) => props.gameObjectId,\r\n  (gameObjectsById, gameObjectId) => {\r\n    if (!gameObjectsById || !gameObjectsById[gameObjectId]) {\r\n      return null;\r\n    }\r\n    const gameObject = gameObjectsById[gameObjectId];\r\n\r\n    const geyserBehavior = getBehavior(gameObject, GeyserBehavior);\r\n    if (!geyserBehavior || !geyserBehavior.templateData.configuration) {\r\n      return null;\r\n    }\r\n    return geyserBehavior.templateData.configuration;\r\n  }\r\n)((_: AppState, props: AbstractGeyserEditorProps) => props.gameObjectId);\r\n\r\nexport default function mapStateToProps(\r\n  state: AppState,\r\n  props: AbstractGeyserEditorProps\r\n) {\r\n  const config = geyserConfigSelector(state, props);\r\n  return {\r\n    geyserType: config ? GeyserType[config.typeId.hash] : null,\r\n    emitRate: config ? config.rateRoll : null\r\n  };\r\n}\r\nexport type StateProps = ReturnType<typeof mapStateToProps>;\r\n","import { Dispatch } from \"redux\";\r\n\r\nimport {\r\n  modifyBehavior,\r\n  BehaviorDataTarget\r\n} from \"../../actions/modify-behavior\";\r\nimport { changeGeyserType } from \"../../actions/change-geyser-type\";\r\n\r\nimport { AbstractGeyserEditorProps } from \"./props\";\r\nimport { GeyserBehavior } from \"oni-save-parser\";\r\n\r\nexport default function mapDispatchToProps(\r\n  dispatch: Dispatch,\r\n  props: AbstractGeyserEditorProps\r\n) {\r\n  return {\r\n    onChangeEmitRate: (value: number) =>\r\n      dispatch(\r\n        modifyBehavior(\r\n          props.gameObjectId,\r\n          GeyserBehavior,\r\n          BehaviorDataTarget.Template,\r\n          {\r\n            configuration: {\r\n              rateRoll: value\r\n            }\r\n          }\r\n        )\r\n      ),\r\n    onChangeGeyserType: (type: string) =>\r\n      dispatch(changeGeyserType(props.gameObjectId, type))\r\n  };\r\n}\r\nexport type DispatchProps = ReturnType<typeof mapDispatchToProps>;\r\n","import MaterialsPage from \"./MaterialsPage\";\r\nexport default MaterialsPage;\r\n","import * as React from \"react\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport { Theme, createStyles, withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport PageContainer from \"@/components/PageContainer\";\r\n\r\nimport RedirectIfNoSave from \"@/components/RedirectIfNoSave\";\r\nimport MaterialsTable from \"./components/MaterialsTable\";\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      padding: theme.spacing.unit\r\n    }\r\n  });\r\n\r\ntype Props = StyleProps<typeof styles> & WithTranslation;\r\n\r\nconst MaterialsPage: React.SFC<Props> = ({ classes, t }) => {\r\n  return (\r\n    <PageContainer title={t(\"material.noun_titlecase\")}>\r\n      <RedirectIfNoSave />\r\n      <MaterialsTable className={classes.root} />\r\n    </PageContainer>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles)(withTranslation()(MaterialsPage));\r\n","import * as React from \"react\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\n\r\nimport AbstractMaterialList from \"@/services/oni-save/components/AbstractMaterialList\";\r\n\r\nimport DeleteLooseButton from \"./DeleteLooseButton\";\r\n\r\nexport interface MaterialsPageProps {\r\n  className?: string;\r\n}\r\n\r\ntype Props = MaterialsPageProps & WithTranslation;\r\n\r\nconst MaterialsTable: React.SFC<Props> = ({ className, t }) => {\r\n  function formatWeight(weight: number) {\r\n    if (Math.abs(weight) < 1000) {\r\n      const g = Number(weight.toFixed(2));\r\n      return t(\"material.gram\", { count: g });\r\n    }\r\n\r\n    const kg = Number((weight / 1000.0).toFixed(2));\r\n    return t(\"material.kilogram\", { count: kg });\r\n  }\r\n\r\n  return (\r\n    <AbstractMaterialList>\r\n      {({ materials, onDeleteLooseMaterial }) => (\r\n        <Table className={className}>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>{t(\"material.noun_titlecase\")}</TableCell>\r\n              <TableCell>\r\n                {t(\"material_loose.noun_titlecase\")}\r\n                <DeleteLooseButton\r\n                  materialName={t(\"material.all_titlecase\")}\r\n                  onDelete={onDeleteLooseMaterial}\r\n                />\r\n              </TableCell>\r\n              <TableCell>{t(\"material_storage.noun_titlecase\")}</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {materials.map(\r\n              ({ name, looseGrams, looseCount, storedGrams, storedCount }) => (\r\n                <TableRow key={name}>\r\n                  <TableCell>{name}</TableCell>\r\n                  <TableCell>\r\n                    {looseGrams > 0 && (\r\n                      <>\r\n                        {formatWeight(looseGrams)}\r\n                        <br />\r\n                        {t(\"material_loose.clump_count\", { count: looseCount })}\r\n                      </>\r\n                    )}\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {storedGrams > 0 && (\r\n                      <>\r\n                        {formatWeight(storedGrams)}\r\n                        <br />\r\n                        {t(\"material_storage.container_count\", {\r\n                          count: storedCount\r\n                        })}\r\n                      </>\r\n                    )}\r\n                  </TableCell>\r\n                </TableRow>\r\n              )\r\n            )}\r\n          </TableBody>\r\n        </Table>\r\n      )}\r\n    </AbstractMaterialList>\r\n  );\r\n};\r\n\r\nexport default withTranslation()(MaterialsTable);\r\n","import AbstractMaterialList from \"./AbstractMaterialList\";\r\nexport default AbstractMaterialList;\r\nexport * from \"./props\";\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { MaterialListProps } from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./state-props\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./dispatch-props\";\r\n\r\ntype Props = MaterialListProps & StateProps & DispatchProps;\r\n\r\nconst AbstractMaterialList: React.SFC<Props> = ({\r\n  materials,\r\n  onDeleteLooseMaterial,\r\n  children\r\n}) => (\r\n  <>{React.Children.only(children({ materials, onDeleteLooseMaterial }))}</>\r\n);\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(AbstractMaterialList);\r\n","import {\r\n  SimHashNames,\r\n  getBehavior,\r\n  PrimaryElementBehavior,\r\n  GameObject,\r\n  StorageBehavior\r\n} from \"oni-save-parser\";\r\nimport { createSelector } from \"reselect\";\r\n\r\nimport { saveGameSelector } from \"../../selectors/save-game\";\r\n\r\nimport { MaterialListItem } from \"./props\";\r\nimport { AppState } from \"@/state\";\r\n\r\n// TODO: Seeds, clothing, other sweepables\r\nconst MaterialGameObjectTypes = [...SimHashNames];\r\n\r\nconst materialsSelector = createSelector(\r\n  saveGameSelector,\r\n  saveGame => {\r\n    if (!saveGame) {\r\n      return [];\r\n    }\r\n\r\n    const rowsByMaterial: Record<string, MaterialListItem> = {};\r\n\r\n    function getMaterialRow(name: string) {\r\n      if (!rowsByMaterial[name]) {\r\n        rowsByMaterial[name] = {\r\n          name,\r\n          looseCount: 0,\r\n          looseGrams: 0,\r\n          storedCount: 0,\r\n          storedGrams: 0\r\n        };\r\n      }\r\n      return rowsByMaterial[name];\r\n    }\r\n\r\n    function addMaterialObject(\r\n      name: string,\r\n      gameObject: GameObject,\r\n      loose: boolean\r\n    ) {\r\n      const row = getMaterialRow(name);\r\n      const elementBehavior = getBehavior(gameObject, PrimaryElementBehavior);\r\n      if (!elementBehavior) {\r\n        return;\r\n      }\r\n\r\n      const { Units } = elementBehavior.templateData;\r\n      if (loose) {\r\n        row.looseCount++;\r\n        row.looseGrams += Units;\r\n      } else {\r\n        row.storedCount++;\r\n        row.storedGrams += Units;\r\n      }\r\n    }\r\n\r\n    for (const group of saveGame.gameObjects) {\r\n      const loose = MaterialGameObjectTypes.indexOf(group.name) !== -1;\r\n\r\n      for (const gameObject of group.gameObjects) {\r\n        if (loose) {\r\n          addMaterialObject(group.name, gameObject, true);\r\n        } else {\r\n          const storage = getBehavior(gameObject, StorageBehavior);\r\n          if (!storage) {\r\n            continue;\r\n          }\r\n          for (const item of storage.extraData) {\r\n            const primaryElement = getBehavior(item, PrimaryElementBehavior);\r\n            if (!primaryElement) {\r\n              continue;\r\n            }\r\n\r\n            addMaterialObject(item.name, gameObject, false);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return Object.keys(rowsByMaterial).map(k => rowsByMaterial[k]);\r\n  }\r\n);\r\n\r\nexport default function mapStateToProps(state: AppState) {\r\n  return {\r\n    materials: materialsSelector(state)\r\n  };\r\n}\r\nexport type StateProps = ReturnType<typeof mapStateToProps>;\r\n","import { deleteLooseMaterial } from \"../../actions/delete-loose-material\";\r\n\r\nconst mapDispatchToProps = {\r\n  onDeleteLooseMaterial: deleteLooseMaterial\r\n};\r\nexport default mapDispatchToProps;\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\n","import * as React from \"react\";\r\n\r\nimport { withTranslation, WithTranslation } from \"react-i18next\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\n\r\nimport ConfirmationDialog from \"@/components/ConfirmationDialog\";\r\n\r\nexport interface DeleteLooseButtonProps {\r\n  materialName: string;\r\n  onDelete(): void;\r\n}\r\n\r\ntype Props = DeleteLooseButtonProps & WithTranslation;\r\nconst DeleteLooseButton: React.SFC<Props> = ({ materialName, onDelete, t }) => (\r\n  <ConfirmationDialog\r\n    title={t(\"material_loose.verbs.delete_name\", { name: materialName })}\r\n    message={t(\"material_loose.prompts.delete\")}\r\n    onConfirm={onDelete}\r\n  >\r\n    {({ onClick }) => (\r\n      <IconButton onClick={onClick}>\r\n        <DeleteIcon />\r\n      </IconButton>\r\n    )}\r\n  </ConfirmationDialog>\r\n);\r\nexport default withTranslation()(DeleteLooseButton);\r\n","import * as React from \"react\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nexport interface ConfirmationDialogProps {\r\n  title: string;\r\n  message: string;\r\n  onConfirm(): void;\r\n  onCancel?(): void;\r\n  children(props: ConfirmationDialogRenderProps): React.ReactChild;\r\n}\r\nexport interface ConfirmationDialogRenderProps {\r\n  onClick(): void;\r\n}\r\n\r\ntype Props = ConfirmationDialogProps;\r\nconst ConfirmationDialog: React.SFC<Props> = ({\r\n  title,\r\n  message,\r\n  onConfirm,\r\n  onCancel,\r\n  children\r\n}) => {\r\n  const [isOpen, setOpen] = React.useState(false);\r\n\r\n  const onCancelClick = React.useCallback(() => {\r\n    setOpen(false);\r\n    if (onCancel) {\r\n      onCancel();\r\n    }\r\n  }, [onCancel]);\r\n\r\n  const onConfirmClick = React.useCallback(() => {\r\n    setOpen(false);\r\n    onConfirm();\r\n  }, [onConfirm]);\r\n\r\n  return (\r\n    <>\r\n      {children({ onClick: () => setOpen(true) })}\r\n      <Dialog open={isOpen}>\r\n        {isOpen && (\r\n          <>\r\n            <DialogTitle>{title}</DialogTitle>\r\n            <DialogContent>\r\n              <Typography>{message}</Typography>\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button onClick={onCancelClick}>\r\n                <Trans i18nKey=\"dialog.verbs.cancel_titlecase\" />\r\n              </Button>\r\n              <Button onClick={onConfirmClick}>\r\n                <Trans i18nKey=\"dialog.verbs.confirm_titlecase\" />\r\n              </Button>\r\n            </DialogActions>\r\n          </>\r\n        )}\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\nexport default ConfirmationDialog;\r\n","import SettingsPage from \"./SettingsPage\";\r\nexport default SettingsPage;\r\n","import * as React from \"react\";\r\n\r\nimport { Theme, createStyles, withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport PageContainer from \"@/components/PageContainer\";\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      padding: theme.spacing.unit\r\n    }\r\n  });\r\n\r\ntype Props = StyleProps<typeof styles>;\r\n\r\nconst SettingsPage: React.SFC<Props> = ({ classes }) => (\r\n  <PageContainer title=\"Settings\" back>\r\n    <div className={classes.root}>\r\n      <Typography variant=\"h6\">Help Wanted: Translations</Typography>\r\n      <Typography>\r\n        <br />\r\n        Contribute translations at the{\" \"}\r\n        <a href=\"https://github.com/robophred/oni-duplicity\">GitHub Repo</a>\r\n      </Typography>\r\n    </div>\r\n  </PageContainer>\r\n);\r\nexport default withStyles(styles)(SettingsPage);\r\n","import platform from \"platform\";\r\n\r\nconst OS_WINDOWS = /windows/i;\r\nconst OS_MAC = /Mac|iOS|(OS\\ X)/;\r\nconst OS_LINUX = /linux/i;\r\n\r\nexport type OSType = \"windows\" | \"mac\" | \"linux\" | \"unknown\";\r\n\r\nconst osPlatform = (platform.os && platform.os.family) || \"unknown\";\r\nexport const OSType: OSType = OS_WINDOWS.test(osPlatform)\r\n  ? \"windows\"\r\n  : OS_MAC.test(osPlatform)\r\n    ? \"mac\"\r\n    : OS_LINUX.test(osPlatform)\r\n      ? \"linux\"\r\n      : \"unknown\";\r\n\r\nexport const isProd: boolean = process.env.NODE_ENV === \"production\";\r\n","import { createHashHistory } from \"history\";\r\n\r\nconst history = createHashHistory({\r\n  // Only needed for browserHistory\r\n  // basename: __webpack_public_path__\r\n});\r\nexport default history;\r\n","import {\r\n  SaveGame,\r\n  getBehavior,\r\n  KPrefabIDBehavior,\r\n  GameObject\r\n} from \"oni-save-parser\";\r\n\r\n// We cannot use a selector for this, as it is called with draft objects from immer.\r\nexport function getGameObjectById(\r\n  saveGame: SaveGame,\r\n  gameObjectId: number\r\n): GameObject | null {\r\n  for (const group of saveGame.gameObjects) {\r\n    for (const gameObject of group.gameObjects) {\r\n      const idBehavior = getBehavior(gameObject, KPrefabIDBehavior);\r\n      if (!idBehavior) {\r\n        continue;\r\n      }\r\n      if (idBehavior.templateData.InstanceID === gameObjectId) {\r\n        return gameObject;\r\n      }\r\n    }\r\n  }\r\n  return null;\r\n}\r\n","export const ACTION_ONISAVE_LOAD = \"oni-save/load\";\r\nexport const loadOniSave = (file: File) => ({\r\n  type: ACTION_ONISAVE_LOAD as typeof ACTION_ONISAVE_LOAD,\r\n  payload: file\r\n});\r\nexport type LoadOniSaveAction = ReturnType<typeof loadOniSave>;\r\n","import { AppState } from \"@/state\";\r\n\r\nexport const loadingStatusSelector = (state: AppState) =>\r\n  state.services.oniSave.loadingStatus;\r\n\r\nexport const loadingStatusMessageSelector = (state: AppState) =>\r\n  state.services.oniSave.loadingProgressMessage;\r\n\r\nexport const loadingErrorSelector = (state: AppState) =>\r\n  state.services.oniSave.loadError;\r\n","import {\r\n  compose,\r\n  createStore as createReduxStore,\r\n  applyMiddleware\r\n} from \"redux\";\r\n\r\nimport createSagaMiddleware from \"redux-saga\";\r\n\r\nimport { routerMiddleware } from \"connected-react-router\";\r\n\r\nimport history from \"@/history\";\r\n\r\nimport reducer from \"./reducer\";\r\nimport saga from \"./saga\";\r\n\r\nimport {\r\n  actionSanitizer,\r\n  stateSanitizer,\r\n  actionsBlacklist\r\n} from \"./devtool-sanitizer\";\r\n\r\nfunction createStore() {\r\n  const composeEnhancers =\r\n    (window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ &&\r\n      window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\r\n        actionSanitizer,\r\n        stateSanitizer,\r\n        actionsBlacklist\r\n      })) ||\r\n    compose;\r\n\r\n  const sagaMiddleware = createSagaMiddleware();\r\n\r\n  const store = createReduxStore(\r\n    reducer,\r\n    composeEnhancers(applyMiddleware(sagaMiddleware, routerMiddleware(history)))\r\n  );\r\n  sagaMiddleware.run(saga);\r\n  return store;\r\n}\r\n\r\nconst store = createStore();\r\nexport default store;\r\n","export interface I18NState {\r\n  language: string;\r\n}\r\n\r\nexport const defaultI18NState: Readonly<I18NState> = {\r\n  language: \"en\"\r\n};\r\nObject.freeze(defaultI18NState);\r\n","import i18n from \"i18next\";\r\nimport { initReactI18next } from \"react-i18next\";\r\n\r\nimport { isProd } from \"@/runtime-env\";\r\n\r\n// TODO: Use backends to save on file space\r\n//  Deferring until I get a chance to focus on splitting the bundles.\r\n// import Backend from \"i18next-xhr-backend\";\r\n\r\ni18n.use(initReactI18next).init({\r\n  fallbackLng: \"en\",\r\n\r\n  ns: [\"common\", \"oni\"],\r\n  defaultNS: \"common\",\r\n\r\n  resources: {\r\n    en: {\r\n      common: require(\"@/translations/en/common.json\"),\r\n      oni: require(\"@/translations/en/oni.json\")\r\n    }\r\n  },\r\n\r\n  debug: !isProd,\r\n\r\n  interpolation: {\r\n    escapeValue: false // not needed for react!!\r\n  },\r\n\r\n  react: {\r\n    wait: true\r\n  }\r\n});\r\n\r\nexport default i18n;\r\n","import { AnyAction } from \"redux\";\r\n\r\nexport const ACTION_ONISAVE_CHANGE_GEYSER_TYPE = \"oni-save/change-geyser-type\";\r\n\r\n/**\r\n * Changes the game object type of the given game object id.\r\n *\r\n * This is a dangerous operation, and intended only for swapping geysers.\r\n */\r\nexport const changeGeyserType = (gameObjectId: number, geyserType: string) => ({\r\n  type: ACTION_ONISAVE_CHANGE_GEYSER_TYPE as typeof ACTION_ONISAVE_CHANGE_GEYSER_TYPE,\r\n  payload: { gameObjectId, geyserType }\r\n});\r\nexport type ChangeGeyserTypeAction = ReturnType<typeof changeGeyserType>;\r\nexport function isChangeGeyserTypeAction(\r\n  action: AnyAction\r\n): action is ChangeGeyserTypeAction {\r\n  return action.type === ACTION_ONISAVE_CHANGE_GEYSER_TYPE;\r\n}\r\n","import { AppState } from \"@/state\";\r\n\r\nimport { OniSaveState } from \"../state\";\r\n\r\nexport interface OniSaveServiceSelector<T> {\r\n  (state: AppState): T;\r\n  local(state: OniSaveState): T;\r\n}\r\n\r\nexport function createServiceSelector<T>(\r\n  selector: (state: OniSaveState) => T\r\n): OniSaveServiceSelector<T> {\r\n  const rootSelector = (state: AppState) => selector(state.services.oniSave);\r\n  rootSelector.local = selector;\r\n  return rootSelector;\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nexport const ACTION_ONISAVE_CLONE_DUPLICANT = \"oni-save/clone-duplicant\";\r\nexport const cloneDuplicant = (gameObjectId: number) => ({\r\n  type: ACTION_ONISAVE_CLONE_DUPLICANT as typeof ACTION_ONISAVE_CLONE_DUPLICANT,\r\n  payload: { gameObjectId }\r\n});\r\nexport type CloneDuplicantAction = ReturnType<typeof cloneDuplicant>;\r\n\r\nexport function isCloneDuplicantAction(\r\n  action: AnyAction\r\n): action is CloneDuplicantAction {\r\n  return action.type === ACTION_ONISAVE_CLONE_DUPLICANT;\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nexport const ACTION_ONISAVE_COPY_BEHAVIORS = \"oni-save/copy-behaviors\";\r\nexport const copyBehaviors = (gameObjectId: number, behaviors: string[]) => ({\r\n  type: ACTION_ONISAVE_COPY_BEHAVIORS as typeof ACTION_ONISAVE_COPY_BEHAVIORS,\r\n  payload: { gameObjectId, behaviors }\r\n});\r\nexport type CopyBehaviorsAction = ReturnType<typeof copyBehaviors>;\r\n\r\nexport function isCopyBehaviorsAction(\r\n  action: AnyAction\r\n): action is CopyBehaviorsAction {\r\n  return action.type === ACTION_ONISAVE_COPY_BEHAVIORS;\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nexport const ACTION_ONISAVE_DELETE_LOOSE_MATERIAL =\r\n  \"oni-save/delete-loose-material\";\r\nexport const deleteLooseMaterial = (materialType?: string) => ({\r\n  type: ACTION_ONISAVE_DELETE_LOOSE_MATERIAL as typeof ACTION_ONISAVE_DELETE_LOOSE_MATERIAL,\r\n  payload: { materialType }\r\n});\r\nexport type DeleteLooseMaterialAction = ReturnType<typeof deleteLooseMaterial>;\r\nexport function isDeleteLooseMaterialAction(\r\n  action: AnyAction\r\n): action is DeleteLooseMaterialAction {\r\n  return action.type === ACTION_ONISAVE_DELETE_LOOSE_MATERIAL;\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nexport const ACTION_ONISAVE_LOAD_EXAMPLE = \"oni-save/load-example\";\r\nexport const loadExampleSave = () => ({\r\n  type: ACTION_ONISAVE_LOAD_EXAMPLE\r\n});\r\nexport type LoadExampleSaveAction = ReturnType<typeof loadExampleSave>;\r\nexport function isLoadExampleSaveAction(\r\n  action: AnyAction\r\n): action is LoadExampleSaveAction {\r\n  return action.type === ACTION_ONISAVE_LOAD_EXAMPLE;\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nexport const ACTION_ONISAVE_MERGE_BEHAVIORS = \"oni-save/merge-behaviors\";\r\nexport const mergeBehaviors = (\r\n  gameObjectId: number,\r\n  behaviors: Record<string, { templateData?: any; extraData?: any }>\r\n) => ({\r\n  type: ACTION_ONISAVE_MERGE_BEHAVIORS as typeof ACTION_ONISAVE_MERGE_BEHAVIORS,\r\n  payload: { gameObjectId, behaviors }\r\n});\r\nexport type MergeBehaviorsAction = ReturnType<typeof mergeBehaviors>;\r\n\r\nexport function isMergeBehaviorsAction(\r\n  action: AnyAction\r\n): action is MergeBehaviorsAction {\r\n  return action.type === ACTION_ONISAVE_MERGE_BEHAVIORS;\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nexport const ACTION_ONISAVE_PASTE_BEHAVIORS = \"oni-save/paste-behaviors\";\r\nexport const pasteBehaviors = (gameObjectId: number, behaviors?: string[]) => ({\r\n  type: ACTION_ONISAVE_PASTE_BEHAVIORS as typeof ACTION_ONISAVE_PASTE_BEHAVIORS,\r\n  payload: { gameObjectId, behaviors }\r\n});\r\nexport type PasteBehaviorAction = ReturnType<typeof pasteBehaviors>;\r\n\r\nexport function isPasteBehaviorsAction(\r\n  action: AnyAction\r\n): action is PasteBehaviorAction {\r\n  return action.type === ACTION_ONISAVE_PASTE_BEHAVIORS;\r\n}\r\n","export const ACTION_ONISAVE_EXPORT_BEHAVIORS = \"oni-save/export-behaviors\";\r\nexport const exportBehaviors = (gameObjectId: number, behaviors: string[]) => ({\r\n  type: ACTION_ONISAVE_EXPORT_BEHAVIORS as typeof ACTION_ONISAVE_EXPORT_BEHAVIORS,\r\n  payload: { gameObjectId, behaviors }\r\n});\r\nexport type ExportBehaviorsAction = ReturnType<typeof exportBehaviors>;\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nimport {\r\n  RESPONSE_PROGRESS,\r\n  RESPONSE_PARSE_ERROR,\r\n  RESPONSE_PARSE_SUCCESS,\r\n  RESPONSE_WRITE_ERROR,\r\n  RESPONSE_WRITE_SUCCESS,\r\n  SaveParserResultEvent,\r\n  parseSave as parseSaveCommand,\r\n  writeSave as writeSaveCommand,\r\n  jsonToError\r\n} from \"./worker-messages\";\r\n\r\nimport SaveLoadWorker from \"worker-loader!./save-serializer.worker\";\r\n\r\nconst worker = new SaveLoadWorker();\r\n\r\nexport function parseSave(\r\n  data: ArrayBuffer,\r\n  onProgress?: (message: string) => void\r\n): Promise<SaveGame> {\r\n  const promise = new Promise<SaveGame>((accept, reject) => {\r\n    const unhook = () => {\r\n      worker.onerror = null;\r\n      worker.onmessage = null;\r\n    };\r\n\r\n    worker.onerror = error => reject(error);\r\n    worker.onmessage = (message: SaveParserResultEvent) => {\r\n      const { data } = message;\r\n      switch (data.type) {\r\n        case RESPONSE_PROGRESS:\r\n          onProgress && onProgress(data.message);\r\n          break;\r\n        case RESPONSE_PARSE_SUCCESS:\r\n          unhook();\r\n          accept(data.saveGame);\r\n          break;\r\n        case RESPONSE_PARSE_ERROR:\r\n          unhook();\r\n          reject(jsonToError(data.error));\r\n          break;\r\n      }\r\n    };\r\n  });\r\n\r\n  worker.postMessage(parseSaveCommand(data));\r\n\r\n  return promise;\r\n}\r\n\r\nexport function writeSave(\r\n  saveGame: SaveGame,\r\n  onProgress?: (message: string) => void\r\n): Promise<ArrayBuffer> {\r\n  const promise = new Promise<ArrayBuffer>((accept, reject) => {\r\n    const unhook = () => {\r\n      worker.onerror = null;\r\n      worker.onmessage = null;\r\n    };\r\n\r\n    worker.onerror = error => reject(error);\r\n    worker.onmessage = (message: SaveParserResultEvent) => {\r\n      const { data } = message;\r\n      switch (data.type) {\r\n        case RESPONSE_PROGRESS:\r\n          onProgress && onProgress(data.message);\r\n          break;\r\n        case RESPONSE_WRITE_SUCCESS:\r\n          unhook();\r\n          accept(data.data);\r\n          break;\r\n        case RESPONSE_WRITE_ERROR:\r\n          unhook();\r\n          reject(jsonToError(data.error));\r\n          break;\r\n      }\r\n    };\r\n  });\r\n\r\n  worker.postMessage(writeSaveCommand(saveGame));\r\n\r\n  return promise;\r\n}\r\n","export const ACTION_ONISAVE_SAVE = \"oni-save/save\";\r\nexport const saveOniSave = (fileName?: string) => ({\r\n  type: ACTION_ONISAVE_SAVE as typeof ACTION_ONISAVE_SAVE,\r\n  payload: fileName\r\n});\r\nexport type SaveOniSaveAction = ReturnType<typeof saveOniSave>;\r\n","import AbstractEditStatus from \"./AbstractEditStatus\";\r\nexport default AbstractEditStatus;\r\n","import AbstractGameObjectList from \"./AbstractGameObjectList\";\r\nexport default AbstractGameObjectList;\r\n","import * as React from \"react\";\r\n\r\nimport TextField, { TextFieldProps } from \"@material-ui/core/TextField\";\r\n\r\nexport type CommitTextFieldProps = TextFieldProps & {\r\n  onCommit?(value: string): void;\r\n};\r\n\r\ninterface State {\r\n  value: string | null;\r\n}\r\nclass CommitTextField extends React.Component<CommitTextFieldProps, State> {\r\n  state = {\r\n    value: null\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      onCommit,\r\n      onChange,\r\n      onBlur,\r\n      onKeyPress,\r\n      value: prevValue,\r\n      ...props\r\n    } = this.props;\r\n    const { value: editValue } = this.state;\r\n    return (\r\n      <TextField\r\n        {...props}\r\n        value={editValue || prevValue}\r\n        onChange={this._onChange}\r\n        onBlur={this._onBlur}\r\n        onKeyPress={this._onKeyPress}\r\n      />\r\n    );\r\n  }\r\n\r\n  private _onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { onChange } = this.props;\r\n    if (onChange) {\r\n      onChange(e);\r\n    }\r\n\r\n    this.setState({ value: e.target.value });\r\n  };\r\n\r\n  private _onKeyPress = (e: React.KeyboardEvent<HTMLDivElement>) => {\r\n    const { onKeyPress } = this.props;\r\n    if (onKeyPress) {\r\n      onKeyPress(e);\r\n    }\r\n\r\n    if (e.key === \"Enter\") {\r\n      this._commit();\r\n    }\r\n  };\r\n\r\n  private _onBlur = (e: React.FocusEvent) => {\r\n    const { onBlur } = this.props;\r\n    if (onBlur) {\r\n      onBlur(e);\r\n    }\r\n\r\n    this._commit();\r\n  };\r\n\r\n  private _commit() {\r\n    const { value: prevValue, onCommit } = this.props;\r\n    const { value } = this.state;\r\n    if (onCommit && value && value !== prevValue) {\r\n      onCommit(value);\r\n    }\r\n\r\n    this.setState({\r\n      value: null\r\n    });\r\n  }\r\n}\r\n\r\nexport default CommitTextField;\r\n","import \"es6-promise/auto\";\r\nimport \"typeface-roboto\";\r\n\r\nimport \"@/style.css\";\r\n\r\nimport \"@/debug\";\r\n\r\nimport * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\n\r\nimport Root from \"./root\";\r\n\r\nconst rootEl = document.getElementById(\"root\");\r\nif (rootEl) {\r\n  ReactDOM.render(<Root />, rootEl);\r\n}\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nexport enum LoadingStatus {\r\n  Idle = \"idle\",\r\n  Loading = \"loading\",\r\n  Saving = \"saving\",\r\n  Ready = \"ready\",\r\n  Error = \"error\"\r\n}\r\n\r\nexport interface CopyPasteData {\r\n  gameObjectType: string;\r\n  behaviors: Record<string, BehaviorCopyData>;\r\n}\r\nexport interface BehaviorCopyData {\r\n  templateData?: any;\r\n  extraData?: any;\r\n}\r\n\r\nexport interface OniSaveState {\r\n  loadingStatus: LoadingStatus;\r\n  loadingProgressMessage: string | null;\r\n  loadError: Error | null;\r\n  saveGame: SaveGame | null;\r\n  isMock: boolean;\r\n  isModified: boolean;\r\n  copyPasteData: CopyPasteData | null;\r\n  warnInputChecksum: boolean;\r\n}\r\n\r\nexport const defaultOniSaveState: Readonly<OniSaveState> = {\r\n  loadingStatus: LoadingStatus.Idle,\r\n  loadingProgressMessage: null,\r\n  loadError: null,\r\n  saveGame: null,\r\n  isMock: false,\r\n  isModified: false,\r\n  copyPasteData: null,\r\n  warnInputChecksum: false\r\n};\r\nObject.freeze(defaultOniSaveState);\r\n","\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js!./style.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js!./style.css\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js!./style.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"/*\\r\\nThis should be kept minimal and only provide globals\\r\\nor non-react component styles.\\r\\n\\r\\nStyles for react components should use the jss style api provided\\r\\nby material-ui\\r\\n*/\\r\\n\\r\\nhtml,\\r\\nbody,\\r\\n#root {\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n}\\r\\n\", \"\"]);\n\n","import { isProd } from \"@/runtime-env\";\r\n\r\nimport store from \"@/store/store\";\r\n\r\nimport {\r\n  receiveOniSaveSuccess,\r\n  receiveOniSaveError\r\n} from \"@/services/oni-save/actions/receive-onisave\";\r\nimport { LoadingStatus } from \"@/services/oni-save/state\";\r\n\r\nif (!isProd) {\r\n  window.loadMockSave = () => {\r\n    const mockSaveGame = require(\"@/__mocks__/save-game.json\");\r\n    store.dispatch(receiveOniSaveSuccess(mockSaveGame, LoadingStatus.Loading));\r\n  };\r\n  window.loadMockError = () => {\r\n    store.dispatch(\r\n      receiveOniSaveError(\r\n        new Error(\"This is a test error\"),\r\n        LoadingStatus.Loading\r\n      )\r\n    );\r\n  };\r\n}\r\n","import { combineReducers, AnyAction } from \"redux\";\r\n\r\nimport { connectRouter } from \"connected-react-router\";\r\n\r\nimport i18nReducer from \"@/services/i18n/reducer\";\r\nimport oniSaveReducer from \"@/services/oni-save/reducer\";\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport history from \"@/history\";\r\nconst routerReducer = connectRouter(history);\r\n\r\nconst servicesReducer = combineReducers({\r\n  i18n: i18nReducer,\r\n  oniSave: oniSaveReducer\r\n});\r\n\r\nexport default function reducer(\r\n  state: AppState = defaultAppState,\r\n  action: AnyAction\r\n): AppState {\r\n  return {\r\n    router: routerReducer(state.router, action as any),\r\n    services: servicesReducer(state.services, action)\r\n  };\r\n}\r\n","import setLanguageReducer from \"./set-language\";\r\n\r\nexport default setLanguageReducer;\r\n","import { Action } from \"redux\";\r\n\r\nimport { I18NState, defaultI18NState } from \"../state\";\r\n\r\nimport {\r\n  ACTION_SET_LANGUAGE,\r\n  SetLanguageAction\r\n} from \"../actions/set-language\";\r\n\r\nimport i18n from \"../i18n\";\r\n\r\nexport default function setLanguageReducer(\r\n  state: I18NState = defaultI18NState,\r\n  action: Action\r\n): I18NState {\r\n  if (action.type !== ACTION_SET_LANGUAGE) {\r\n    return state;\r\n  }\r\n\r\n  const lang = (action as SetLanguageAction).payload;\r\n\r\n  i18n.changeLanguage(lang);\r\n\r\n  return {\r\n    ...state,\r\n    language: lang\r\n  };\r\n}\r\n","export const ACTION_SET_LANGUAGE = \"app/set-language\";\r\nexport const setLanguage = (language: string) => ({\r\n  type: ACTION_SET_LANGUAGE as typeof ACTION_SET_LANGUAGE,\r\n  payload: language\r\n});\r\nexport type SetLanguageAction = ReturnType<typeof setLanguage>;\r\n","import { createSelector } from \"reselect\";\r\nimport { GameObject, getBehavior, KPrefabIDBehavior } from \"oni-save-parser\";\r\n\r\nimport { OniSaveState } from \"../state\";\r\n\r\nimport { createServiceSelector } from \"./utils\";\r\n\r\nexport const saveGameSelector = createServiceSelector(\r\n  (state: OniSaveState) => state.saveGame\r\n);\r\n\r\nexport const isMockSelector = createServiceSelector(\r\n  (state: OniSaveState) => state.isMock\r\n);\r\n\r\nexport const isSaveModifiedSelector = createServiceSelector(\r\n  (state: OniSaveState) => state.isModified\r\n);\r\n\r\nexport const gameObjectGroupsSelector = createServiceSelector(\r\n  (state: OniSaveState) => {\r\n    const saveGame = saveGameSelector.local(state);\r\n    if (!saveGame) {\r\n      return null;\r\n    }\r\n\r\n    return saveGame.gameObjects;\r\n  }\r\n);\r\n\r\nexport const gameObjectTypesByIdSelector = createServiceSelector(\r\n  createSelector(\r\n    gameObjectGroupsSelector.local,\r\n    groups => {\r\n      const gameObjectTypesById: Record<number, string> = {};\r\n\r\n      if (!groups) {\r\n        return gameObjectTypesById;\r\n      }\r\n\r\n      for (const group of groups) {\r\n        for (const gameObject of group.gameObjects) {\r\n          const idBehavior = getBehavior(gameObject, KPrefabIDBehavior);\r\n          if (!idBehavior) {\r\n            continue;\r\n          }\r\n          const { InstanceID } = idBehavior.templateData;\r\n          gameObjectTypesById[InstanceID] = group.name;\r\n        }\r\n      }\r\n\r\n      return gameObjectTypesById;\r\n    }\r\n  )\r\n);\r\n\r\nexport const gameObjectsByIdSelector = createServiceSelector(\r\n  createSelector(\r\n    gameObjectGroupsSelector.local,\r\n    groups => {\r\n      const gameObjectsById: Record<number, GameObject> = {};\r\n\r\n      if (!groups) {\r\n        return gameObjectsById;\r\n      }\r\n\r\n      for (const group of groups) {\r\n        for (const gameObject of group.gameObjects) {\r\n          const idBehavior = getBehavior(gameObject, KPrefabIDBehavior);\r\n          if (!idBehavior) {\r\n            continue;\r\n          }\r\n          const { InstanceID } = idBehavior.templateData;\r\n          gameObjectsById[InstanceID] = gameObject;\r\n        }\r\n      }\r\n\r\n      return gameObjectsById;\r\n    }\r\n  )\r\n);\r\n","import reduceReducers from \"reduce-reducers\";\r\n\r\nimport changeGeyserTypeReducer from \"./change-geyser-type\";\r\nimport cloneDuplicantReducer from \"./clone-duplicant\";\r\nimport copyBehaviorsReducer from \"./copy-behaviors\";\r\nimport deleteLooseMaterial from \"./delete-looe-material\";\r\nimport importWarnChecksumReducer from \"./import-warn-checksum\";\r\nimport loadExampleSaveReducer from \"./load-example\";\r\nimport mergeBehaviorsReducer from \"./merge-behaviors\";\r\nimport modifyBehaviorReducer from \"./modify-behavior\";\r\nimport parseProgressReducer from \"./parse-progress\";\r\nimport pasteBehaviorsReducer from \"./paste-behaviors\";\r\nimport receiveOniSaveReducer from \"./receive-onisave\";\r\n\r\nexport default reduceReducers(\r\n  changeGeyserTypeReducer,\r\n  cloneDuplicantReducer,\r\n  copyBehaviorsReducer,\r\n  deleteLooseMaterial,\r\n  importWarnChecksumReducer,\r\n  loadExampleSaveReducer,\r\n  mergeBehaviorsReducer,\r\n  modifyBehaviorReducer,\r\n  parseProgressReducer,\r\n  pasteBehaviorsReducer,\r\n  receiveOniSaveReducer\r\n);\r\n","import { AnyAction } from \"redux\";\r\nimport { findIndex, find, startsWith } from \"lodash-es\";\r\nimport produce from \"immer\";\r\nimport { GeyserType, HashedString } from \"oni-save-parser\";\r\n\r\nimport { OniSaveState, defaultOniSaveState } from \"../state\";\r\n\r\nimport { isChangeGeyserTypeAction } from \"../actions/change-geyser-type\";\r\nimport { gameObjectTypesByIdSelector } from \"../selectors/save-game\";\r\nimport {\r\n  getBehavior,\r\n  KPrefabIDBehavior,\r\n  GeyserBehavior\r\n} from \"oni-save-parser\";\r\n\r\nexport default function changeGeyserTypeReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (!isChangeGeyserTypeAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  if (!state.saveGame) {\r\n    return state;\r\n  }\r\n\r\n  const { gameObjectId, geyserType } = action.payload;\r\n\r\n  const typesById = gameObjectTypesByIdSelector.local(state);\r\n  if (!typesById || !typesById[gameObjectId]) {\r\n    return state;\r\n  }\r\n\r\n  const oldType = typesById[gameObjectId];\r\n  if (!startsWith(oldType, \"GeyserGeneric_\")) {\r\n    return state;\r\n  }\r\n\r\n  return produce(state, draft => {\r\n    const saveGame = draft.saveGame!;\r\n    const groupIndex = findIndex(saveGame.gameObjects, x => x.name === oldType);\r\n    if (groupIndex === -1) {\r\n      return;\r\n    }\r\n    const oldGroup = saveGame.gameObjects[groupIndex];\r\n\r\n    const oldIndex = findIndex(oldGroup.gameObjects, gameObject => {\r\n      const idBehavior = getBehavior(gameObject, KPrefabIDBehavior);\r\n      if (!idBehavior) {\r\n        return false;\r\n      }\r\n      return idBehavior.templateData.InstanceID === gameObjectId;\r\n    });\r\n    if (oldIndex === -1) {\r\n      return;\r\n    }\r\n\r\n    const gameObject = oldGroup.gameObjects.splice(oldIndex, 1)[0];\r\n\r\n    const geyserBehavior = getBehavior(gameObject, GeyserBehavior);\r\n    if (!geyserBehavior || !geyserBehavior.templateData.configuration) {\r\n      return;\r\n    }\r\n    geyserBehavior.templateData.configuration.typeId = HashedString(geyserType);\r\n\r\n    const newObjectType = `GeyserGeneric_${geyserType}`;\r\n    let newGroup = find(saveGame.gameObjects, x => x.name === newObjectType);\r\n    if (!newGroup) {\r\n      newGroup = {\r\n        name: newObjectType,\r\n        gameObjects: []\r\n      };\r\n      saveGame.gameObjects.push(newGroup);\r\n    }\r\n    newGroup.gameObjects.push(gameObject);\r\n  });\r\n}\r\n","import AbstractBehaviorEditor from \"./AbstractBehaviorEditor\";\r\nexport default AbstractBehaviorEditor;\r\n","import { AnyAction } from \"redux\";\r\nimport produce from \"immer\";\r\nimport { find, findIndex } from \"lodash-es\";\r\n\r\nimport { defaultOniSaveState, OniSaveState } from \"../state\";\r\nimport { isCloneDuplicantAction } from \"../actions/clone-duplicant\";\r\nimport { gameObjectsByIdSelector } from \"../selectors/save-game\";\r\nimport {\r\n  KPrefabIDBehavior,\r\n  GameObject,\r\n  getBehavior,\r\n  MinionIdentityBehavior\r\n} from \"oni-save-parser\";\r\n\r\nconst BEHAVIOR_BLACKLIST = [\"StateMachineController\", \"Navigator\"];\r\nKPrefabIDBehavior;\r\n\r\nexport default function cloneDuplicantReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (!isCloneDuplicantAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  if (!state.saveGame) {\r\n    return state;\r\n  }\r\n\r\n  const { gameObjectId } = action.payload;\r\n\r\n  const gameObjectsById = gameObjectsByIdSelector.local(state);\r\n  if (!gameObjectId || !gameObjectsById[gameObjectId]) {\r\n    return state;\r\n  }\r\n  const sourceGameObject = gameObjectsById[gameObjectId];\r\n\r\n  return produce(state, draft => {\r\n    const minionObjects = find(\r\n      draft.saveGame!.gameObjects,\r\n      x => x.name === \"Minion\"\r\n    );\r\n    if (!minionObjects) {\r\n      return;\r\n    }\r\n\r\n    const newMinion: GameObject = {\r\n      ...sourceGameObject,\r\n      behaviors: sourceGameObject.behaviors.filter(\r\n        behavior => BEHAVIOR_BLACKLIST.indexOf(behavior.name) === -1\r\n      )\r\n    };\r\n\r\n    const idBehaviorIndex = findIndex(\r\n      newMinion.behaviors,\r\n      x => x.name === KPrefabIDBehavior\r\n    );\r\n    if (idBehaviorIndex === -1) {\r\n      return;\r\n    }\r\n\r\n    const newPrefabId = draft.saveGame!.settings.nextUniqueID;\r\n    draft.saveGame!.settings.nextUniqueID += 1;\r\n\r\n    newMinion.behaviors[idBehaviorIndex] = {\r\n      ...newMinion.behaviors[idBehaviorIndex],\r\n      templateData: {\r\n        ...newMinion.behaviors[idBehaviorIndex].templateData,\r\n        InstanceID: newPrefabId\r\n      }\r\n    };\r\n\r\n    const identityBehaviorIndex = findIndex(\r\n      newMinion.behaviors,\r\n      x => x.name === MinionIdentityBehavior\r\n    );\r\n    if (identityBehaviorIndex !== -1) {\r\n      newMinion.behaviors[identityBehaviorIndex] = {\r\n        ...newMinion.behaviors[identityBehaviorIndex],\r\n        templateData: {\r\n          ...newMinion.behaviors[identityBehaviorIndex].templateData,\r\n          name: `Clone of ${\r\n            newMinion.behaviors[identityBehaviorIndex].templateData.name\r\n          }`\r\n        }\r\n      };\r\n    }\r\n\r\n    minionObjects.gameObjects.push(newMinion);\r\n\r\n    draft.isModified = true;\r\n  });\r\n}\r\n","import { AnyAction } from \"redux\";\r\nimport { getBehavior } from \"oni-save-parser\";\r\n\r\nimport { OniSaveState, defaultOniSaveState, BehaviorCopyData } from \"../state\";\r\nimport { isCopyBehaviorsAction } from \"../actions/copy-behaviors\";\r\nimport {\r\n  gameObjectsByIdSelector,\r\n  gameObjectTypesByIdSelector\r\n} from \"../selectors/save-game\";\r\n\r\nexport default function copyBehaviorsReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (!isCopyBehaviorsAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  const { gameObjectId, behaviors } = action.payload;\r\n\r\n  const gameObjects = gameObjectsByIdSelector.local(state);\r\n  if (!gameObjects || !gameObjects[gameObjectId]) {\r\n    return state;\r\n  }\r\n  const gameObject = gameObjects[gameObjectId];\r\n\r\n  const typesById = gameObjectTypesByIdSelector.local(state);\r\n  if (!typesById || !typesById[gameObjectId]) {\r\n    return state;\r\n  }\r\n  const gameObjectType = typesById[gameObjectId];\r\n\r\n  const copyBehaviors: Record<string, BehaviorCopyData> = {};\r\n  for (const behaviorName of behaviors) {\r\n    const behavior = getBehavior(gameObject, behaviorName);\r\n    if (!behavior) {\r\n      continue;\r\n    }\r\n    copyBehaviors[behaviorName] = {\r\n      templateData: behavior.templateData,\r\n      extraData: behavior.extraData\r\n    };\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    copyPasteData: {\r\n      gameObjectType,\r\n      behaviors: copyBehaviors\r\n    }\r\n  };\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nimport { defaultOniSaveState, OniSaveState } from \"../state\";\r\nimport { isDeleteLooseMaterialAction } from \"../actions/delete-loose-material\";\r\nimport { SimHashNames } from \"oni-save-parser\";\r\n\r\nexport default function deleteLooseMaterialReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (!isDeleteLooseMaterialAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  if (!state.saveGame) {\r\n    return state;\r\n  }\r\n\r\n  const { materialType } = action.payload;\r\n\r\n  let materialsToRemove = SimHashNames;\r\n  if (materialType) {\r\n    materialsToRemove = [materialType];\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    saveGame: {\r\n      ...state.saveGame,\r\n      gameObjects: state.saveGame.gameObjects.filter(\r\n        x => materialsToRemove.indexOf(x.name) === -1\r\n      )\r\n    }\r\n  };\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nimport { OniSaveState, defaultOniSaveState } from \"../state\";\r\n\r\nimport {\r\n  isImportWarnChecksumAction,\r\n  isImportConfirmAction\r\n} from \"../actions/import-behaviors\";\r\n\r\nexport default function importWarnChecksumReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (isImportWarnChecksumAction(action)) {\r\n    return {\r\n      ...state,\r\n      warnInputChecksum: true\r\n    };\r\n  } else if (isImportConfirmAction(action)) {\r\n    return {\r\n      ...state,\r\n      warnInputChecksum: false\r\n    };\r\n  }\r\n\r\n  return state;\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nimport { OniSaveState, defaultOniSaveState, LoadingStatus } from \"../state\";\r\nimport { isLoadExampleSaveAction } from \"../actions/load-example\";\r\n\r\nexport default function loadExampleSaveReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (!isLoadExampleSaveAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  const mockSaveGame = require(\"@/__mocks__/save-game.json\");\r\n\r\n  return {\r\n    ...state,\r\n    saveGame: mockSaveGame,\r\n    loadingStatus: LoadingStatus.Ready,\r\n    isMock: true\r\n  };\r\n}\r\n","import produce from \"immer\";\r\nimport { AnyAction } from \"redux\";\r\nimport { getBehavior } from \"oni-save-parser\";\r\n\r\nimport { OniSaveState, defaultOniSaveState } from \"../state\";\r\nimport { getGameObjectById } from \"../utils\";\r\n\r\nimport { isMergeBehaviorsAction } from \"../actions/merge-behaviors\";\r\n\r\nimport { gameObjectTypesByIdSelector } from \"../selectors/save-game\";\r\n\r\nexport default function mergeBehaviorsReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (!isMergeBehaviorsAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  const { gameObjectId, behaviors } = action.payload;\r\n\r\n  const typesById = gameObjectTypesByIdSelector.local(state);\r\n  if (!typesById || !typesById[gameObjectId]) {\r\n    return state;\r\n  }\r\n\r\n  return produce(state, draft => {\r\n    const gameObject = getGameObjectById(draft.saveGame!, gameObjectId);\r\n    if (!gameObject) {\r\n      return;\r\n    }\r\n\r\n    for (const behaviorName of Object.keys(behaviors)) {\r\n      const behavior = getBehavior(gameObject, behaviorName);\r\n      if (!behavior) {\r\n        continue;\r\n      }\r\n\r\n      const copyData = behaviors[behaviorName];\r\n      const { templateData, extraData } = copyData;\r\n      if (templateData) {\r\n        behavior.templateData = templateData;\r\n      }\r\n      if (extraData) {\r\n        behavior.extraData = extraData;\r\n      }\r\n    }\r\n  });\r\n}\r\n","import produce from \"immer\";\r\nimport { AnyAction } from \"redux\";\r\nimport { getBehavior } from \"oni-save-parser\";\r\n\r\nimport { OniSaveState, defaultOniSaveState } from \"../state\";\r\nimport { getGameObjectById } from \"../utils\";\r\n\r\nimport {\r\n  isModifyBehaviorAction,\r\n  BehaviorDataTarget\r\n} from \"../actions/modify-behavior\";\r\n\r\nexport default function modifyBehaviorReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (!isModifyBehaviorAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  if (!state.saveGame) {\r\n    return state;\r\n  }\r\n\r\n  let { gameObjectId, behaviorId, target, value } = action.payload;\r\n\r\n  return produce(state, draft => {\r\n    const gameObject = getGameObjectById(draft.saveGame!, gameObjectId);\r\n    if (!gameObject) {\r\n      return;\r\n    }\r\n\r\n    const behavior = getBehavior(gameObject, behaviorId);\r\n    if (!behavior) {\r\n      return;\r\n    }\r\n\r\n    if (target === BehaviorDataTarget.Template) {\r\n      behavior.templateData = {\r\n        ...behavior.templateData,\r\n        ...value\r\n      };\r\n    } else if (target === BehaviorDataTarget.Extra) {\r\n      behavior.extraData = {\r\n        ...behavior.extraData,\r\n        ...value\r\n      };\r\n    }\r\n\r\n    draft.isModified = true;\r\n  });\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nimport { isParseProgressAction } from \"../actions/parse-progress\";\r\n\r\nimport { OniSaveState, defaultOniSaveState } from \"../state\";\r\n\r\nexport default function parseProgressReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (!isParseProgressAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    loadingProgressMessage: action.payload.message\r\n  };\r\n}\r\n","import produce from \"immer\";\r\nimport { AnyAction } from \"redux\";\r\nimport { getBehavior } from \"oni-save-parser\";\r\n\r\nimport { OniSaveState, defaultOniSaveState } from \"../state\";\r\nimport { getGameObjectById } from \"../utils\";\r\n\r\nimport { isPasteBehaviorsAction } from \"../actions/paste-behaviors\";\r\n\r\nimport { gameObjectTypesByIdSelector } from \"../selectors/save-game\";\r\n\r\nexport default function pasteBehaviorsReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (!isPasteBehaviorsAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  if (!state.copyPasteData) {\r\n    return state;\r\n  }\r\n\r\n  const { gameObjectType, behaviors } = state.copyPasteData;\r\n\r\n  const { gameObjectId } = action.payload;\r\n\r\n  const typesById = gameObjectTypesByIdSelector.local(state);\r\n  if (!typesById || !typesById[gameObjectId]) {\r\n    return state;\r\n  }\r\n  if (gameObjectType !== typesById[gameObjectId]) {\r\n    return state;\r\n  }\r\n\r\n  return produce(state, draft => {\r\n    const gameObject = getGameObjectById(draft.saveGame!, gameObjectId);\r\n    if (!gameObject) {\r\n      return;\r\n    }\r\n\r\n    for (const behaviorName of Object.keys(behaviors)) {\r\n      const behavior = getBehavior(gameObject, behaviorName);\r\n      if (!behavior) {\r\n        continue;\r\n      }\r\n\r\n      const copyData = behaviors[behaviorName];\r\n      const { templateData, extraData } = copyData;\r\n      if (templateData) {\r\n        behavior.templateData = templateData;\r\n      }\r\n      if (extraData) {\r\n        behavior.extraData = extraData;\r\n      }\r\n    }\r\n  });\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nimport { LoadingStatus, OniSaveState, defaultOniSaveState } from \"../state\";\r\n\r\nimport {\r\n  ACTION_RECEIVE_ONISAVE_BEGIN,\r\n  ACTION_RECEIVE_ONISAVE_ERROR,\r\n  ACTION_RECEIVE_ONISAVE_SUCCESS,\r\n  isReceiveOniSaveAction\r\n} from \"../actions/receive-onisave\";\r\n\r\nexport default function receiveOniSaveReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (!isReceiveOniSaveAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  switch (action.type) {\r\n    case ACTION_RECEIVE_ONISAVE_BEGIN:\r\n      return {\r\n        ...state,\r\n        loadError: null,\r\n        loadingStatus: action.meta.operation,\r\n        loadingProgressMessage: null,\r\n        saveGame: action.payload.clearExisting ? null : state.saveGame\r\n      };\r\n    case ACTION_RECEIVE_ONISAVE_ERROR:\r\n      state = {\r\n        ...state,\r\n        loadingStatus: LoadingStatus.Error,\r\n        loadError: action.payload\r\n      };\r\n      break;\r\n    case ACTION_RECEIVE_ONISAVE_SUCCESS:\r\n      state = {\r\n        ...state,\r\n        loadingStatus: LoadingStatus.Ready,\r\n        loadingProgressMessage: null,\r\n        loadError: null,\r\n        saveGame: action.payload,\r\n        isModified:\r\n          action.meta.operation === LoadingStatus.Saving\r\n            ? false\r\n            : state.isModified\r\n      };\r\n  }\r\n\r\n  return state;\r\n}\r\n","import { RouterState } from \"connected-react-router\";\r\n\r\nimport { I18NState, defaultI18NState } from \"@/services/i18n/state\";\r\nimport { OniSaveState, defaultOniSaveState } from \"@/services/oni-save/state\";\r\n\r\nexport interface AppState {\r\n  router: RouterState;\r\n  services: {\r\n    i18n: I18NState;\r\n    oniSave: OniSaveState;\r\n  };\r\n}\r\n\r\nexport const defaultAppState: Readonly<AppState> = {\r\n  router: undefined as any,\r\n  services: {\r\n    i18n: defaultI18NState,\r\n    oniSave: defaultOniSaveState\r\n  }\r\n};\r\nObject.freeze(defaultAppState);\r\n","import oniSaveSaga from \"@/services/oni-save/saga\";\r\n\r\nexport default oniSaveSaga;\r\n","import { fork } from \"redux-saga/effects\";\r\n\r\nimport exportBehaviorsSaga from \"./export-behaviors\";\r\nimport importBehaviorsSaga from \"./import-behaviors\";\r\nimport loadOniSaveSaga from \"./load-onisave\";\r\nimport saveOniSaveSaga from \"./save-onisave\";\r\n\r\nexport default function* saga() {\r\n  yield fork(exportBehaviorsSaga);\r\n  yield fork(importBehaviorsSaga);\r\n  yield fork(loadOniSaveSaga);\r\n  yield fork(saveOniSaveSaga);\r\n}\r\n","import { takeEvery, select } from \"redux-saga/effects\";\r\nimport { getBehavior, MinionIdentityBehavior } from \"oni-save-parser\";\r\nimport objectHash from \"object-hash\";\r\n\r\nimport { saveAs } from \"file-saver\";\r\n\r\nimport {\r\n  ACTION_ONISAVE_EXPORT_BEHAVIORS,\r\n  ExportBehaviorsAction\r\n} from \"../actions/export-behaviors\";\r\n\r\nimport {\r\n  gameObjectTypesByIdSelector,\r\n  gameObjectsByIdSelector\r\n} from \"../selectors/save-game\";\r\n\r\nexport default function* exportBehaviorsSaga() {\r\n  yield takeEvery(\r\n    ACTION_ONISAVE_EXPORT_BEHAVIORS,\r\n    handleExportBehaviorsActionSaga\r\n  );\r\n}\r\n\r\nfunction* handleExportBehaviorsActionSaga(action: ExportBehaviorsAction) {\r\n  const { gameObjectId, behaviors } = action.payload;\r\n\r\n  const typesById: ReturnType<\r\n    typeof gameObjectTypesByIdSelector\r\n  > = yield select(gameObjectTypesByIdSelector);\r\n  if (!typesById || !typesById[gameObjectId]) {\r\n    return;\r\n  }\r\n  const gameObjectType = typesById[gameObjectId];\r\n\r\n  const gameObjectsById: ReturnType<\r\n    typeof gameObjectsByIdSelector\r\n  > = yield select(gameObjectsByIdSelector);\r\n  if (!gameObjectsById || !gameObjectsById[gameObjectId]) {\r\n    return;\r\n  }\r\n\r\n  const gameObject = gameObjectsById[gameObjectId];\r\n\r\n  const exportBehaviors: Record<string, any> = {};\r\n  for (const behaviorName of behaviors) {\r\n    const behavior = getBehavior(gameObject, behaviorName);\r\n    if (!behavior) {\r\n      continue;\r\n    }\r\n\r\n    const exportBehavior: any = (exportBehaviors[behaviorName] = {});\r\n    // We cannot leave any undefined props, as objectHash will include them.\r\n    if (behavior.templateData) {\r\n      exportBehavior.templateData = behavior.templateData;\r\n    }\r\n    if (behavior.extraData) {\r\n      exportBehavior.extraData = behavior.extraData;\r\n    }\r\n  }\r\n\r\n  const exportObject: any = {\r\n    gameObjectType,\r\n    behaviors: exportBehaviors\r\n  };\r\n\r\n  const hash = objectHash(exportObject, { algorithm: \"sha1\" });\r\n  exportObject.$sha1 = hash;\r\n\r\n  const content = JSON.stringify(exportObject, null, 2);\r\n\r\n  const blob = new Blob([content], {\r\n    type: \"application/javascript;charset=utf-8\"\r\n  });\r\n\r\n  // TODO: Should have a config file defining valid behavior exports and file name source.\r\n  let fileName = \"export.json\";\r\n  if (gameObjectType === \"Minion\") {\r\n    const identity = getBehavior(gameObject, MinionIdentityBehavior);\r\n    if (identity) {\r\n      fileName = `${identity.templateData.name}.json`;\r\n    }\r\n  }\r\n\r\n  saveAs(blob, fileName);\r\n}\r\n","import { takeEvery, call, select, put, take } from \"redux-saga/effects\";\r\nimport objectHash from \"object-hash\";\r\n\r\nimport {\r\n  ACTION_ONISAVE_IMPORT_BEHAVIORS,\r\n  ImportBehaviorsAction,\r\n  importWarnChecksum,\r\n  ACTION_ONISAVE_IMPORT_CONFIRM\r\n} from \"../actions/import-behaviors\";\r\nimport { mergeBehaviors } from \"../actions/merge-behaviors\";\r\n\r\nimport { gameObjectTypesByIdSelector } from \"../selectors/save-game\";\r\n\r\nexport default function* importBehaviorsSaga() {\r\n  yield takeEvery(ACTION_ONISAVE_IMPORT_BEHAVIORS, handleImportBehaviorsSaga);\r\n}\r\n\r\nfunction* handleImportBehaviorsSaga(action: ImportBehaviorsAction) {\r\n  const { gameObjectId, file } = action.payload;\r\n\r\n  function onError(message: string) {\r\n    // TODO: show dialog.\r\n    console.error(message);\r\n  }\r\n\r\n  const contentStr = yield call(readFile, file);\r\n\r\n  let content: any;\r\n  try {\r\n    content = JSON.parse(contentStr);\r\n  } catch (e) {\r\n    onError(\"Invalid import data.\");\r\n    return;\r\n  }\r\n\r\n  // TODO: validate data shape\r\n\r\n  const sha1 = content.$sha1;\r\n  delete content.$sha1;\r\n  const contentSha1 = objectHash(content, { algorithm: \"sha1\" });\r\n  if (sha1 !== contentSha1) {\r\n    const shouldContinue = yield* warnImportChecksumSaga();\r\n    if (!shouldContinue) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  const { gameObjectType, behaviors } = content;\r\n\r\n  const gameObjectTypesById = yield select(gameObjectTypesByIdSelector);\r\n  if (gameObjectTypesById[gameObjectId] !== gameObjectType) {\r\n    onError(\"Import data game object type does not match.\");\r\n    return;\r\n  }\r\n\r\n  yield put(mergeBehaviors(gameObjectId, behaviors));\r\n}\r\n\r\nfunction readFile(file: File): Promise<string> {\r\n  const reader = new FileReader();\r\n  return new Promise<string>((accept, reject) => {\r\n    reader.onload = () => {\r\n      accept(reader.result as string);\r\n    };\r\n    reader.onerror = () => {\r\n      reject(reader.error);\r\n    };\r\n    reader.readAsText(file);\r\n  });\r\n}\r\n\r\nfunction* warnImportChecksumSaga() {\r\n  yield put(importWarnChecksum());\r\n  const action = yield take(ACTION_ONISAVE_IMPORT_CONFIRM);\r\n  return action.payload;\r\n}\r\n","import { eventChannel, END } from \"redux-saga\";\r\nimport { call, put, takeEvery, take } from \"redux-saga/effects\";\r\n\r\nimport {\r\n  ACTION_ONISAVE_LOAD,\r\n  LoadOniSaveAction\r\n} from \"../actions/load-onisave\";\r\n\r\nimport {\r\n  receiveOniSaveBegin,\r\n  receiveOniSaveError,\r\n  receiveOniSaveSuccess\r\n} from \"../actions/receive-onisave\";\r\n\r\nimport { parseProgress } from \"../actions/parse-progress\";\r\n\r\nimport { parseSave } from \"../worker-instance\";\r\nimport { LoadingStatus } from \"../state\";\r\n\r\nexport default function* saveEditorSaga() {\r\n  yield takeEvery(ACTION_ONISAVE_LOAD, handleOniSaveLoad);\r\n}\r\n\r\nfunction* handleOniSaveLoad(action: LoadOniSaveAction) {\r\n  const file = action.payload;\r\n\r\n  yield put(receiveOniSaveBegin(LoadingStatus.Loading, true));\r\n\r\n  const data: ArrayBuffer = yield call(readFile, file);\r\n\r\n  const loadChannel = createLoadChannel(data);\r\n\r\n  while (true) {\r\n    const msg = yield take(loadChannel);\r\n    if (msg.type === \"progress\") {\r\n      yield put(parseProgress(msg.message));\r\n      continue;\r\n    } else if (msg.type === \"success\") {\r\n      yield put(receiveOniSaveSuccess(msg.saveGame, LoadingStatus.Loading));\r\n      return;\r\n    } else if (msg.type === \"error\") {\r\n      yield put(receiveOniSaveError(msg.error, LoadingStatus.Loading));\r\n      return;\r\n    }\r\n  }\r\n}\r\n\r\nfunction createLoadChannel(data: ArrayBuffer) {\r\n  return eventChannel(emitter => {\r\n    function onProgress(message: string) {\r\n      emitter({\r\n        type: \"progress\",\r\n        message\r\n      });\r\n    }\r\n\r\n    parseSave(data, onProgress)\r\n      .then(saveGame => {\r\n        emitter({\r\n          type: \"success\",\r\n          saveGame\r\n        });\r\n        emitter(END);\r\n      })\r\n      .catch(error => {\r\n        emitter({\r\n          type: \"error\",\r\n          error\r\n        });\r\n        emitter(END);\r\n      });\r\n\r\n    //This is the cancellation func.\r\n    // TODO: We can support cancellation in oni-save-parser rather easily.\r\n    return () => {};\r\n  });\r\n}\r\n\r\nfunction readFile(file: File): Promise<ArrayBuffer> {\r\n  const reader = new FileReader();\r\n  return new Promise<ArrayBuffer>((accept, reject) => {\r\n    reader.onload = () => {\r\n      accept(reader.result as ArrayBuffer);\r\n    };\r\n    reader.onerror = () => {\r\n      reject(reader.error);\r\n    };\r\n    reader.readAsArrayBuffer(file);\r\n  });\r\n}\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nexport const RESPONSE_PROGRESS = \"progress\";\r\nexport const sendProgress = (message: string) => ({\r\n  type: RESPONSE_PROGRESS as typeof RESPONSE_PROGRESS,\r\n  message\r\n});\r\nexport type ProgressResponse = ReturnType<typeof sendProgress>;\r\n\r\nconst COMMAND_PARSE = \"parse-save\";\r\nexport const parseSave = (data: ArrayBuffer) => ({\r\n  type: COMMAND_PARSE as typeof COMMAND_PARSE,\r\n  data\r\n});\r\nexport type ParseSaveCommand = ReturnType<typeof parseSave>;\r\n\r\nexport const RESPONSE_PARSE_SUCCESS = \"parse-save:success\";\r\nexport const parseSaveSuccess = (saveGame: SaveGame) => ({\r\n  type: RESPONSE_PARSE_SUCCESS as typeof RESPONSE_PARSE_SUCCESS,\r\n  saveGame\r\n});\r\nexport type ParseSaveSuccessResponse = ReturnType<typeof parseSaveSuccess>;\r\n\r\nexport const RESPONSE_PARSE_ERROR = \"parse-save:error\";\r\nexport const parseSaveError = (error: Error) => ({\r\n  type: RESPONSE_PARSE_ERROR as typeof RESPONSE_PARSE_ERROR,\r\n  error: errorToJson(error)\r\n});\r\nexport type ParseSaveErrorResponse = ReturnType<typeof parseSaveError>;\r\n\r\nexport type ParseSaveResponse =\r\n  | ParseSaveSuccessResponse\r\n  | ParseSaveErrorResponse\r\n  | ProgressResponse;\r\n\r\nconst COMMAND_WRITE = \"write-save\";\r\nexport const writeSave = (saveGame: SaveGame) => ({\r\n  type: COMMAND_WRITE as typeof COMMAND_WRITE,\r\n  saveGame\r\n});\r\nexport type WriteSaveCommand = ReturnType<typeof writeSave>;\r\n\r\nexport const RESPONSE_WRITE_SUCCESS = \"write-save:success\";\r\nexport const writeSaveSuccess = (data: ArrayBuffer) => ({\r\n  type: RESPONSE_WRITE_SUCCESS as typeof RESPONSE_WRITE_SUCCESS,\r\n  data\r\n});\r\nexport type WriteSaveSuccessResponse = ReturnType<typeof writeSaveSuccess>;\r\n\r\nexport const RESPONSE_WRITE_ERROR = \"write-save:error\";\r\nexport const writeSaveError = (error: Error) => ({\r\n  type: RESPONSE_WRITE_ERROR as typeof RESPONSE_WRITE_ERROR,\r\n  error: errorToJson(error)\r\n});\r\nexport type WriteSaveErrorResponse = ReturnType<typeof writeSaveError>;\r\n\r\nexport type WriteSaveResult =\r\n  | WriteSaveSuccessResponse\r\n  | WriteSaveErrorResponse\r\n  | ProgressResponse;\r\n\r\nexport type SaveParserCommand = ParseSaveCommand | WriteSaveCommand;\r\nexport type SaveParserResponse = ParseSaveResponse | WriteSaveResult;\r\n\r\nexport interface SaveParserCommandEvent extends MessageEvent {\r\n  data: SaveParserCommand;\r\n}\r\n\r\nexport interface SaveParserResultEvent extends MessageEvent {\r\n  data: SaveParserResponse;\r\n}\r\n\r\nexport interface ErrorJson {\r\n  name: string;\r\n  message: string;\r\n  stack?: string;\r\n}\r\nexport function errorToJson(e: Error): ErrorJson {\r\n  return {\r\n    name: e.name,\r\n    message: e.message,\r\n    stack: e.stack\r\n  };\r\n}\r\nexport function jsonToError(obj: ErrorJson): Error {\r\n  const e = new Error(obj.message);\r\n  e.name = obj.name;\r\n  e.stack = obj.stack;\r\n  return e;\r\n}\r\n","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"b1711dd93d821cdc6983.worker.js\");\n};","import { eventChannel, END } from \"redux-saga\";\r\nimport { put, select, takeEvery, take } from \"redux-saga/effects\";\r\n\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { saveAs } from \"file-saver\";\r\n\r\nimport {\r\n  ACTION_ONISAVE_SAVE,\r\n  SaveOniSaveAction\r\n} from \"../actions/save-onisave\";\r\n\r\nimport {\r\n  receiveOniSaveBegin,\r\n  receiveOniSaveError,\r\n  receiveOniSaveSuccess\r\n} from \"../actions/receive-onisave\";\r\n\r\nimport { parseProgress } from \"../actions/parse-progress\";\r\n\r\nimport { writeSave } from \"../worker-instance\";\r\n\r\nimport { saveGameSelector } from \"../selectors/save-game\";\r\nimport { LoadingStatus } from \"../state\";\r\n\r\nexport default function* saveEditorSaga() {\r\n  yield takeEvery(ACTION_ONISAVE_SAVE, handleOniSaveWrite);\r\n}\r\n\r\nfunction* handleOniSaveWrite(action: SaveOniSaveAction) {\r\n  let saveName = action.payload;\r\n\r\n  const saveGame: SaveGame | null = yield select(saveGameSelector);\r\n  if (!saveGame) {\r\n    return;\r\n  }\r\n\r\n  if (!saveName || saveName === \"\") {\r\n    saveName = `${saveGame.header.gameInfo.baseName}.sav`;\r\n  }\r\n\r\n  yield put(receiveOniSaveBegin(LoadingStatus.Saving));\r\n\r\n  const saveChannel = createSaveChannel(saveGame);\r\n\r\n  while (true) {\r\n    const msg = yield take(saveChannel);\r\n    if (msg.type === \"progress\") {\r\n      yield put(parseProgress(msg.message));\r\n      continue;\r\n    } else if (msg.type === \"success\") {\r\n      saveAs(msg.blob, saveName);\r\n      yield put(receiveOniSaveSuccess(saveGame, LoadingStatus.Saving));\r\n      return;\r\n    } else if (msg.type === \"error\") {\r\n      yield put(\r\n        receiveOniSaveError(\r\n          {\r\n            name: msg.error.name,\r\n            message: msg.error.message,\r\n            stack: msg.error.stack\r\n          },\r\n          LoadingStatus.Saving\r\n        )\r\n      );\r\n      return;\r\n    }\r\n  }\r\n}\r\n\r\nfunction createSaveChannel(saveGame: SaveGame) {\r\n  return eventChannel(emitter => {\r\n    function onProgress(message: string) {\r\n      emitter({\r\n        type: \"progress\",\r\n        message\r\n      });\r\n    }\r\n\r\n    writeSave(saveGame, onProgress)\r\n      .then(data => {\r\n        const blob = new Blob([data]);\r\n        emitter({\r\n          type: \"success\",\r\n          blob\r\n        });\r\n        emitter(END);\r\n      })\r\n      .catch(error => {\r\n        emitter({\r\n          type: \"error\",\r\n          error\r\n        });\r\n        emitter(END);\r\n      });\r\n\r\n    //This is the cancellation func.\r\n    // TODO: We can support cancellation in oni-save-parser rather easily.\r\n    return () => {};\r\n  });\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { ACTION_RECEIVE_ONISAVE_SUCCESS } from \"@/services/oni-save/actions/receive-onisave\";\r\nimport { ACTION_ONISAVE_LOAD } from \"@/services/oni-save/actions/load-onisave\";\r\nimport { ACTION_ONISAVE_PARSE_PROGRESS } from \"@/services/oni-save/actions/parse-progress\";\r\n\r\nexport const actionsBlacklist: string[] = [\r\n  ACTION_ONISAVE_LOAD,\r\n  ACTION_ONISAVE_PARSE_PROGRESS\r\n];\r\n\r\nexport function actionSanitizer(action: AnyAction): AnyAction {\r\n  if (action.type === ACTION_RECEIVE_ONISAVE_SUCCESS) {\r\n    return {\r\n      ...action,\r\n      payload: sanitizeSave(action.payload)\r\n    };\r\n  }\r\n  return action;\r\n}\r\n\r\nexport function stateSanitizer(state: AppState): any {\r\n  return {\r\n    ...state,\r\n    services: {\r\n      ...state.services,\r\n      oniSave: {\r\n        ...state.services.oniSave,\r\n        saveGame: sanitizeSave(state.services.oniSave.saveGame)\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nfunction sanitizeSave(save: SaveGame | null): any {\r\n  if (!save) {\r\n    return null;\r\n  }\r\n  return {\r\n    ...save,\r\n    world: {\r\n      ...save.world,\r\n      streamed: \"~snip~\"\r\n    }\r\n  };\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport { createStyles, withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\n\r\nimport Sidebar from \"@/components/Sidebar\";\r\nimport Appbar from \"@/components/Appbar\";\r\n\r\nconst SIDEBAR_WIDTH = 200;\r\n\r\nconst styles = createStyles({\r\n  root: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    width: \"100%\",\r\n    height: \"100%\"\r\n  },\r\n  sidebar: {\r\n    width: SIDEBAR_WIDTH\r\n  },\r\n  appRoot: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    width: `calc(100% - ${SIDEBAR_WIDTH}px)`,\r\n    height: \"100%\",\r\n    marginLeft: SIDEBAR_WIDTH\r\n  },\r\n  content: {\r\n    minHeight: 0,\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    overflow: \"auto\"\r\n  }\r\n});\r\n\r\nexport interface PageContainerProps {\r\n  title: string;\r\n  back?: boolean;\r\n}\r\n\r\ntype Props = PageContainerProps & StyleProps<typeof styles>;\r\nconst PageContainer: React.SFC<Props> = ({\r\n  classes,\r\n  title,\r\n  back,\r\n  children\r\n}) => (\r\n  <div className={classes.root}>\r\n    <Drawer variant=\"permanent\" anchor=\"left\">\r\n      <Sidebar className={classes.sidebar} />\r\n    </Drawer>\r\n    <div className={classes.appRoot}>\r\n      <Appbar title={title} back={back} />\r\n      <div className={classes.content}>{children}</div>\r\n    </div>\r\n  </div>\r\n);\r\nexport default withStyles(styles)(PageContainer);\r\n","import * as React from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\n\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport MuiThemeProvider from \"@material-ui/core/styles/MuiThemeProvider\";\r\n\r\nimport { ConnectedRouter } from \"connected-react-router\";\r\n\r\nimport history from \"@/history\";\r\nimport theme from \"@/theme\";\r\n\r\nimport StoreProvider from \"@/store/components/StoreProvider\";\r\n\r\nimport I18NProvider from \"@/services/i18n/components/I18NProvider\";\r\n\r\nimport LoadingDialog from \"@/components/LoadingDialog\";\r\nimport ImportWarningDialog from \"@/components/ImportWarningDialog\";\r\n\r\nimport Routes from \"@/routes\";\r\n\r\nconst Root: React.SFC = () => (\r\n  <I18NProvider>\r\n    <StoreProvider>\r\n      <ConnectedRouter history={history}>\r\n        <MuiThemeProvider theme={theme}>\r\n          <CssBaseline />\r\n          <LoadingDialog />\r\n          <ImportWarningDialog />\r\n          <Routes />\r\n        </MuiThemeProvider>\r\n      </ConnectedRouter>\r\n    </StoreProvider>\r\n  </I18NProvider>\r\n);\r\n\r\nexport default hot(module)(Root);\r\n","import { createMuiTheme } from \"@material-ui/core/styles\";\r\n\r\n// Theme settings can be adjusted here.\r\n//  https://material-ui.com/style/color/\r\n\r\nconst theme = createMuiTheme({\r\n  typography: {\r\n    // Opt in to using the newer set of font styles.\r\n    //  The old styles are deprecated and will be\r\n    //  removed.\r\n    useNextVariants: true\r\n  },\r\n  palette: {\r\n    type: \"dark\"\r\n  }\r\n});\r\n\r\nexport default theme;\r\n","import * as React from \"react\";\r\n\r\nimport { Provider } from \"react-redux\";\r\n\r\nimport store from \"../store\";\r\n\r\nconst StoreProvider: React.SFC = ({ children }) => (\r\n  <Provider store={store}>{children}</Provider>\r\n);\r\nexport default StoreProvider;\r\n","import * as React from \"react\";\r\n\r\nimport { I18nextProvider } from \"react-i18next\";\r\n\r\nimport i18n from \"../i18n\";\r\n\r\nconst I18NProvider: React.SFC = ({ children }) => (\r\n  <I18nextProvider i18n={i18n}>{children}</I18nextProvider>\r\n);\r\nexport default I18NProvider;\r\n","import * as React from \"react\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport { Theme, createStyles, withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport { LoadingStatus } from \"@/services/oni-save/state\";\r\nimport AbstractLoadStatus from \"@/services/oni-save/components/AbstractLoadStatus\";\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: theme.spacing.unit * 60,\r\n      height: theme.spacing.unit * 20\r\n    },\r\n    content: {\r\n      verticalAlign: \"middle\"\r\n    },\r\n    loadingText: {\r\n      textAlign: \"center\"\r\n    },\r\n    message: {\r\n      textAlign: \"center\"\r\n    }\r\n  });\r\n\r\ntype Props = StyleProps<typeof styles>;\r\nconst LoadingDialog: React.SFC<Props> = ({ classes }) => (\r\n  <AbstractLoadStatus>\r\n    {({ status, message }) => (\r\n      <Dialog open={status === LoadingStatus.Loading}>\r\n        <div className={classes.root}>\r\n          <div className={classes.content}>\r\n            <Typography className={classes.loadingText} variant=\"h4\">\r\n              <Trans i18nKey=\"save-file.conditions.loading\">Loading</Trans>\r\n            </Typography>\r\n            <Typography className={classes.message} variant=\"body1\">\r\n              {message}\r\n            </Typography>\r\n          </div>\r\n        </div>\r\n      </Dialog>\r\n    )}\r\n  </AbstractLoadStatus>\r\n);\r\nexport default withStyles(styles)(LoadingDialog);\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { LoadingStatus } from \"../../state\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./state-props\";\r\n\r\nexport interface AbstractLoadStatusProps {\r\n  children(props: AbstractLoadStatusRenderProps): React.ReactChild;\r\n}\r\nexport interface AbstractLoadStatusRenderProps {\r\n  status: LoadingStatus;\r\n  message: string | null;\r\n  errorMessage: string | null;\r\n}\r\n\r\ntype Props = AbstractLoadStatusProps & StateProps;\r\nclass AbstractLoadStatus extends React.Component<Props> {\r\n  render() {\r\n    const { children, status, error, message } = this.props;\r\n    return React.Children.only(\r\n      children({ status, message, errorMessage: error ? error.message : null })\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(AbstractLoadStatus);\r\n","import { AppState } from \"@/state\";\r\n\r\nimport {\r\n  loadingStatusSelector,\r\n  loadingStatusMessageSelector,\r\n  loadingErrorSelector\r\n} from \"../../selectors/loading-status\";\r\n\r\nfunction mapStateToProps(state: AppState) {\r\n  return {\r\n    status: loadingStatusSelector(state),\r\n    message: loadingStatusMessageSelector(state),\r\n    error: loadingErrorSelector(state)\r\n  };\r\n}\r\nexport type StateProps = ReturnType<typeof mapStateToProps>;\r\nexport default mapStateToProps;\r\n","import * as React from \"react\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport { createStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport AbstractImportWarningDialog from \"@/services/oni-save/components/AbstractImportWarningDialog\";\r\n\r\nconst styles = createStyles({\r\n  description: {\r\n    whiteSpace: \"pre-line\"\r\n  }\r\n});\r\n\r\ntype Props = StyleProps<typeof styles>;\r\n\r\nconst ImportWarningDialog: React.SFC<Props> = ({ classes }) => (\r\n  <AbstractImportWarningDialog>\r\n    {({ isOpen, onConfirm, onCancel }) => (\r\n      <Dialog open={isOpen}>\r\n        <DialogTitle>\r\n          <Trans i18nKey=\"data.conditions.modified_titlecase\">\r\n            Data Modified\r\n          </Trans>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Typography className={classes.description}>\r\n            <Trans i18nKey=\"data.prompts.modified-description\" />\r\n          </Typography>\r\n          <Typography>\r\n            <Trans i18nKey=\"dialog.queries.continue\" />\r\n          </Typography>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={onCancel}>\r\n            <Trans i18nKey=\"dialog.verbs.cancel_titlecase\">Cancel</Trans>\r\n          </Button>\r\n          <Button onClick={onConfirm}>\r\n            <Trans i18nKey=\"data.verbs.import_titlecase\">Import</Trans>\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    )}\r\n  </AbstractImportWarningDialog>\r\n);\r\n\r\nexport default withStyles(styles)(ImportWarningDialog);\r\n","import AbstractImportWarningDialog from \"./AbstractImportWarningDialog\";\r\nexport default AbstractImportWarningDialog;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { AbstractImportWarningDialogProps } from \"./props\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./state-props\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./dispatch-props\";\r\n\r\ntype Props = AbstractImportWarningDialogProps & StateProps & DispatchProps;\r\n\r\nconst AbstractImportWarningDialog: React.SFC<Props> = ({\r\n  isOpen,\r\n  onConfirm,\r\n  onCancel,\r\n  children\r\n}) => <>{React.Children.only(children({ isOpen, onConfirm, onCancel }))}</>;\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(AbstractImportWarningDialog);\r\n","import { AppState } from \"@/state\";\r\n\r\nexport default function mapStateToProps(state: AppState) {\r\n  return {\r\n    isOpen: state.services.oniSave.warnInputChecksum\r\n  };\r\n}\r\nexport type StateProps = ReturnType<typeof mapStateToProps>;\r\n","import { importConfirm } from \"../../actions/import-behaviors\";\r\n\r\nconst mapDispatchToProps = {\r\n  onConfirm: () => importConfirm(true),\r\n  onCancel: () => importConfirm(false)\r\n};\r\nexport default mapDispatchToProps;\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\n","import * as React from \"react\";\r\n\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\n\r\nimport OverviewPage from \"@/pages/OverviewPage\";\r\nimport DuplicantsPage from \"@/pages/DuplicantsPage\";\r\nimport DuplicantEditorPage from \"@/pages/DuplicantEditorPage\";\r\nimport GeysersPage from \"@/pages/GeysersPage\";\r\nimport MaterialsPage from \"@/pages/MaterialsPage\";\r\nimport SettingsPage from \"@/pages/SettingsPage\";\r\n\r\nconst Routes: React.SFC = () => (\r\n  <Switch>\r\n    <Route path=\"/\" exact component={OverviewPage} />\r\n    <Route path=\"/duplicants\" exact component={DuplicantsPage} />\r\n    <Route\r\n      path=\"/duplicants/:gameObjectId\"\r\n      exact\r\n      component={DuplicantEditorPage}\r\n    />\r\n    <Route path=\"/geysers\" exact component={GeysersPage} />\r\n    <Route path=\"/materials\" exact component={MaterialsPage} />\r\n    <Route path=\"/settings\" exact component={SettingsPage} />\r\n    <Redirect to=\"/\" />\r\n  </Switch>\r\n);\r\nexport default Routes;\r\n","import OverviewPage from \"./OverviewPage\";\r\nexport default OverviewPage;\r\n","import * as React from \"react\";\r\n\r\nimport { LoadingStatus } from \"@/services/oni-save/state\";\r\nimport AbstractLoadStatus from \"@/services/oni-save/components/AbstractLoadStatus\";\r\n\r\nimport NoSave from \"./components/NoSave\";\r\nimport SaveOverview from \"./components/SaveOverview\";\r\nimport SaveError from \"./components/SaveError\";\r\n\r\nconst OverviewPage: React.SFC = () => (\r\n  <AbstractLoadStatus>\r\n    {({ status }) => {\r\n      switch (status) {\r\n        default:\r\n          return <NoSave />;\r\n        case LoadingStatus.Error:\r\n          return <SaveError />;\r\n        case LoadingStatus.Ready:\r\n          return <SaveOverview />;\r\n      }\r\n    }}\r\n  </AbstractLoadStatus>\r\n);\r\n\r\nexport default OverviewPage;\r\n","import * as React from \"react\";\r\n\r\nimport { Trans, WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport { Theme, createStyles, withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport { OSType } from \"@/runtime-env\";\r\n\r\nimport PageContainer from \"@/components/PageContainer\";\r\nimport LoadButton from \"@/components/LoadButton\";\r\nimport LoadExampleButton from \"@/components/LoadExampleButton\";\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      padding: theme.spacing.unit * 2\r\n    }\r\n  });\r\n\r\nconst SaveFilePaths: Record<OSType, string | null> = {\r\n  windows: \"Documents/Klei/OxygenNotIncluded/save_files\",\r\n  mac: null,\r\n  linux: \"~/.config/unity3d/Klei/Oxygen Not Included/save_files\",\r\n  unknown: null\r\n};\r\nconst saveFilePath = SaveFilePaths[OSType];\r\n\r\ntype Props = StyleProps<typeof styles> & WithTranslation;\r\n\r\nconst NoSave: React.SFC<Props> = ({ classes, t }) => (\r\n  <PageContainer title={t(\"overview-page.no-save.title\")}>\r\n    <div className={classes.root}>\r\n      <div>\r\n        <Typography variant=\"h5\">\r\n          <Trans i18nKey=\"overview-page.no-save.prompt\">\r\n            Load a save using the controls on the upper left.\r\n          </Trans>\r\n        </Typography>\r\n      </div>\r\n      {SaveFilePaths[OSType] && (\r\n        <Typography component=\"div\" variant=\"body1\">\r\n          <Trans i18nKey=\"overview-page.no-save.save-location\">\r\n            Save files can be found at <code>{{ path: saveFilePath }}</code>\r\n          </Trans>\r\n        </Typography>\r\n      )}\r\n      <LoadButton />\r\n      <Typography component=\"div\">\r\n        Have no save file? Want to preview the editor?\r\n      </Typography>\r\n      <LoadExampleButton />\r\n    </div>\r\n  </PageContainer>\r\n);\r\nexport default withStyles(styles)(withTranslation()(NoSave));\r\n","import * as React from \"react\";\r\n\r\nimport { Theme, createStyles, withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport Nav from \"./Nav\";\r\nimport GithubButton from \"./GithubButton\";\r\n\r\nexport interface SidebarProps {\r\n  className?: string;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    toolbar: {\r\n      ...theme.mixins.toolbar,\r\n      display: \"flex\",\r\n      paddingLeft: theme.spacing.unit * 3,\r\n      alignItems: \"center\"\r\n    },\r\n    ghButton: {\r\n      marginLeft: \"auto\",\r\n      marginRight: theme.spacing.unit\r\n    }\r\n  });\r\n\r\ntype Props = SidebarProps & StyleProps<typeof styles>;\r\nconst Sidebar: React.SFC<Props> = ({ className, classes }) => (\r\n  <div className={className}>\r\n    <div className={classes.toolbar}>\r\n      <Typography variant=\"h6\" color=\"textSecondary\">\r\n        Duplicity\r\n      </Typography>\r\n      <GithubButton className={classes.ghButton} />\r\n    </div>\r\n    <Divider />\r\n    <Nav />\r\n  </div>\r\n);\r\nexport default withStyles(styles)(Sidebar);\r\n","import * as React from \"react\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\n\r\nimport AbstractLoadStatus from \"@/services/oni-save/components/AbstractLoadStatus\";\r\n\r\nimport ListItemLink from \"@/components/ListItemLink\";\r\nimport { LoadingStatus } from \"@/services/oni-save/state\";\r\n\r\ninterface NavItem {\r\n  name: string;\r\n  path: string;\r\n  i18nKey: string;\r\n  saveRequired?: boolean;\r\n}\r\n\r\nconst NAV_ITEMS: NavItem[] = [\r\n  {\r\n    name: \"Overview\",\r\n    path: \"/\",\r\n    i18nKey: \"overview-page.title\"\r\n  },\r\n  {\r\n    name: \"Duplicants\",\r\n    path: \"/duplicants\",\r\n    i18nKey: \"duplicant.noun_titlecase_plural\",\r\n    saveRequired: true\r\n  },\r\n  {\r\n    name: \"Geysers\",\r\n    path: \"/geysers\",\r\n    i18nKey: \"geyser.noun_titlecase_plural\",\r\n    saveRequired: true\r\n  },\r\n  {\r\n    name: \"Materials\",\r\n    path: \"/materials\",\r\n    i18nKey: \"material.noun_titlecase_plural\",\r\n    saveRequired: true\r\n  }\r\n];\r\n\r\nconst Nav: React.SFC = () => (\r\n  <AbstractLoadStatus>\r\n    {({ status }) => {\r\n      const disableSaveRequired = status !== LoadingStatus.Ready;\r\n      return (\r\n        <List component=\"nav\">\r\n          {NAV_ITEMS.map(({ name, path, i18nKey, saveRequired }) => (\r\n            <ListItemLink\r\n              key={name}\r\n              button\r\n              to={path}\r\n              autoselect\r\n              disabled={saveRequired ? disableSaveRequired : false}\r\n            >\r\n              <ListItemText>\r\n                <Trans i18nKey={i18nKey}>{name}</Trans>\r\n              </ListItemText>\r\n            </ListItemLink>\r\n          ))}\r\n        </List>\r\n      );\r\n    }}\r\n  </AbstractLoadStatus>\r\n);\r\n\r\nexport default Nav;\r\n","import * as React from \"react\";\r\n\r\nimport { withRouter, RouteComponentProps } from \"react-router\";\r\n\r\nimport ListItem, { ListItemProps } from \"@material-ui/core/ListItem\";\r\n\r\nexport interface ListItemLinkProps\r\n  extends Omit<ListItemProps, \"href\" | \"component\"> {\r\n  to: string;\r\n  autoselect?: boolean;\r\n}\r\n\r\ntype Props = ListItemLinkProps & RouteComponentProps;\r\nclass ListItemLink extends React.Component<Props> {\r\n  render() {\r\n    const {\r\n      children,\r\n      history,\r\n      location,\r\n      to,\r\n      staticContext,\r\n      autoselect,\r\n      ...props\r\n    } = this.props;\r\n    return (\r\n      <ListItem\r\n        selected={autoselect && pathStartsWith(location.pathname, to)}\r\n        {...props}\r\n        component=\"a\"\r\n        href={history.createHref({ pathname: to })}\r\n        onClick={this._onClick}\r\n      >\r\n        {children}\r\n      </ListItem>\r\n    );\r\n  }\r\n\r\n  private _onClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\r\n    // Code copied from implementation of Link in react-router-dom\r\n    const { onClick, target, history } = this.props;\r\n\r\n    if (onClick) {\r\n      onClick(event);\r\n    }\r\n\r\n    if (\r\n      !event.defaultPrevented && // onClick prevented default\r\n      event.button === 0 && // ignore everything but left clicks\r\n      (!target || target === \"_self\") && // let browser handle \"target=_blank\" etc.\r\n      !isModifierPressed(event) // ignore clicks with modifier keys\r\n    ) {\r\n      event.preventDefault();\r\n\r\n      history.push(this.props.to);\r\n    }\r\n  };\r\n}\r\nexport default withRouter(ListItemLink);\r\n\r\nfunction isModifierPressed(event: React.MouseEvent<any>) {\r\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\r\n}\r\n\r\nfunction pathStartsWith(path: string, startsWith: string): boolean {\r\n  if (path === startsWith) {\r\n    return true;\r\n  }\r\n\r\n  return path.substr(0, startsWith.length + 1) === `${startsWith}/`;\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faGithub } from \"@fortawesome/free-brands-svg-icons\";\r\n\r\nexport interface GithubButtonProps {\r\n  className?: string;\r\n}\r\ntype Props = GithubButtonProps & WithTranslation;\r\nconst GithubButton: React.SFC<Props> = ({ className, t }) => (\r\n  <IconButton\r\n    className={className}\r\n    component=\"a\"\r\n    href=\"https://github.com/RoboPhred/oni-duplicity\"\r\n    target=\"_blank\"\r\n    title={t(\"view-github\")}\r\n  >\r\n    <FontAwesomeIcon icon={faGithub} />\r\n  </IconButton>\r\n);\r\n\r\nexport default withTranslation()(GithubButton);\r\n","import * as React from \"react\";\r\n\r\nimport MaterialAppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport { createStyles, withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport SettingsButton from \"./SettingsButton\";\r\nimport SaveModifiedChip from \"./SaveModifiedChip\";\r\nimport SaveButton from \"./SaveButton\";\r\nimport BackButton from \"./BackButton\";\r\nimport SaveExampleChip from \"./SaveExampleChip\";\r\n\r\nexport interface AppbarProps {\r\n  title: string;\r\n  back?: boolean;\r\n}\r\n\r\nconst styles = createStyles({\r\n  title: {\r\n    flexGrow: 1\r\n  }\r\n});\r\n\r\ntype Props = AppbarProps & StyleProps<typeof styles>;\r\nconst Appbar: React.SFC<Props> = ({ classes, title, back }) => (\r\n  <MaterialAppBar position=\"static\">\r\n    <Toolbar>\r\n      {back && <BackButton />}\r\n      <Typography className={classes.title} variant=\"h6\" color=\"inherit\">\r\n        {title}\r\n      </Typography>\r\n      <SaveModifiedChip />\r\n      <SaveExampleChip />\r\n      <SaveButton />\r\n      <SettingsButton />\r\n    </Toolbar>\r\n  </MaterialAppBar>\r\n);\r\nexport default withStyles(styles)(Appbar);\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { push } from \"connected-react-router\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\n\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\n\r\nconst mapDispatchToProps = {\r\n  onClick: () => push(\"/settings\")\r\n};\r\ntype DispatchProps = typeof mapDispatchToProps;\r\n\r\ntype Props = DispatchProps;\r\nconst SettingsButton: React.SFC<Props> = ({ onClick }) => (\r\n  <IconButton color=\"inherit\" onClick={onClick}>\r\n    <SettingsIcon />\r\n  </IconButton>\r\n);\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(SettingsButton);\r\n","import * as React from \"react\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport Chip from \"@material-ui/core/Chip\";\r\n\r\nimport AbstractEditStatus from \"@/services/oni-save/components/AbstractEditStatus\";\r\n\r\ntype Props = WithTranslation;\r\nconst SaveModifiedChip: React.SFC<Props> = ({ t }) => (\r\n  <AbstractEditStatus>\r\n    {({ hasChanges }) => (\r\n      <div>\r\n        {hasChanges && (\r\n          <Chip\r\n            color=\"secondary\"\r\n            label={t(\"save-file.conditions.modified\", {\r\n              defaultValue: \"Modified\"\r\n            })}\r\n          />\r\n        )}\r\n      </div>\r\n    )}\r\n  </AbstractEditStatus>\r\n);\r\n\r\nexport default withTranslation()(SaveModifiedChip);\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./state-props\";\r\n\r\nexport interface AbstractEditStatusProps {\r\n  children(props: AbstractEditStatusRenderProps): React.ReactChild;\r\n}\r\nexport interface AbstractEditStatusRenderProps {\r\n  hasChanges: boolean;\r\n  isMock: boolean;\r\n}\r\n\r\ntype Props = AbstractEditStatusProps & StateProps;\r\nclass AbstractEditStatus extends React.Component<Props> {\r\n  render() {\r\n    const { children, isMock, hasChanges } = this.props;\r\n    return React.Children.only(children({ isMock, hasChanges }));\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(AbstractEditStatus);\r\n","import { AppState } from \"@/state\";\r\nimport {\r\n  isSaveModifiedSelector,\r\n  isMockSelector\r\n} from \"../../selectors/save-game\";\r\n\r\nfunction mapStateToProps(state: AppState) {\r\n  return {\r\n    hasChanges: isSaveModifiedSelector(state),\r\n    isMock: isMockSelector(state)\r\n  };\r\n}\r\nexport type StateProps = ReturnType<typeof mapStateToProps>;\r\nexport default mapStateToProps;\r\n","import * as React from \"react\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\n\r\nimport AbstractSaveButton from \"@/services/oni-save/components/AbstractSaveButton/AbstractSaveButton\";\r\n\r\nconst SaveFab: React.SFC = () => (\r\n  <AbstractSaveButton>\r\n    {({ disabled, onClick }) => (\r\n      <IconButton disabled={disabled} onClick={onClick}>\r\n        <SaveIcon />\r\n      </IconButton>\r\n    )}\r\n  </AbstractSaveButton>\r\n);\r\n\r\nexport default SaveFab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./state-props\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./dispatch-props\";\r\n\r\nexport interface AbstractSaveButtonProps {\r\n  children(props: AbstractSaveButtonRenderProps): React.ReactChild;\r\n}\r\nexport interface AbstractSaveButtonRenderProps {\r\n  disabled: boolean;\r\n  onClick(): void;\r\n}\r\n\r\ntype Props = AbstractSaveButtonProps & StateProps & DispatchProps;\r\n\r\nclass AbstractSaveButton extends React.Component<Props> {\r\n  render() {\r\n    const { disabled, saveOniSave, children } = this.props;\r\n    return React.Children.only(\r\n      children({ disabled, onClick: () => saveOniSave() })\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(AbstractSaveButton);\r\n","import { createSelector, createStructuredSelector } from \"reselect\";\r\n\r\nimport { isMockSelector } from \"../../selectors/save-game\";\r\nimport { loadingStatusSelector } from \"../../selectors/loading-status\";\r\nimport { LoadingStatus } from \"../../state\";\r\nimport { AppState } from \"@/state\";\r\n\r\nconst disabledSelector = createSelector(\r\n  loadingStatusSelector,\r\n  isMockSelector,\r\n  (loadStatus, isMock) => {\r\n    if (loadStatus !== LoadingStatus.Ready) {\r\n      return true;\r\n    }\r\n    if (isMock) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n);\r\n\r\nexport interface StateProps {\r\n  disabled: boolean;\r\n}\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>({\r\n  disabled: disabledSelector\r\n});\r\nexport default mapStateToProps;\r\n","import { saveOniSave } from \"../../actions/save-onisave\";\r\n\r\nconst mapDispatchToProps = {\r\n  saveOniSave\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import BackButton from \"./BackButton\";\r\nexport default BackButton;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\n\r\nimport mapDispatchToProps, { DispatchProps } from \"./dispatch-props\";\r\n\r\nexport interface BackButtonProps {\r\n  className?: string;\r\n}\r\n\r\ntype Props = BackButtonProps & DispatchProps;\r\n\r\nconst BackButton: React.SFC<Props> = ({ className, goBack }) => (\r\n  <IconButton\r\n    className={className}\r\n    color=\"inherit\"\r\n    aria-label=\"Back\"\r\n    onClick={goBack}\r\n  >\r\n    <ArrowBackIcon />\r\n  </IconButton>\r\n);\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(BackButton);\r\n","import { goBack } from \"connected-react-router\";\r\n\r\nconst mapDispatchToProps = {\r\n  goBack\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import * as React from \"react\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport Chip from \"@material-ui/core/Chip\";\r\n\r\nimport AbstractEditStatus from \"@/services/oni-save/components/AbstractEditStatus\";\r\n\r\ntype Props = WithTranslation;\r\nconst SaveExampleChip: React.SFC<Props> = ({ t }) => (\r\n  <AbstractEditStatus>\r\n    {({ isMock }) => (\r\n      <div>\r\n        {isMock && (\r\n          <Chip\r\n            color=\"secondary\"\r\n            label=\"Example\"\r\n            title=\"This is example content and cannot be saved.\"\r\n          />\r\n        )}\r\n      </div>\r\n    )}\r\n  </AbstractEditStatus>\r\n);\r\n\r\nexport default withTranslation()(SaveExampleChip);\r\n","import * as React from \"react\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport AbstractLoadButton from \"@/services/oni-save/components/AbstractLoadButton\";\r\n\r\nconst LoadButton: React.SFC = () => (\r\n  <AbstractLoadButton>\r\n    {({ disabled, onClick }) => (\r\n      <button disabled={disabled} onClick={onClick}>\r\n        <Trans i18nKey=\"save-file.verbs.load_titlecase\">Load</Trans>\r\n      </button>\r\n    )}\r\n  </AbstractLoadButton>\r\n);\r\nexport default LoadButton;\r\n","import AbstractLoadButton from \"./AbstractLoadButton\";\r\nexport default AbstractLoadButton;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./state-props\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./dispatch-props\";\r\n\r\nexport interface AbstractLoadButtonProps {\r\n  children(props: AbstractLoadButtonRenderProps): React.ReactChild;\r\n}\r\nexport interface AbstractLoadButtonRenderProps {\r\n  disabled: boolean;\r\n  onClick(): void;\r\n}\r\n\r\ntype Props = AbstractLoadButtonProps & StateProps & DispatchProps;\r\n\r\nclass AbstractLoadButton extends React.Component<Props> {\r\n  private _input: HTMLElement | null = null;\r\n\r\n  render() {\r\n    const { children, disabled } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <input\r\n          ref={el => (this._input = el)}\r\n          style={{ display: \"none\" }}\r\n          type=\"file\"\r\n          accept=\".sav\"\r\n          onChange={this._onLoadFileInput}\r\n        />\r\n        {React.Children.only(children({ disabled, onClick: this._onClick }))}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  private _onClick = () => {\r\n    if (this._input) {\r\n      this._input.click();\r\n    }\r\n  };\r\n\r\n  private _onLoadFileInput = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const files = e.target.files;\r\n    if (!files || files.length === 0) {\r\n      return;\r\n    }\r\n    const file = files[0];\r\n\r\n    const { loadOniSave } = this.props;\r\n    loadOniSave(file);\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(AbstractLoadButton);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { LoadingStatus } from \"../../state\";\r\nimport { loadingStatusSelector } from \"../../selectors/loading-status\";\r\n\r\nexport interface StateProps {\r\n  disabled: boolean;\r\n}\r\n\r\nconst busyStatii = [LoadingStatus.Loading, LoadingStatus.Saving];\r\n\r\nexport default createStructuredSelector<AppState, StateProps>({\r\n  disabled: (state: AppState) =>\r\n    busyStatii.indexOf(loadingStatusSelector(state)) !== -1\r\n});\r\n","import { loadOniSave } from \"../../actions/load-onisave\";\r\n\r\nconst mapDispatchToProps = {\r\n  loadOniSave\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import LoadExampleButton from \"./LoadExampleButton\";\r\nexport default LoadExampleButton;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport mapDispatchToProps, { DispatchProps } from \"./dispatch-props\";\r\n\r\ntype Props = DispatchProps;\r\n\r\nconst LoadExampleButton: React.SFC<Props> = ({ loadExampleSave }) => (\r\n  <button onClick={loadExampleSave}>Load Example</button>\r\n);\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(LoadExampleButton);\r\n","import { loadExampleSave } from \"@/services/oni-save/actions/load-example\";\r\n\r\nconst mapDispatchToProps = {\r\n  loadExampleSave\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import SaveOverview from \"./SaveOverview\";\r\nexport default SaveOverview;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Theme, createStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\n\r\nimport PageContainer from \"@/components/PageContainer\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./state-props\";\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      padding: theme.spacing.unit\r\n    }\r\n  });\r\n\r\ntype Props = StateProps & StyleProps<typeof styles>;\r\nconst SaveOverview: React.SFC<Props> = ({ classes, saveName, cycleCount }) => (\r\n  <PageContainer title=\"Overview\">\r\n    <div className={classes.root}>\r\n      <Typography variant=\"h4\">{saveName}</Typography>\r\n      <Divider />\r\n      <Typography>{cycleCount} cycles.</Typography>\r\n    </div>\r\n  </PageContainer>\r\n);\r\n\r\nexport default connect(mapStateToProps)(withStyles(styles)(SaveOverview));\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { saveGameSelector } from \"@/services/oni-save/selectors/save-game\";\r\n\r\nexport interface StateProps {\r\n  saveName: string;\r\n  cycleCount: number;\r\n}\r\n\r\nconst mapDispatchToProps = createStructuredSelector<AppState, StateProps>({\r\n  saveName: createSelector(\r\n    saveGameSelector,\r\n    game => (game && game.header.gameInfo.baseName) || \"\"\r\n  ),\r\n  cycleCount: createSelector(\r\n    saveGameSelector,\r\n    game => (game && game.header.gameInfo.numberOfCycles) || 0\r\n  )\r\n});\r\nexport default mapDispatchToProps;\r\n","import * as React from \"react\";\r\n\r\nimport { Theme, createStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\n\r\nimport AbstractLoadStatus from \"@/services/oni-save/components/AbstractLoadStatus\";\r\nimport PageContainer from \"@/components/PageContainer\";\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      padding: theme.spacing.unit\r\n    },\r\n    errorMessage: {\r\n      marginTop: theme.spacing.unit\r\n    }\r\n  });\r\n\r\ntype Props = StyleProps<typeof styles>;\r\n\r\nconst SaveError: React.SFC<Props> = ({ classes }) => (\r\n  <AbstractLoadStatus>\r\n    {({ errorMessage }) => (\r\n      <PageContainer title=\"Failed to Load\">\r\n        <div className={classes.root}>\r\n          <Typography variant=\"h5\">Error loading save</Typography>\r\n          <Divider />\r\n          <Typography className={classes.errorMessage}>\r\n            {errorMessage}\r\n          </Typography>\r\n        </div>\r\n      </PageContainer>\r\n    )}\r\n  </AbstractLoadStatus>\r\n);\r\n\r\nexport default withStyles(styles)(SaveError);\r\n","import DuplicantsPage from \"./DuplicantsPage\";\r\nexport default DuplicantsPage;\r\n","import * as React from \"react\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport { createStyles, withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport PageContainer from \"@/components/PageContainer\";\r\nimport RedirectIfNoSave from \"@/components/RedirectIfNoSave\";\r\n\r\nimport DuplicantList from \"./components/DuplicantList\";\r\n\r\nconst styles = createStyles({\r\n  duplicantList: {\r\n    overflow: \"auto\"\r\n  }\r\n});\r\n\r\ntype Props = StyleProps<typeof styles> & WithTranslation;\r\nconst DuplicantsPage: React.SFC<Props> = ({ classes, t }) => (\r\n  <PageContainer title={t(\"duplicant.noun_titlecase_plural\")}>\r\n    <RedirectIfNoSave />\r\n    <DuplicantList className={classes.duplicantList} />\r\n  </PageContainer>\r\n);\r\nexport default withTranslation()(withStyles(styles)(DuplicantsPage));\r\n","import * as React from \"react\";\r\nimport classnames from \"classnames\";\r\n\r\nimport { Theme, createStyles, withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport AbstractGameObjectList from \"@/services/oni-save/components/AbstractGameObjectList\";\r\n\r\nimport DuplicantListItem from \"./DuplicantListItem\";\r\n\r\nexport interface DuplicantListProps {\r\n  className?: string;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      flexWrap: \"wrap\",\r\n      margin: theme.spacing.unit\r\n    },\r\n    item: {\r\n      margin: theme.spacing.unit / 2\r\n    }\r\n  });\r\n\r\ntype Props = DuplicantListProps & StyleProps<typeof styles>;\r\nconst DuplicantList: React.SFC<Props> = ({ className, classes }) => (\r\n  <AbstractGameObjectList gameObjectType=\"Minion\">\r\n    {({ gameObjectIds }) => (\r\n      <div className={classnames(className, classes.root)}>\r\n        {gameObjectIds.map(id => (\r\n          <DuplicantListItem\r\n            key={id}\r\n            className={classes.item}\r\n            gameObjectId={id}\r\n          />\r\n        ))}\r\n      </div>\r\n    )}\r\n  </AbstractGameObjectList>\r\n);\r\n\r\nexport default withStyles(styles)(DuplicantList);\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { AbstractGameObjectListProps } from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./state-props\";\r\n\r\ntype Props = AbstractGameObjectListProps & StateProps;\r\nclass AbstractGameObjectList extends React.Component<Props> {\r\n  render() {\r\n    const { gameObjectIds, children } = this.props;\r\n    return React.Children.only(children({ gameObjectIds }));\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(AbstractGameObjectList);\r\n","import { createStructuredSelector } from \"reselect\";\r\nimport createCachedSelector from \"re-reselect\";\r\nimport { getBehavior, KPrefabIDBehavior, GameObject } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { gameObjectGroupsSelector } from \"../../selectors/save-game\";\r\n\r\nimport { AbstractGameObjectListProps } from \"./props\";\r\n\r\nconst gameObjectTypeSelector = (_: any, props: AbstractGameObjectListProps) =>\r\n  props.gameObjectType;\r\n\r\nconst gameObjectIdsSelector = createCachedSelector(\r\n  gameObjectTypeSelector,\r\n  gameObjectGroupsSelector,\r\n  (typeProp, gameObjectsGroups) => {\r\n    if (!gameObjectsGroups) {\r\n      return [];\r\n    }\r\n\r\n    const types = maybeArray(typeProp);\r\n\r\n    const gameObjects: GameObject[] = [];\r\n    for (const group of gameObjectsGroups) {\r\n      if (types.indexOf(group.name) !== -1) {\r\n        gameObjects.push(...group.gameObjects);\r\n      }\r\n    }\r\n\r\n    return gameObjects\r\n      .map(x => getBehavior(x, KPrefabIDBehavior))\r\n      .filter(isNotNull)\r\n      .map(x => x.templateData.InstanceID)\r\n      .sort();\r\n  }\r\n)((_: any, props: AbstractGameObjectListProps) =>\r\n  maybeArray(props.gameObjectType).join(\",\")\r\n);\r\n\r\nexport interface StateProps {\r\n  gameObjectIds: number[];\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector<\r\n  AppState,\r\n  AbstractGameObjectListProps,\r\n  StateProps\r\n>({\r\n  gameObjectIds: gameObjectIdsSelector\r\n});\r\n\r\nexport default mapStateToProps;\r\n\r\nfunction isNotNull<T>(x: T | null | undefined): x is T {\r\n  return x != null;\r\n}\r\n\r\nfunction maybeArray(x: string | string[]): string[] {\r\n  if (Array.isArray(x)) {\r\n    return x;\r\n  }\r\n  return [x];\r\n}\r\n","import DuplicantListItem from \"./DuplicantListItem\";\r\nexport default DuplicantListItem;\r\n","import * as React from \"react\";\r\n\r\nimport classnames from \"classnames\";\r\n\r\nimport { Theme, createStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nimport DuplicantName from \"./components/DuplicantName\";\r\nimport DuplicantPortrait from \"./components/DuplicantPortrait\";\r\nimport DuplicantTraits from \"./components/DuplicantTraits\";\r\nimport DuplicantAttributes from \"./components/DuplicantAttributes\";\r\nimport EditButton from \"./components/EditButton\";\r\nimport DuplicantMenu from \"@/components/DuplicantMenu/DuplicantMenu\";\r\n\r\nexport interface DuplicantListItemProps {\r\n  className?: string;\r\n  gameObjectId: number;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: theme.spacing.unit * 45,\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      padding: theme.spacing.unit * 2\r\n    },\r\n    titleBar: {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      marginBottom: theme.spacing.unit\r\n    },\r\n    titleControls: {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      marginLeft: \"auto\"\r\n    },\r\n    content: {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      marginTop: theme.spacing.unit\r\n    },\r\n    portraitColumn: {\r\n      marginRight: theme.spacing.unit * 2\r\n    },\r\n    attributes: {\r\n      marginLeft: \"auto\"\r\n    },\r\n    editButton: {\r\n      marginLeft: \"auto\"\r\n    }\r\n  });\r\n\r\ntype Props = DuplicantListItemProps & StyleProps<typeof styles>;\r\nconst DuplicantListItem: React.SFC<Props> = ({\r\n  className,\r\n  classes,\r\n  gameObjectId\r\n}) => (\r\n  <Paper className={classnames(classes.root, className)}>\r\n    <div className={classes.titleBar}>\r\n      <DuplicantName gameObjectId={gameObjectId} />\r\n      <div className={classes.titleControls}>\r\n        <EditButton\r\n          className={classes.editButton}\r\n          gameObjectId={gameObjectId}\r\n        />\r\n        <DuplicantMenu gameObjectId={gameObjectId} />\r\n      </div>\r\n    </div>\r\n    <Divider />\r\n    <div className={classes.content}>\r\n      <div className={classes.portraitColumn}>\r\n        <DuplicantPortrait gameObjectId={gameObjectId} />\r\n        <DuplicantTraits gameObjectId={gameObjectId} />\r\n      </div>\r\n      <DuplicantAttributes\r\n        className={classes.attributes}\r\n        gameObjectId={gameObjectId}\r\n      />\r\n    </div>\r\n  </Paper>\r\n);\r\n\r\nexport default withStyles(styles)(DuplicantListItem);\r\n","import * as React from \"react\";\r\nimport { MinionIdentityBehavior } from \"oni-save-parser\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport AbstractBehaviorEditor from \"@/services/oni-save/components/AbstractBehaviorEditor\";\r\n\r\nconst MinionIdentityEditor = AbstractBehaviorEditor.ofType(\r\n  MinionIdentityBehavior\r\n);\r\n\r\nexport interface DuplicantNameProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nconst DuplicantName: React.SFC<DuplicantNameProps> = ({ gameObjectId }) => (\r\n  <MinionIdentityEditor gameObjectId={gameObjectId}>\r\n    {({ templateData }) => (\r\n      <Typography variant=\"h5\">{templateData.name}</Typography>\r\n    )}\r\n  </MinionIdentityEditor>\r\n);\r\nexport default DuplicantName;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { BehaviorName, GameObjectBehavior } from \"oni-save-parser\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { AbstractBehaviorEditorProps } from \"./props\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./state-props\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./dispatch-props\";\r\nimport { BehaviorDataTarget } from \"../../actions/modify-behavior\";\r\n\r\ntype Props = AbstractBehaviorEditorProps<any> & StateProps & DispatchProps;\r\nclass AbstractBehaviorEditor extends React.Component<Props> {\r\n  static ofType<T extends GameObjectBehavior>(\r\n    behavior: BehaviorName<T>\r\n  ): React.ComponentType<\r\n    Omit<AbstractBehaviorEditorProps<T>, \"gameObjectBehavior\">\r\n  > {\r\n    return (\r\n      props: Omit<AbstractBehaviorEditorProps<T>, \"gameObjectBehavior\">\r\n    ) => (\r\n      <ConnectedAbstractBehaviorEditor\r\n        {...props}\r\n        gameObjectBehavior={behavior}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { children, templateData, extraData } = this.props;\r\n    return React.Children.only(\r\n      children({\r\n        templateData,\r\n        extraData,\r\n        onTemplateDataModify: this._onTemplateDataModify,\r\n        onExtraDataModify: this._onExtraDataModify\r\n      })\r\n    );\r\n  }\r\n\r\n  private _onTemplateDataModify = (data: any) => {\r\n    const { gameObjectId, gameObjectBehavior, onModifyBehavior } = this.props;\r\n    onModifyBehavior(\r\n      gameObjectId,\r\n      gameObjectBehavior,\r\n      BehaviorDataTarget.Template,\r\n      data\r\n    );\r\n  };\r\n  private _onExtraDataModify = (data: any) => {\r\n    const { gameObjectId, gameObjectBehavior, onModifyBehavior } = this.props;\r\n    onModifyBehavior(\r\n      gameObjectId,\r\n      gameObjectBehavior,\r\n      BehaviorDataTarget.Extra,\r\n      data\r\n    );\r\n  };\r\n}\r\nconst ConnectedAbstractBehaviorEditor = attachProps(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(AbstractBehaviorEditor),\r\n  {\r\n    ofType: AbstractBehaviorEditor.ofType\r\n  }\r\n);\r\nexport default ConnectedAbstractBehaviorEditor;\r\n","import { forEach } from \"lodash-es\";\r\n\r\nexport function attachProps<\r\n  TTarget,\r\n  TSubComponents extends Record<string, any>\r\n>(component: TTarget, subComponents: TSubComponents): TTarget & TSubComponents {\r\n  const c = component as any;\r\n  forEach(subComponents, (component, key) => {\r\n    c[key] = component;\r\n  });\r\n  return c as any;\r\n}\r\n","import { createStructuredSelector } from \"reselect\";\r\nimport createCachedSelector from \"re-reselect\";\r\n\r\nimport { AbstractBehaviorEditorProps } from \"./props\";\r\nimport { AppState } from \"@/state\";\r\nimport { gameObjectsByIdSelector } from \"../../selectors/save-game\";\r\nimport { getBehavior } from \"oni-save-parser\";\r\n\r\nexport interface StateProps {\r\n  templateData: any;\r\n  extraData: any;\r\n}\r\n\r\nconst gameObjectIdSelector = (\r\n  _: any,\r\n  props: AbstractBehaviorEditorProps<any>\r\n) => props.gameObjectId;\r\nconst gameObjectBehaviorSelector = (\r\n  _: any,\r\n  props: AbstractBehaviorEditorProps<any>\r\n) => props.gameObjectBehavior;\r\n\r\nconst behaviorSelector = createCachedSelector(\r\n  gameObjectIdSelector,\r\n  gameObjectBehaviorSelector,\r\n  gameObjectsByIdSelector,\r\n  (id, behaviorName, gameObjectsById) => {\r\n    const gameObject = gameObjectsById[id];\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n    const behavior = getBehavior(gameObject, behaviorName);\r\n    if (!behavior) {\r\n      return null;\r\n    }\r\n\r\n    return behavior;\r\n  }\r\n)(\r\n  (_: any, props: AbstractBehaviorEditorProps<any>) =>\r\n    `${props.gameObjectId}:${props.gameObjectBehavior}`\r\n);\r\n\r\nconst mapStateToProps = createStructuredSelector<\r\n  AppState,\r\n  AbstractBehaviorEditorProps<any>,\r\n  StateProps\r\n>({\r\n  templateData: (state: AppState, props: AbstractBehaviorEditorProps<any>) => {\r\n    const behavior = behaviorSelector(state, props);\r\n    if (!behavior) return null;\r\n    return behavior.templateData;\r\n  },\r\n  extraData: (state: AppState, props: AbstractBehaviorEditorProps<any>) => {\r\n    const behavior = behaviorSelector(state, props);\r\n    if (!behavior) return null;\r\n    return behavior.extraData;\r\n  }\r\n});\r\n\r\nexport default mapStateToProps;\r\n","import { modifyBehavior } from \"../../actions/modify-behavior\";\r\n\r\nconst mapDispatchToProps = {\r\n  onModifyBehavior: modifyBehavior\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import * as React from \"react\";\r\nimport { AccessorizerBehavior, getAccessoryOfType } from \"oni-save-parser\";\r\n\r\nimport { createStyles, withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport {\r\n  DuplicantContainer,\r\n  Hair,\r\n  Head,\r\n  Eyes,\r\n  Body\r\n} from \"react-oni-duplicant\";\r\n\r\nimport AbstractBehaviorEditor from \"@/services/oni-save/components/AbstractBehaviorEditor\";\r\n\r\nconst AccessorizerEditor = AbstractBehaviorEditor.ofType(AccessorizerBehavior);\r\n\r\nexport interface DuplicantPortraitProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nconst styles = createStyles({\r\n  portraitContainer: {\r\n    position: \"relative\",\r\n    width: 80,\r\n    height: 90\r\n  },\r\n  portrait: {\r\n    position: \"absolute\",\r\n    left: 42,\r\n    top: 50,\r\n    width: 0,\r\n    height: 0,\r\n    transform: \"scale(.3)\",\r\n    transformOrigin: \"top left\"\r\n  }\r\n});\r\n\r\ntype Props = DuplicantPortraitProps & StyleProps<typeof styles>;\r\nconst DuplicantPortrait: React.SFC<Props> = ({ classes, gameObjectId }) => (\r\n  <AccessorizerEditor gameObjectId={gameObjectId}>\r\n    {({ templateData }) => {\r\n      if (!templateData) {\r\n        return <div>Error: No Data</div>;\r\n      }\r\n      return (\r\n        <div className={classes.portraitContainer}>\r\n          <div className={classes.portrait}>\r\n            <DuplicantContainer>\r\n              <Body\r\n                ordinal={ordinalFromAccessory(\r\n                  getAccessoryOfType(templateData.accessories, \"body\")!.guid\r\n                    .Guid\r\n                )}\r\n              />\r\n              <Head\r\n                ordinal={ordinalFromAccessory(\r\n                  getAccessoryOfType(templateData.accessories, \"headshape\")!\r\n                    .guid.Guid\r\n                )}\r\n              />\r\n              <Eyes\r\n                ordinal={ordinalFromAccessory(\r\n                  getAccessoryOfType(templateData.accessories, \"eyes\")!.guid\r\n                    .Guid\r\n                )}\r\n              />\r\n              <Hair\r\n                ordinal={ordinalFromAccessory(\r\n                  getAccessoryOfType(templateData.accessories, \"hair\")!.guid\r\n                    .Guid\r\n                )}\r\n              />\r\n            </DuplicantContainer>\r\n          </div>\r\n        </div>\r\n      );\r\n    }}\r\n  </AccessorizerEditor>\r\n);\r\nexport default withStyles(styles)(DuplicantPortrait);\r\n\r\nfunction ordinalFromAccessory(guid: string) {\r\n  let parts = guid.split(\".\");\r\n  const name = parts[parts.length - 1];\r\n  parts = name.split(\"_\");\r\n  return Number(parts[parts.length - 1]);\r\n}\r\n","var map = {\n\t\"./hair_001/hair_001_0.png\": 592,\n\t\"./hair_001/hair_001_1.png\": 593,\n\t\"./hair_001/hair_001_2.png\": 594,\n\t\"./hair_002/hair_002_0.png\": 595,\n\t\"./hair_002/hair_002_1.png\": 596,\n\t\"./hair_002/hair_002_2.png\": 597,\n\t\"./hair_003/hair_003_0.png\": 598,\n\t\"./hair_003/hair_003_1.png\": 599,\n\t\"./hair_003/hair_003_2.png\": 600,\n\t\"./hair_004/hair_004_0.png\": 601,\n\t\"./hair_004/hair_004_1.png\": 602,\n\t\"./hair_004/hair_004_2.png\": 603,\n\t\"./hair_005/hair_005_0.png\": 604,\n\t\"./hair_005/hair_005_1.png\": 605,\n\t\"./hair_005/hair_005_2.png\": 606,\n\t\"./hair_006/hair_006_0.png\": 607,\n\t\"./hair_006/hair_006_1.png\": 608,\n\t\"./hair_006/hair_006_2.png\": 609,\n\t\"./hair_007/hair_007_0.png\": 610,\n\t\"./hair_007/hair_007_1.png\": 611,\n\t\"./hair_007/hair_007_2.png\": 612,\n\t\"./hair_008/hair_008_0.png\": 613,\n\t\"./hair_008/hair_008_1.png\": 614,\n\t\"./hair_008/hair_008_2.png\": 615,\n\t\"./hair_009/hair_009_0.png\": 616,\n\t\"./hair_009/hair_009_1.png\": 617,\n\t\"./hair_009/hair_009_2.png\": 618,\n\t\"./hair_010/hair_010_0.png\": 619,\n\t\"./hair_010/hair_010_1.png\": 620,\n\t\"./hair_010/hair_010_2.png\": 621,\n\t\"./hair_011/hair_011_0.png\": 622,\n\t\"./hair_011/hair_011_1.png\": 623,\n\t\"./hair_011/hair_011_2.png\": 624,\n\t\"./hair_012/hair_012_0.png\": 625,\n\t\"./hair_012/hair_012_1.png\": 626,\n\t\"./hair_012/hair_012_2.png\": 627,\n\t\"./hair_013/hair_013_0.png\": 628,\n\t\"./hair_013/hair_013_1.png\": 629,\n\t\"./hair_013/hair_013_2.png\": 630,\n\t\"./hair_014/hair_014_0.png\": 631,\n\t\"./hair_014/hair_014_1.png\": 632,\n\t\"./hair_014/hair_014_2.png\": 633,\n\t\"./hair_015/hair_015_0.png\": 634,\n\t\"./hair_015/hair_015_1.png\": 635,\n\t\"./hair_015/hair_015_2.png\": 636,\n\t\"./hair_016/hair_016_0.png\": 637,\n\t\"./hair_016/hair_016_1.png\": 638,\n\t\"./hair_016/hair_016_2.png\": 639,\n\t\"./hair_017/hair_017_0.png\": 640,\n\t\"./hair_017/hair_017_1.png\": 641,\n\t\"./hair_017/hair_017_2.png\": 642,\n\t\"./hair_018/hair_018_0.png\": 643,\n\t\"./hair_018/hair_018_1.png\": 644,\n\t\"./hair_018/hair_018_2.png\": 645,\n\t\"./hair_019/hair_019_0.png\": 646,\n\t\"./hair_019/hair_019_1.png\": 647,\n\t\"./hair_019/hair_019_2.png\": 648,\n\t\"./hair_020/hair_020_0.png\": 649,\n\t\"./hair_020/hair_020_1.png\": 650,\n\t\"./hair_020/hair_020_2.png\": 651,\n\t\"./hair_021/hair_021_0.png\": 652,\n\t\"./hair_021/hair_021_1.png\": 653,\n\t\"./hair_021/hair_021_2.png\": 654,\n\t\"./hair_022/hair_022_0.png\": 655,\n\t\"./hair_022/hair_022_1.png\": 656,\n\t\"./hair_022/hair_022_2.png\": 657,\n\t\"./hair_023/hair_023_0.png\": 658,\n\t\"./hair_023/hair_023_1.png\": 659,\n\t\"./hair_023/hair_023_2.png\": 660,\n\t\"./hair_024/hair_024_0.png\": 661,\n\t\"./hair_024/hair_024_1.png\": 662,\n\t\"./hair_024/hair_024_2.png\": 663,\n\t\"./hair_025/hair_025_0.png\": 664,\n\t\"./hair_025/hair_025_1.png\": 665,\n\t\"./hair_025/hair_025_2.png\": 666,\n\t\"./hair_026/hair_026_0.png\": 667,\n\t\"./hair_026/hair_026_1.png\": 668,\n\t\"./hair_026/hair_026_2.png\": 669,\n\t\"./hair_027/hair_027_0.png\": 670,\n\t\"./hair_027/hair_027_1.png\": 671,\n\t\"./hair_027/hair_027_2.png\": 672,\n\t\"./hair_028/hair_028_0.png\": 673,\n\t\"./hair_028/hair_028_1.png\": 674,\n\t\"./hair_028/hair_028_2.png\": 675,\n\t\"./hair_029/hair_029_0.png\": 676,\n\t\"./hair_029/hair_029_1.png\": 677,\n\t\"./hair_029/hair_029_2.png\": 678,\n\t\"./hair_030/hair_030_0.png\": 679,\n\t\"./hair_030/hair_030_1.png\": 680,\n\t\"./hair_030/hair_030_2.png\": 681,\n\t\"./hair_031/hair_031_0.png\": 682,\n\t\"./hair_031/hair_031_1.png\": 683,\n\t\"./hair_031/hair_031_2.png\": 684,\n\t\"./hair_032/hair_032_0.png\": 685,\n\t\"./hair_032/hair_032_1.png\": 686,\n\t\"./hair_032/hair_032_2.png\": 687,\n\t\"./hair_033/hair_033_0.png\": 688,\n\t\"./hair_033/hair_033_1.png\": 689,\n\t\"./hair_033/hair_033_2.png\": 690\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 591;","var map = {\n\t\"./headshape_001/headshape_001_0.png\": 692,\n\t\"./headshape_001/headshape_001_1.png\": 693,\n\t\"./headshape_001/headshape_001_2.png\": 694,\n\t\"./headshape_001/headshape_001_3.png\": 695,\n\t\"./headshape_002/headshape_002_0.png\": 696,\n\t\"./headshape_002/headshape_002_1.png\": 697,\n\t\"./headshape_002/headshape_002_2.png\": 698,\n\t\"./headshape_002/headshape_002_3.png\": 699,\n\t\"./headshape_003/headshape_003_0.png\": 700,\n\t\"./headshape_003/headshape_003_1.png\": 701,\n\t\"./headshape_003/headshape_003_2.png\": 702,\n\t\"./headshape_003/headshape_003_3.png\": 703,\n\t\"./headshape_004/headshape_004_0.png\": 704,\n\t\"./headshape_004/headshape_004_1.png\": 705,\n\t\"./headshape_004/headshape_004_2.png\": 706,\n\t\"./headshape_004/headshape_004_3.png\": 707\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 691;","var map = {\n\t\"./eyes_001/eyes_001_0.png\": 709,\n\t\"./eyes_001/eyes_001_1.png\": 710,\n\t\"./eyes_001/eyes_001_10.png\": 711,\n\t\"./eyes_001/eyes_001_11.png\": 712,\n\t\"./eyes_001/eyes_001_12.png\": 713,\n\t\"./eyes_001/eyes_001_13.png\": 714,\n\t\"./eyes_001/eyes_001_14.png\": 715,\n\t\"./eyes_001/eyes_001_15.png\": 716,\n\t\"./eyes_001/eyes_001_16.png\": 717,\n\t\"./eyes_001/eyes_001_17.png\": 718,\n\t\"./eyes_001/eyes_001_18.png\": 719,\n\t\"./eyes_001/eyes_001_19.png\": 720,\n\t\"./eyes_001/eyes_001_2.png\": 721,\n\t\"./eyes_001/eyes_001_20.png\": 722,\n\t\"./eyes_001/eyes_001_21.png\": 723,\n\t\"./eyes_001/eyes_001_22.png\": 724,\n\t\"./eyes_001/eyes_001_23.png\": 725,\n\t\"./eyes_001/eyes_001_24.png\": 726,\n\t\"./eyes_001/eyes_001_25.png\": 727,\n\t\"./eyes_001/eyes_001_26.png\": 728,\n\t\"./eyes_001/eyes_001_29.png\": 729,\n\t\"./eyes_001/eyes_001_3.png\": 730,\n\t\"./eyes_001/eyes_001_30.png\": 731,\n\t\"./eyes_001/eyes_001_31.png\": 732,\n\t\"./eyes_001/eyes_001_32.png\": 733,\n\t\"./eyes_001/eyes_001_33.png\": 734,\n\t\"./eyes_001/eyes_001_34.png\": 735,\n\t\"./eyes_001/eyes_001_35.png\": 736,\n\t\"./eyes_001/eyes_001_36.png\": 737,\n\t\"./eyes_001/eyes_001_37.png\": 738,\n\t\"./eyes_001/eyes_001_38.png\": 739,\n\t\"./eyes_001/eyes_001_39.png\": 740,\n\t\"./eyes_001/eyes_001_4.png\": 741,\n\t\"./eyes_001/eyes_001_5.png\": 742,\n\t\"./eyes_001/eyes_001_6.png\": 743,\n\t\"./eyes_001/eyes_001_7.png\": 744,\n\t\"./eyes_001/eyes_001_8.png\": 745,\n\t\"./eyes_001/eyes_001_9.png\": 746,\n\t\"./eyes_002/eyes_002_0.png\": 747,\n\t\"./eyes_002/eyes_002_1.png\": 748,\n\t\"./eyes_002/eyes_002_10.png\": 749,\n\t\"./eyes_002/eyes_002_11.png\": 750,\n\t\"./eyes_002/eyes_002_12.png\": 751,\n\t\"./eyes_002/eyes_002_13.png\": 752,\n\t\"./eyes_002/eyes_002_14.png\": 753,\n\t\"./eyes_002/eyes_002_15.png\": 754,\n\t\"./eyes_002/eyes_002_16.png\": 755,\n\t\"./eyes_002/eyes_002_17.png\": 756,\n\t\"./eyes_002/eyes_002_18.png\": 757,\n\t\"./eyes_002/eyes_002_19.png\": 758,\n\t\"./eyes_002/eyes_002_2.png\": 759,\n\t\"./eyes_002/eyes_002_20.png\": 760,\n\t\"./eyes_002/eyes_002_21.png\": 761,\n\t\"./eyes_002/eyes_002_22.png\": 762,\n\t\"./eyes_002/eyes_002_23.png\": 763,\n\t\"./eyes_002/eyes_002_24.png\": 764,\n\t\"./eyes_002/eyes_002_25.png\": 765,\n\t\"./eyes_002/eyes_002_26.png\": 766,\n\t\"./eyes_002/eyes_002_29.png\": 767,\n\t\"./eyes_002/eyes_002_3.png\": 768,\n\t\"./eyes_002/eyes_002_30.png\": 769,\n\t\"./eyes_002/eyes_002_31.png\": 770,\n\t\"./eyes_002/eyes_002_32.png\": 771,\n\t\"./eyes_002/eyes_002_33.png\": 772,\n\t\"./eyes_002/eyes_002_34.png\": 773,\n\t\"./eyes_002/eyes_002_35.png\": 774,\n\t\"./eyes_002/eyes_002_36.png\": 775,\n\t\"./eyes_002/eyes_002_37.png\": 776,\n\t\"./eyes_002/eyes_002_38.png\": 777,\n\t\"./eyes_002/eyes_002_39.png\": 778,\n\t\"./eyes_002/eyes_002_4.png\": 779,\n\t\"./eyes_002/eyes_002_5.png\": 780,\n\t\"./eyes_002/eyes_002_6.png\": 781,\n\t\"./eyes_002/eyes_002_7.png\": 782,\n\t\"./eyes_002/eyes_002_8.png\": 783,\n\t\"./eyes_002/eyes_002_9.png\": 784,\n\t\"./eyes_003/eyes_003_0.png\": 785,\n\t\"./eyes_003/eyes_003_1.png\": 786,\n\t\"./eyes_003/eyes_003_10.png\": 787,\n\t\"./eyes_003/eyes_003_11.png\": 788,\n\t\"./eyes_003/eyes_003_12.png\": 789,\n\t\"./eyes_003/eyes_003_13.png\": 790,\n\t\"./eyes_003/eyes_003_14.png\": 791,\n\t\"./eyes_003/eyes_003_15.png\": 792,\n\t\"./eyes_003/eyes_003_16.png\": 793,\n\t\"./eyes_003/eyes_003_17.png\": 794,\n\t\"./eyes_003/eyes_003_18.png\": 795,\n\t\"./eyes_003/eyes_003_19.png\": 796,\n\t\"./eyes_003/eyes_003_2.png\": 797,\n\t\"./eyes_003/eyes_003_20.png\": 798,\n\t\"./eyes_003/eyes_003_21.png\": 799,\n\t\"./eyes_003/eyes_003_22.png\": 800,\n\t\"./eyes_003/eyes_003_23.png\": 801,\n\t\"./eyes_003/eyes_003_24.png\": 802,\n\t\"./eyes_003/eyes_003_25.png\": 803,\n\t\"./eyes_003/eyes_003_26.png\": 804,\n\t\"./eyes_003/eyes_003_29.png\": 805,\n\t\"./eyes_003/eyes_003_3.png\": 806,\n\t\"./eyes_003/eyes_003_30.png\": 807,\n\t\"./eyes_003/eyes_003_31.png\": 808,\n\t\"./eyes_003/eyes_003_32.png\": 809,\n\t\"./eyes_003/eyes_003_33.png\": 810,\n\t\"./eyes_003/eyes_003_34.png\": 811,\n\t\"./eyes_003/eyes_003_35.png\": 812,\n\t\"./eyes_003/eyes_003_36.png\": 813,\n\t\"./eyes_003/eyes_003_37.png\": 814,\n\t\"./eyes_003/eyes_003_38.png\": 815,\n\t\"./eyes_003/eyes_003_39.png\": 816,\n\t\"./eyes_003/eyes_003_4.png\": 817,\n\t\"./eyes_003/eyes_003_5.png\": 818,\n\t\"./eyes_003/eyes_003_6.png\": 819,\n\t\"./eyes_003/eyes_003_7.png\": 820,\n\t\"./eyes_003/eyes_003_8.png\": 821,\n\t\"./eyes_003/eyes_003_9.png\": 822,\n\t\"./eyes_004/eyes_004_0.png\": 823,\n\t\"./eyes_004/eyes_004_1.png\": 824,\n\t\"./eyes_004/eyes_004_10.png\": 825,\n\t\"./eyes_004/eyes_004_11.png\": 826,\n\t\"./eyes_004/eyes_004_12.png\": 827,\n\t\"./eyes_004/eyes_004_13.png\": 828,\n\t\"./eyes_004/eyes_004_14.png\": 829,\n\t\"./eyes_004/eyes_004_15.png\": 830,\n\t\"./eyes_004/eyes_004_16.png\": 831,\n\t\"./eyes_004/eyes_004_17.png\": 832,\n\t\"./eyes_004/eyes_004_18.png\": 833,\n\t\"./eyes_004/eyes_004_19.png\": 834,\n\t\"./eyes_004/eyes_004_2.png\": 835,\n\t\"./eyes_004/eyes_004_20.png\": 836,\n\t\"./eyes_004/eyes_004_21.png\": 837,\n\t\"./eyes_004/eyes_004_22.png\": 838,\n\t\"./eyes_004/eyes_004_23.png\": 839,\n\t\"./eyes_004/eyes_004_24.png\": 840,\n\t\"./eyes_004/eyes_004_25.png\": 841,\n\t\"./eyes_004/eyes_004_26.png\": 842,\n\t\"./eyes_004/eyes_004_29.png\": 843,\n\t\"./eyes_004/eyes_004_3.png\": 844,\n\t\"./eyes_004/eyes_004_30.png\": 845,\n\t\"./eyes_004/eyes_004_31.png\": 846,\n\t\"./eyes_004/eyes_004_32.png\": 847,\n\t\"./eyes_004/eyes_004_33.png\": 848,\n\t\"./eyes_004/eyes_004_34.png\": 849,\n\t\"./eyes_004/eyes_004_35.png\": 850,\n\t\"./eyes_004/eyes_004_36.png\": 851,\n\t\"./eyes_004/eyes_004_37.png\": 852,\n\t\"./eyes_004/eyes_004_38.png\": 853,\n\t\"./eyes_004/eyes_004_39.png\": 854,\n\t\"./eyes_004/eyes_004_4.png\": 855,\n\t\"./eyes_004/eyes_004_5.png\": 856,\n\t\"./eyes_004/eyes_004_6.png\": 857,\n\t\"./eyes_004/eyes_004_7.png\": 858,\n\t\"./eyes_004/eyes_004_8.png\": 859,\n\t\"./eyes_004/eyes_004_9.png\": 860,\n\t\"./eyes_005/eyes_005_0.png\": 861,\n\t\"./eyes_005/eyes_005_1.png\": 862,\n\t\"./eyes_005/eyes_005_10.png\": 863,\n\t\"./eyes_005/eyes_005_11.png\": 864,\n\t\"./eyes_005/eyes_005_12.png\": 865,\n\t\"./eyes_005/eyes_005_13.png\": 866,\n\t\"./eyes_005/eyes_005_14.png\": 867,\n\t\"./eyes_005/eyes_005_15.png\": 868,\n\t\"./eyes_005/eyes_005_16.png\": 869,\n\t\"./eyes_005/eyes_005_17.png\": 870,\n\t\"./eyes_005/eyes_005_18.png\": 871,\n\t\"./eyes_005/eyes_005_19.png\": 872,\n\t\"./eyes_005/eyes_005_2.png\": 873,\n\t\"./eyes_005/eyes_005_20.png\": 874,\n\t\"./eyes_005/eyes_005_21.png\": 875,\n\t\"./eyes_005/eyes_005_22.png\": 876,\n\t\"./eyes_005/eyes_005_23.png\": 877,\n\t\"./eyes_005/eyes_005_24.png\": 878,\n\t\"./eyes_005/eyes_005_25.png\": 879,\n\t\"./eyes_005/eyes_005_26.png\": 880,\n\t\"./eyes_005/eyes_005_29.png\": 881,\n\t\"./eyes_005/eyes_005_3.png\": 882,\n\t\"./eyes_005/eyes_005_30.png\": 883,\n\t\"./eyes_005/eyes_005_31.png\": 884,\n\t\"./eyes_005/eyes_005_32.png\": 885,\n\t\"./eyes_005/eyes_005_33.png\": 886,\n\t\"./eyes_005/eyes_005_34.png\": 887,\n\t\"./eyes_005/eyes_005_35.png\": 888,\n\t\"./eyes_005/eyes_005_36.png\": 889,\n\t\"./eyes_005/eyes_005_37.png\": 890,\n\t\"./eyes_005/eyes_005_38.png\": 891,\n\t\"./eyes_005/eyes_005_39.png\": 892,\n\t\"./eyes_005/eyes_005_4.png\": 893,\n\t\"./eyes_005/eyes_005_5.png\": 894,\n\t\"./eyes_005/eyes_005_6.png\": 895,\n\t\"./eyes_005/eyes_005_7.png\": 896,\n\t\"./eyes_005/eyes_005_8.png\": 897,\n\t\"./eyes_005/eyes_005_9.png\": 898\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 708;","import { SaveGame } from \"oni-save-parser\";\r\nimport { LoadingStatus } from \"../state\";\r\nimport { AnyAction } from \"redux\";\r\n\r\nexport const ACTION_RECEIVE_ONISAVE_BEGIN = \"oni-save/receive:begin\";\r\nexport const receiveOniSaveBegin = (\r\n  operation: LoadingStatus.Loading | LoadingStatus.Saving,\r\n  clearExisting?: boolean\r\n) => ({\r\n  type: ACTION_RECEIVE_ONISAVE_BEGIN as typeof ACTION_RECEIVE_ONISAVE_BEGIN,\r\n  payload: { clearExisting },\r\n  meta: { operation }\r\n});\r\nexport type ReceiveOniSaveBeginAction = ReturnType<typeof receiveOniSaveBegin>;\r\n\r\nexport const ACTION_RECEIVE_ONISAVE_ERROR = \"oni-save/receive:error\";\r\nexport const receiveOniSaveError = (\r\n  error: Error,\r\n  operation: LoadingStatus.Loading | LoadingStatus.Saving\r\n) => ({\r\n  type: ACTION_RECEIVE_ONISAVE_ERROR as typeof ACTION_RECEIVE_ONISAVE_ERROR,\r\n  payload: error,\r\n  meta: { operation }\r\n});\r\nexport type ReceiveOniSaveErrorAction = ReturnType<typeof receiveOniSaveError>;\r\n\r\nexport const ACTION_RECEIVE_ONISAVE_SUCCESS = \"oni-save/receive:success\";\r\nexport const receiveOniSaveSuccess = (\r\n  oniSave: SaveGame,\r\n  operation: LoadingStatus.Loading | LoadingStatus.Saving\r\n) => ({\r\n  type: ACTION_RECEIVE_ONISAVE_SUCCESS as typeof ACTION_RECEIVE_ONISAVE_SUCCESS,\r\n  payload: oniSave,\r\n  meta: { operation }\r\n});\r\nexport type ReceiveOniSaveSuccessAction = ReturnType<\r\n  typeof receiveOniSaveSuccess\r\n>;\r\n\r\nexport type ReceiveOniSaveAction =\r\n  | ReceiveOniSaveBeginAction\r\n  | ReceiveOniSaveErrorAction\r\n  | ReceiveOniSaveSuccessAction;\r\n\r\nconst types = [\r\n  ACTION_RECEIVE_ONISAVE_BEGIN,\r\n  ACTION_RECEIVE_ONISAVE_ERROR,\r\n  ACTION_RECEIVE_ONISAVE_SUCCESS\r\n];\r\nexport function isReceiveOniSaveAction(\r\n  action: AnyAction\r\n): action is ReceiveOniSaveAction {\r\n  return types.indexOf(action.type) !== -1;\r\n}\r\n","import AbstractLoadStatus from \"./AbstractLoadStatus\";\r\nexport default AbstractLoadStatus;\r\n","import { AnyAction } from \"redux\";\r\n\r\nexport const ACTION_ONISAVE_IMPORT_BEHAVIORS = \"oni-save/import-behaviors\";\r\nexport const importBehaviors = (gameObjectId: number, file: File) => ({\r\n  type: ACTION_ONISAVE_IMPORT_BEHAVIORS as typeof ACTION_ONISAVE_IMPORT_BEHAVIORS,\r\n  payload: { gameObjectId, file }\r\n});\r\nexport type ImportBehaviorsAction = ReturnType<typeof importBehaviors>;\r\n\r\nexport const ACTION_ONISAVE_IMPORT_WARN_CHECKSUM =\r\n  \"oni-save/import/warn-checksum\";\r\nexport const importWarnChecksum = () => ({\r\n  type: ACTION_ONISAVE_IMPORT_WARN_CHECKSUM as typeof ACTION_ONISAVE_IMPORT_WARN_CHECKSUM\r\n});\r\nexport type ImportWarnChecksumAction = ReturnType<typeof importWarnChecksum>;\r\nexport function isImportWarnChecksumAction(\r\n  action: AnyAction\r\n): action is ImportWarnChecksumAction {\r\n  return action.type === ACTION_ONISAVE_IMPORT_WARN_CHECKSUM;\r\n}\r\n\r\nexport const ACTION_ONISAVE_IMPORT_CONFIRM = \"oni-save/import/confirm\";\r\nexport const importConfirm = (doImport: boolean) => ({\r\n  type: ACTION_ONISAVE_IMPORT_CONFIRM as typeof ACTION_ONISAVE_IMPORT_CONFIRM,\r\n  payload: doImport\r\n});\r\nexport type ImportConfirmAction = ReturnType<typeof importConfirm>;\r\nexport function isImportConfirmAction(\r\n  action: AnyAction\r\n): action is ImportWarnChecksumAction {\r\n  return action.type === ACTION_ONISAVE_IMPORT_CONFIRM;\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nexport enum BehaviorDataTarget {\r\n  Template = \"templateData\",\r\n  Extra = \"extraData\"\r\n}\r\n\r\nexport const ACTION_ONISAVE_MODIFY_BEHAVIOR = \"oni-save/modify-behavior\";\r\nexport const modifyBehavior = (\r\n  gameObjectId: number,\r\n  behaviorId: string,\r\n  target: BehaviorDataTarget,\r\n  value: any\r\n) => ({\r\n  type: ACTION_ONISAVE_MODIFY_BEHAVIOR as typeof ACTION_ONISAVE_MODIFY_BEHAVIOR,\r\n  payload: { gameObjectId, behaviorId, target, value }\r\n});\r\nexport type ModifyBehaviorAction = ReturnType<typeof modifyBehavior>;\r\n\r\nexport function isModifyBehaviorAction(\r\n  action: AnyAction\r\n): action is ModifyBehaviorAction {\r\n  return action.type === ACTION_ONISAVE_MODIFY_BEHAVIOR;\r\n}\r\n","var map = {\n\t\"./body_001/body_001_0.png\": 900,\n\t\"./body_001/body_001_1.png\": 901,\n\t\"./body_001/body_001_10.png\": 902,\n\t\"./body_001/body_001_11.png\": 903,\n\t\"./body_001/body_001_12.png\": 904,\n\t\"./body_001/body_001_2.png\": 905,\n\t\"./body_001/body_001_20.png\": 906,\n\t\"./body_001/body_001_21.png\": 907,\n\t\"./body_001/body_001_22.png\": 908,\n\t\"./body_001/body_001_23.png\": 909,\n\t\"./body_001/body_001_24.png\": 910,\n\t\"./body_001/body_001_3.png\": 911,\n\t\"./body_001/body_001_4.png\": 912,\n\t\"./body_001/body_001_5.png\": 913,\n\t\"./body_002/body_002_0.png\": 914,\n\t\"./body_002/body_002_1.png\": 915,\n\t\"./body_002/body_002_10.png\": 916,\n\t\"./body_002/body_002_11.png\": 917,\n\t\"./body_002/body_002_12.png\": 918,\n\t\"./body_002/body_002_2.png\": 919,\n\t\"./body_002/body_002_20.png\": 920,\n\t\"./body_002/body_002_21.png\": 921,\n\t\"./body_002/body_002_22.png\": 922,\n\t\"./body_002/body_002_23.png\": 923,\n\t\"./body_002/body_002_24.png\": 924,\n\t\"./body_002/body_002_3.png\": 925,\n\t\"./body_002/body_002_4.png\": 926,\n\t\"./body_002/body_002_5.png\": 927,\n\t\"./body_003/body_003_0.png\": 928,\n\t\"./body_003/body_003_1.png\": 929,\n\t\"./body_003/body_003_10.png\": 930,\n\t\"./body_003/body_003_11.png\": 931,\n\t\"./body_003/body_003_12.png\": 932,\n\t\"./body_003/body_003_2.png\": 933,\n\t\"./body_003/body_003_20.png\": 934,\n\t\"./body_003/body_003_21.png\": 935,\n\t\"./body_003/body_003_22.png\": 936,\n\t\"./body_003/body_003_23.png\": 937,\n\t\"./body_003/body_003_24.png\": 938,\n\t\"./body_003/body_003_3.png\": 939,\n\t\"./body_003/body_003_4.png\": 940,\n\t\"./body_003/body_003_5.png\": 941,\n\t\"./body_004/body_004_0.png\": 942,\n\t\"./body_004/body_004_1.png\": 943,\n\t\"./body_004/body_004_10.png\": 944,\n\t\"./body_004/body_004_11.png\": 945,\n\t\"./body_004/body_004_12.png\": 946,\n\t\"./body_004/body_004_2.png\": 947,\n\t\"./body_004/body_004_20.png\": 948,\n\t\"./body_004/body_004_21.png\": 949,\n\t\"./body_004/body_004_22.png\": 950,\n\t\"./body_004/body_004_23.png\": 951,\n\t\"./body_004/body_004_24.png\": 952,\n\t\"./body_004/body_004_3.png\": 953,\n\t\"./body_004/body_004_4.png\": 954,\n\t\"./body_004/body_004_5.png\": 955\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 899;","import { AnyAction } from \"redux\";\r\n\r\nexport const ACTION_ONISAVE_PARSE_PROGRESS = \"onisave/parse-progress\";\r\n\r\nexport const parseProgress = (message: string) => ({\r\n  type: ACTION_ONISAVE_PARSE_PROGRESS as typeof ACTION_ONISAVE_PARSE_PROGRESS,\r\n  payload: { message }\r\n});\r\n\r\nexport type ParseProgressAction = ReturnType<typeof parseProgress>;\r\n\r\nexport function isParseProgressAction(\r\n  action: AnyAction\r\n): action is ParseProgressAction {\r\n  return action.type === ACTION_ONISAVE_PARSE_PROGRESS;\r\n}\r\n","import * as React from \"react\";\r\nimport { AITraitsBehavior } from \"oni-save-parser\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport { Theme, createStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport AbstractBehaviorEditor from \"@/services/oni-save/components/AbstractBehaviorEditor\";\r\n\r\nconst TraitsEditor = AbstractBehaviorEditor.ofType(AITraitsBehavior);\r\n\r\nexport interface DuplicantTraitsProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\"\r\n    },\r\n    trait: {\r\n      textAlign: \"center\",\r\n      whiteSpace: \"nowrap\"\r\n    }\r\n  });\r\n\r\ntype Props = DuplicantTraitsProps & StyleProps<typeof styles> & WithTranslation;\r\nconst DuplicantTraits: React.SFC<Props> = ({ classes, gameObjectId, t }) => (\r\n  <TraitsEditor gameObjectId={gameObjectId}>\r\n    {({ templateData }) => (\r\n      <div className={classes.root}>\r\n        {(templateData || { TraitIds: [] }).TraitIds.map(trait => (\r\n          <Typography\r\n            key={trait}\r\n            className={classes.trait}\r\n            variant=\"body2\"\r\n            component=\"div\"\r\n            title={t(`oni:DUPLICANTS.TRAITS.${trait.toUpperCase()}.DESC`, {\r\n              defaultValue: \"\"\r\n            })}\r\n          >\r\n            {t(`oni:DUPLICANTS.TRAITS.${trait.toUpperCase()}.NAME`, {\r\n              defaultValue: trait\r\n            })}\r\n          </Typography>\r\n        ))}\r\n      </div>\r\n    )}\r\n  </TraitsEditor>\r\n);\r\n\r\nexport default withStyles(styles)(withTranslation()(DuplicantTraits));\r\n","import DuplicantAttributes from \"./DuplicantAttributes\";\r\nexport default DuplicantAttributes;\r\n","import * as React from \"react\";\r\nimport classnames from \"classnames\";\r\n\r\nimport { Theme, createStyles, withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Attribute from \"./components/Attribute\";\r\n\r\nexport interface DuplicantAttributesProps {\r\n  className?: string;\r\n  gameObjectId: number;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      flexWrap: \"wrap\",\r\n      width: theme.spacing.unit * 30,\r\n      height: theme.spacing.unit * 20,\r\n      marginLeft: -theme.spacing.unit / 2,\r\n      marginRight: -theme.spacing.unit / 2\r\n    },\r\n    item: {\r\n      marginLeft: theme.spacing.unit / 2,\r\n      marginRight: theme.spacing.unit / 2\r\n    }\r\n  });\r\n\r\ntype Props = DuplicantAttributesProps & StyleProps<typeof styles>;\r\nconst DuplicantAttributes: React.SFC<Props> = ({\r\n  className,\r\n  classes,\r\n  gameObjectId\r\n}) => (\r\n  <div className={classnames(className, classes.root)}>\r\n    <Attribute gameObjectId={gameObjectId} attributeId=\"Athletics\" />\r\n    <Attribute gameObjectId={gameObjectId} attributeId=\"Cooking\" />\r\n    <Attribute gameObjectId={gameObjectId} attributeId=\"Digging\" />\r\n    <Attribute gameObjectId={gameObjectId} attributeId=\"Caring\" />\r\n    <Attribute gameObjectId={gameObjectId} attributeId=\"Ranching\" />\r\n    <Attribute gameObjectId={gameObjectId} attributeId=\"Machinery\" />\r\n\r\n    <Attribute gameObjectId={gameObjectId} attributeId=\"Construction\" />\r\n    <Attribute gameObjectId={gameObjectId} attributeId=\"Art\" />\r\n    <Attribute gameObjectId={gameObjectId} attributeId=\"Botanist\" />\r\n    <Attribute gameObjectId={gameObjectId} attributeId=\"Learning\" />\r\n    <Attribute gameObjectId={gameObjectId} attributeId=\"Strength\" />\r\n  </div>\r\n);\r\n\r\nexport default withStyles(styles)(DuplicantAttributes);\r\n","import * as React from \"react\";\r\nimport { AIAttributeLevelsBehavior } from \"oni-save-parser\";\r\nimport { find } from \"lodash-es\";\r\n\r\nimport { Trans, WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport ErrorIcon from \"@material-ui/icons/Error\";\r\n\r\nimport AbstractBehaviorEditor from \"@/services/oni-save/components/AbstractBehaviorEditor\";\r\n\r\nconst AttributeEditor = AbstractBehaviorEditor.ofType(\r\n  AIAttributeLevelsBehavior\r\n);\r\n\r\nexport interface AttributeNameProps {\r\n  gameObjectId: number;\r\n  attributeId: string;\r\n}\r\n\r\ntype Props = AttributeNameProps & WithTranslation;\r\nconst AttributeName: React.SFC<Props> = ({ gameObjectId, attributeId, t }) => (\r\n  <AttributeEditor gameObjectId={gameObjectId}>\r\n    {({ templateData }) => {\r\n      if (!templateData) {\r\n        return <div>Error: No Data</div>;\r\n      }\r\n      let attribute = find(\r\n        templateData.saveLoadLevels,\r\n        x => x.attributeId === attributeId\r\n      );\r\n      return (\r\n        <Typography\r\n          component=\"span\"\r\n          variant=\"body2\"\r\n          title={t(`oni:DUPLICANTS.ATTRIBUTES.${attributeId}.DESC`, {\r\n            defaultValue: \"\"\r\n          })}\r\n        >\r\n          {attribute && signPrefix(attribute.level)}\r\n          {!attribute && <ErrorIcon />}{\" \"}\r\n          <Trans i18nKey={`oni:DUPLICANTS.ATTRIBUTES.${attributeId}.NAME`}>\r\n            {attributeId}\r\n          </Trans>\r\n        </Typography>\r\n      );\r\n    }}\r\n  </AttributeEditor>\r\n);\r\n\r\nexport default withTranslation()(AttributeName);\r\n\r\nfunction signPrefix(x: number): string {\r\n  if (x > 0) {\r\n    return `+${x}`;\r\n  } else if (x < 0) {\r\n    return `-${x}`;\r\n  }\r\n  return String(x);\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport ButtonLink from \"@/components/ButtonLink\";\r\n\r\nexport interface EditButtonProps {\r\n  className?: string;\r\n  gameObjectId: number;\r\n}\r\ntype Props = EditButtonProps & WithTranslation;\r\nconst EditButton: React.SFC<Props> = ({ className, gameObjectId, t }) => (\r\n  <ButtonLink\r\n    className={className}\r\n    to={`/duplicants/${gameObjectId}`}\r\n    size=\"small\"\r\n    title={t(\"duplicant.verbs.edit_titlecase\")}\r\n  >\r\n    <EditIcon />\r\n  </ButtonLink>\r\n);\r\nexport default withTranslation()(EditButton);\r\n","import * as React from \"react\";\r\n\r\nimport { withRouter, RouteComponentProps } from \"react-router\";\r\n\r\nimport Button, { ButtonProps } from \"@material-ui/core/Button\";\r\n\r\nexport interface ButtonLinkProps\r\n  extends Omit<ButtonProps, \"href\" | \"component\"> {\r\n  to: string;\r\n}\r\n\r\ntype Props = ButtonLinkProps & RouteComponentProps;\r\nclass ButtonLink extends React.Component<Props> {\r\n  render() {\r\n    const {\r\n      children,\r\n      history,\r\n      location,\r\n      to,\r\n      staticContext,\r\n      ...props\r\n    } = this.props;\r\n    return (\r\n      <Button\r\n        {...props}\r\n        component=\"a\"\r\n        href={history.createHref({ pathname: to })}\r\n        onClick={this._onClick}\r\n      >\r\n        {children}\r\n      </Button>\r\n    );\r\n  }\r\n\r\n  private _onClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\r\n    // Code copied from implementation of Link in react-router-dom\r\n    const { onClick, target, history } = this.props;\r\n\r\n    if (onClick) {\r\n      onClick(event);\r\n    }\r\n\r\n    if (\r\n      !event.defaultPrevented && // onClick prevented default\r\n      event.button === 0 && // ignore everything but left clicks\r\n      (!target || target === \"_self\") && // let browser handle \"target=_blank\" etc.\r\n      !isModifierEvent(event) // ignore clicks with modifier keys\r\n    ) {\r\n      event.preventDefault();\r\n\r\n      history.push(this.props.to);\r\n    }\r\n  };\r\n}\r\nexport default withRouter(ButtonLink);\r\n\r\nfunction isModifierEvent(event: React.MouseEvent<any>) {\r\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\r\n}\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\n\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\n\r\nimport CopyMenuItem from \"./components/CopyMenuItem\";\r\n\r\nimport mapDispatchToProps, { DispatchProps } from \"./dispatch-props\";\r\nimport ExportMenuItem from \"./components/ExportMenuItem\";\r\nimport AbstractImportButton from \"@/services/oni-save/components/AbstractImportButton\";\r\nimport PasteMenuItem from \"./components/PasteMenuItem\";\r\n\r\nexport interface DuplicantMenuProps {\r\n  gameObjectId: number;\r\n}\r\n\r\ntype Props = DuplicantMenuProps & DispatchProps;\r\nconst DuplicantMenu: React.SFC<Props> = ({ gameObjectId, cloneDuplicant }) => {\r\n  const [anchorEl, setAnchorEl] = React.useState<HTMLElement | null>(null);\r\n\r\n  const onOpen = React.useCallback((e: React.MouseEvent<HTMLElement>) => {\r\n    setAnchorEl(e.currentTarget);\r\n  }, []);\r\n\r\n  const onClose = React.useCallback(() => {\r\n    setAnchorEl(null);\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <IconButton\r\n        aria-owns={anchorEl ? \"duplicant-menu\" : undefined}\r\n        aria-haspopup=\"true\"\r\n        onClick={onOpen}\r\n      >\r\n        <MoreVertIcon />\r\n      </IconButton>\r\n      <Menu\r\n        id=\"duplicant-menu\"\r\n        anchorEl={anchorEl}\r\n        open={Boolean(anchorEl)}\r\n        onClose={onClose}\r\n      >\r\n        <CopyMenuItem gameObjectId={gameObjectId} onClose={onClose} />\r\n        <PasteMenuItem gameObjectId={gameObjectId} onClose={onClose} />\r\n        <Divider />\r\n        <AbstractImportButton gameObjectId={gameObjectId} onComplete={onClose}>\r\n          {({ onClick }) => <MenuItem onClick={onClick}>Import</MenuItem>}\r\n        </AbstractImportButton>\r\n        <ExportMenuItem gameObjectId={gameObjectId} onClose={onClose} />\r\n        <Divider />\r\n        <MenuItem\r\n          onClick={() => {\r\n            onClose();\r\n            cloneDuplicant(gameObjectId);\r\n          }}\r\n        >\r\n          Clone\r\n        </MenuItem>\r\n      </Menu>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(DuplicantMenu);\r\n","import * as React from \"react\";\r\nimport {\r\n  AccessorizerBehavior,\r\n  AIAttributeLevelsBehavior,\r\n  AITraitsBehavior,\r\n  MinionResumeBehavior\r\n} from \"oni-save-parser\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nimport AbstractCopyButton, {\r\n  CopyTarget\r\n} from \"@/services/oni-save/components/AbstractCopyButton\";\r\n\r\nexport interface CopyMenuItemProps {\r\n  gameObjectId: number;\r\n  onClose(): void;\r\n}\r\nconst copyTargets: CopyTarget[] = [\r\n  {\r\n    name: \"Appearance\",\r\n    behavior: AccessorizerBehavior\r\n  },\r\n  {\r\n    name: \"Attributes\",\r\n    behavior: AIAttributeLevelsBehavior\r\n  },\r\n  {\r\n    name: \"Traits\",\r\n    behavior: AITraitsBehavior\r\n  },\r\n  {\r\n    name: \"Job Skills\",\r\n    behavior: MinionResumeBehavior\r\n  }\r\n];\r\n\r\ntype Props = CopyMenuItemProps;\r\nconst CopyMenuItem: React.SFC<Props> = ({ gameObjectId, onClose }) => {\r\n  return (\r\n    <AbstractCopyButton\r\n      gameObjectId={gameObjectId}\r\n      targets={copyTargets}\r\n      onComplete={onClose}\r\n    >\r\n      {({ onClick }) => (\r\n        <MenuItem onClick={onClick}>\r\n          <Trans i18nKey=\"data.verbs.copy_titlecase\">Copy</Trans>\r\n        </MenuItem>\r\n      )}\r\n    </AbstractCopyButton>\r\n  );\r\n};\r\n\r\nexport default CopyMenuItem;\r\n","import AbstractCopyButton from \"./AbstractCopyButton\";\r\nexport default AbstractCopyButton;\r\n\r\nexport * from \"./props\";\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport { AbstractCopyButtonProps } from \"./props\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./dispatch-props\";\r\n\r\ntype Props = AbstractCopyButtonProps & DispatchProps;\r\nconst AbstractCopyButton: React.SFC<Props> = ({\r\n  targets,\r\n  onCopy,\r\n  children,\r\n  onComplete\r\n}) => {\r\n  const [isDialogOpen, setDialogOpen] = React.useState(false);\r\n  const [selectedTargets, setSelectedTargets] = React.useState<string[]>([]);\r\n\r\n  function addTarget(value: string) {\r\n    if (selectedTargets.indexOf(value) !== -1) {\r\n      return;\r\n    }\r\n    setSelectedTargets([...selectedTargets, value]);\r\n  }\r\n\r\n  function removeTarget(value: string) {\r\n    setSelectedTargets(selectedTargets.filter(x => x !== value));\r\n  }\r\n\r\n  function close() {\r\n    if (onComplete) {\r\n      onComplete();\r\n    }\r\n    setDialogOpen(false);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {children({ onClick: () => setDialogOpen(true) })}\r\n      <Dialog open={isDialogOpen} airia-labeledby=\"set-copy-targets-title\">\r\n        {isDialogOpen && (\r\n          <React.Fragment>\r\n            <DialogTitle id=\"set-copy-targets-title\">\r\n              <Trans i18nKey=\"data.verbs.copy_titlecase\">Copy</Trans>\r\n            </DialogTitle>\r\n            <DialogContent>\r\n              {targets.map(({ name, behavior }) => (\r\n                <FormControlLabel\r\n                  key={behavior}\r\n                  control={\r\n                    <Checkbox\r\n                      checked={selectedTargets.indexOf(behavior) !== -1}\r\n                      onChange={e =>\r\n                        e.target.checked\r\n                          ? addTarget(behavior)\r\n                          : removeTarget(behavior)\r\n                      }\r\n                      color=\"primary\"\r\n                    />\r\n                  }\r\n                  label={name}\r\n                />\r\n              ))}\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button onClick={close}>\r\n                <Trans i18nKey=\"dialog.verbs.cancel_titlecase\">Cancel</Trans>\r\n              </Button>\r\n              <Button\r\n                onClick={() => {\r\n                  onCopy(selectedTargets);\r\n                  close();\r\n                }}\r\n                autoFocus\r\n              >\r\n                <Trans i18nKey=\"data.verbs.copy_titlecase\">Copy</Trans>\r\n              </Button>\r\n            </DialogActions>\r\n          </React.Fragment>\r\n        )}\r\n      </Dialog>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(AbstractCopyButton);\r\n","import * as React from \"react\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport AbstractLoadStatus from \"@/services/oni-save/components/AbstractLoadStatus\";\r\nimport { LoadingStatus } from \"@/services/oni-save/state\";\r\n\r\nconst RedirectIfNoSave: React.SFC = () => (\r\n  <AbstractLoadStatus>\r\n    {({ status }) => {\r\n      if (status === LoadingStatus.Idle) {\r\n        return <Redirect to=\"/\" />;\r\n      }\r\n      return <></>;\r\n    }}\r\n  </AbstractLoadStatus>\r\n);\r\n\r\nexport default RedirectIfNoSave;\r\n","import { AbstractCopyButtonProps } from \"./props\";\r\nimport { copyBehaviors } from \"../../actions/copy-behaviors\";\r\n\r\nconst mapDispatchToProps = function(\r\n  dispatch: Function,\r\n  props: AbstractCopyButtonProps\r\n) {\r\n  return {\r\n    onCopy: (behaviors: string[]) =>\r\n      dispatch(copyBehaviors(props.gameObjectId, behaviors))\r\n  };\r\n};\r\nexport type DispatchProps = ReturnType<typeof mapDispatchToProps>;\r\nexport default mapDispatchToProps;\r\n","import { cloneDuplicant } from \"@/services/oni-save/actions/clone-duplicant\";\r\n\r\nconst mapDispatchToProps = {\r\n  cloneDuplicant\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import * as React from \"react\";\r\nimport {\r\n  AccessorizerBehavior,\r\n  AIAttributeLevelsBehavior,\r\n  AITraitsBehavior,\r\n  MinionResumeBehavior\r\n} from \"oni-save-parser\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nimport AbstractExportButton, {\r\n  ExportTarget\r\n} from \"@/services/oni-save/components/AbstractExportButton\";\r\n\r\nexport interface ExportMenuItemProps {\r\n  gameObjectId: number;\r\n  onClose(): void;\r\n}\r\nconst exportTargets: ExportTarget[] = [\r\n  {\r\n    name: \"Appearance\",\r\n    behavior: AccessorizerBehavior\r\n  },\r\n  {\r\n    name: \"Attributes\",\r\n    behavior: AIAttributeLevelsBehavior\r\n  },\r\n  {\r\n    name: \"Traits\",\r\n    behavior: AITraitsBehavior\r\n  },\r\n  {\r\n    name: \"Job Skills\",\r\n    behavior: MinionResumeBehavior\r\n  }\r\n];\r\n\r\ntype Props = ExportMenuItemProps;\r\nconst ExportMenuItem: React.SFC<Props> = ({ gameObjectId, onClose }) => {\r\n  return (\r\n    <AbstractExportButton\r\n      gameObjectId={gameObjectId}\r\n      targets={exportTargets}\r\n      onComplete={onClose}\r\n    >\r\n      {({ onClick }) => (\r\n        <MenuItem onClick={onClick}>\r\n          <Trans i18nKey=\"data.verbs.export_titlecase\">Export</Trans>\r\n        </MenuItem>\r\n      )}\r\n    </AbstractExportButton>\r\n  );\r\n};\r\n\r\nexport default ExportMenuItem;\r\n","import AbstractExportButton from \"./AbstractExportButton\";\r\nexport default AbstractExportButton;\r\nexport * from \"./props\";\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport { AbstractExportButtonProps } from \"./props\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./dispatch-props\";\r\n\r\ntype Props = AbstractExportButtonProps & DispatchProps;\r\nconst AbstractExportButton: React.SFC<Props> = ({\r\n  targets,\r\n  children,\r\n  onExport,\r\n  onComplete\r\n}) => {\r\n  const [isDialogOpen, setDialogOpen] = React.useState(false);\r\n  const [selectedTargets, setSelectedTargets] = React.useState<string[]>([]);\r\n\r\n  function addTarget(value: string) {\r\n    if (selectedTargets.indexOf(value) !== -1) {\r\n      return;\r\n    }\r\n    setSelectedTargets([...selectedTargets, value]);\r\n  }\r\n\r\n  function removeTarget(value: string) {\r\n    setSelectedTargets(selectedTargets.filter(x => x !== value));\r\n  }\r\n\r\n  function close() {\r\n    if (onComplete) {\r\n      onComplete();\r\n    }\r\n    setDialogOpen(false);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {children({ onClick: () => setDialogOpen(true) })}\r\n      <Dialog open={isDialogOpen} airia-labeledby=\"set-copy-targets-title\">\r\n        {isDialogOpen && (\r\n          <React.Fragment>\r\n            <DialogTitle id=\"set-copy-targets-title\">\r\n              <Trans i18nKey=\"data.verbs.export_titlecase\">Export</Trans>\r\n            </DialogTitle>\r\n            <DialogContent>\r\n              {targets.map(({ name, behavior }) => (\r\n                <FormControlLabel\r\n                  key={behavior}\r\n                  control={\r\n                    <Checkbox\r\n                      checked={selectedTargets.indexOf(behavior) !== -1}\r\n                      onChange={e =>\r\n                        e.target.checked\r\n                          ? addTarget(behavior)\r\n                          : removeTarget(behavior)\r\n                      }\r\n                      color=\"primary\"\r\n                    />\r\n                  }\r\n                  label={name}\r\n                />\r\n              ))}\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button onClick={close}>\r\n                <Trans i18nKey=\"dialog.verbs.cancel_titlecase\">Cancel</Trans>\r\n              </Button>\r\n              <Button\r\n                onClick={() => {\r\n                  onExport(selectedTargets);\r\n                  close();\r\n                }}\r\n                autoFocus\r\n              >\r\n                <Trans i18nKey=\"data.verbs.export_titlecase\">Export</Trans>\r\n              </Button>\r\n            </DialogActions>\r\n          </React.Fragment>\r\n        )}\r\n      </Dialog>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(AbstractExportButton);\r\n","import { AbstractExportButtonProps } from \"./props\";\r\nimport { exportBehaviors } from \"../../actions/export-behaviors\";\r\n\r\nconst mapDispatchToProps = function(\r\n  dispatch: Function,\r\n  props: AbstractExportButtonProps\r\n) {\r\n  return {\r\n    onExport: (behaviors: string[]) =>\r\n      dispatch(exportBehaviors(props.gameObjectId, behaviors))\r\n  };\r\n};\r\nexport type DispatchProps = ReturnType<typeof mapDispatchToProps>;\r\nexport default mapDispatchToProps;\r\n"],"sourceRoot":""}